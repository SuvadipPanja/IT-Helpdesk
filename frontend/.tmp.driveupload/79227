var Y5=Object.defineProperty;var X5=(e,t,r)=>t in e?Y5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var up=(e,t,r)=>X5(e,typeof t!="symbol"?t+"":t,r);function Z5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var B2={exports:{}},Cf={},q2={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),Q5=Symbol.for("react.portal"),J5=Symbol.for("react.fragment"),eD=Symbol.for("react.strict_mode"),tD=Symbol.for("react.profiler"),rD=Symbol.for("react.provider"),nD=Symbol.for("react.context"),aD=Symbol.for("react.forward_ref"),sD=Symbol.for("react.suspense"),iD=Symbol.for("react.memo"),oD=Symbol.for("react.lazy"),Lw=Symbol.iterator;function lD(e){return e===null||typeof e!="object"?null:(e=Lw&&e[Lw]||e["@@iterator"],typeof e=="function"?e:null)}var U2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H2=Object.assign,W2={};function Ao(e,t,r){this.props=e,this.context=t,this.refs=W2,this.updater=r||U2}Ao.prototype.isReactComponent={};Ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K2(){}K2.prototype=Ao.prototype;function Og(e,t,r){this.props=e,this.context=t,this.refs=W2,this.updater=r||U2}var Tg=Og.prototype=new K2;Tg.constructor=Og;H2(Tg,Ao.prototype);Tg.isPureReactComponent=!0;var Iw=Array.isArray,V2=Object.prototype.hasOwnProperty,Mg={current:null},G2={key:!0,ref:!0,__self:!0,__source:!0};function Y2(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)V2.call(t,n)&&!G2.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Pc,type:e,key:i,ref:o,props:s,_owner:Mg.current}}function cD(e,t){return{$$typeof:Pc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pc}function uD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zw=/\/+/g;function dp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uD(""+e.key):t.toString(36)}function qu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pc:case Q5:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+dp(o,0):n,Iw(s)?(r="",e!=null&&(r=e.replace(zw,"$&/")+"/"),qu(s,t,r,"",function(d){return d})):s!=null&&(Dg(s)&&(s=cD(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Iw(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+dp(i,l);o+=qu(i,t,r,c,s)}else if(c=lD(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+dp(i,l++),o+=qu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function su(e,t,r){if(e==null)return e;var n=[],s=0;return qu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function dD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},Uu={transition:null},fD={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Uu,ReactCurrentOwner:Mg};function X2(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:su,forEach:function(e,t,r){su(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return su(e,function(){t++}),t},toArray:function(e){return su(e,function(t){return t})||[]},only:function(e){if(!Dg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Ao;De.Fragment=J5;De.Profiler=tD;De.PureComponent=Og;De.StrictMode=eD;De.Suspense=sD;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fD;De.act=X2;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=H2({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Mg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)V2.call(t,c)&&!G2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Pc,type:e.type,key:s,ref:i,props:n,_owner:o}};De.createContext=function(e){return e={$$typeof:nD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rD,_context:e},e.Consumer=e};De.createElement=Y2;De.createFactory=function(e){var t=Y2.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:aD,render:e}};De.isValidElement=Dg;De.lazy=function(e){return{$$typeof:oD,_payload:{_status:-1,_result:e},_init:dD}};De.memo=function(e,t){return{$$typeof:iD,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Uu.transition;Uu.transition={};try{e()}finally{Uu.transition=t}};De.unstable_act=X2;De.useCallback=function(e,t){return wr.current.useCallback(e,t)};De.useContext=function(e){return wr.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};De.useEffect=function(e,t){return wr.current.useEffect(e,t)};De.useId=function(){return wr.current.useId()};De.useImperativeHandle=function(e,t,r){return wr.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return wr.current.useMemo(e,t)};De.useReducer=function(e,t,r){return wr.current.useReducer(e,t,r)};De.useRef=function(e){return wr.current.useRef(e)};De.useState=function(e){return wr.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return wr.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return wr.current.useTransition()};De.version="18.3.1";q2.exports=De;var b=q2.exports;const _m=zn(b),Z2=Z5({__proto__:null,default:_m},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD=b,pD=Symbol.for("react.element"),mD=Symbol.for("react.fragment"),vD=Object.prototype.hasOwnProperty,gD=hD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yD={key:!0,ref:!0,__self:!0,__source:!0};function Q2(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)vD.call(t,n)&&!yD.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:pD,type:e,key:i,ref:o,props:s,_owner:gD.current}}Cf.Fragment=mD;Cf.jsx=Q2;Cf.jsxs=Q2;B2.exports=Cf;var a=B2.exports,J2={exports:{}},Jr={},eE={exports:{}},tE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,R){var L=q.length;q.push(R);e:for(;0<L;){var T=L-1>>>1,I=q[T];if(0<s(I,R))q[T]=R,q[L]=I,L=T;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var R=q[0],L=q.pop();if(L!==R){q[0]=L;e:for(var T=0,I=q.length,U=I>>>1;T<U;){var K=2*(T+1)-1,H=q[K],B=K+1,F=q[B];if(0>s(H,L))B<I&&0>s(F,H)?(q[T]=F,q[B]=L,T=B):(q[T]=H,q[K]=L,T=K);else if(B<I&&0>s(F,L))q[T]=F,q[B]=L,T=B;else break e}}return R}function s(q,R){var L=q.sortIndex-R.sortIndex;return L!==0?L:q.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,m=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var R=r(d);R!==null;){if(R.callback===null)n(d);else if(R.startTime<=q)n(d),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(d)}}function j(q){if(v=!1,w(q),!m)if(r(c)!==null)m=!0,z(N);else{var R=r(d);R!==null&&$(j,R.startTime-q)}}function N(q,R){m=!1,v&&(v=!1,y(k),k=-1),p=!0;var L=h;try{for(w(R),f=r(c);f!==null&&(!(f.expirationTime>R)||q&&!C());){var T=f.callback;if(typeof T=="function"){f.callback=null,h=f.priorityLevel;var I=T(f.expirationTime<=R);R=e.unstable_now(),typeof I=="function"?f.callback=I:f===r(c)&&n(c),w(R)}else n(c);f=r(c)}if(f!==null)var U=!0;else{var K=r(d);K!==null&&$(j,K.startTime-R),U=!1}return U}finally{f=null,h=L,p=!1}}var S=!1,_=null,k=-1,P=5,E=-1;function C(){return!(e.unstable_now()-E<P)}function A(){if(_!==null){var q=e.unstable_now();E=q;var R=!0;try{R=_(!0,q)}finally{R?D():(S=!1,_=null)}}else S=!1}var D;if(typeof x=="function")D=function(){x(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,O=M.port2;M.port1.onmessage=A,D=function(){O.postMessage(null)}}else D=function(){g(A,0)};function z(q){_=q,S||(S=!0,D())}function $(q,R){k=g(function(){q(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,z(N))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var L=h;h=R;try{return q()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,R){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var L=h;h=q;try{return R()}finally{h=L}},e.unstable_scheduleCallback=function(q,R,L){var T=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?T+L:T):L=T,q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=L+I,q={id:u++,callback:R,priorityLevel:q,startTime:L,expirationTime:I,sortIndex:-1},L>T?(q.sortIndex=L,t(d,q),r(c)===null&&q===r(d)&&(v?(y(k),k=-1):v=!0,$(j,L-T))):(q.sortIndex=I,t(c,q),m||p||(m=!0,z(N))),q},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(q){var R=h;return function(){var L=h;h=R;try{return q.apply(this,arguments)}finally{h=L}}}})(tE);eE.exports=tE;var xD=eE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD=b,Zr=xD;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rE=new Set,Ql={};function Pi(e,t){co(e,t),co(e+"Capture",t)}function co(e,t){for(Ql[e]=t,e=0;e<t.length;e++)rE.add(t[e])}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,jD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$w={},Fw={};function wD(e){return km.call(Fw,e)?!0:km.call($w,e)?!1:jD.test(e)?Fw[e]=!0:($w[e]=!0,!1)}function ND(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _D(e,t,r,n){if(t===null||typeof t>"u"||ND(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nr[e]=new Nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nr[t]=new Nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nr[e]=new Nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nr[e]=new Nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nr[e]=new Nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nr[e]=new Nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nr[e]=new Nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nr[e]=new Nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nr[e]=new Nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rg=/[\-:]([a-z])/g;function Lg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rg,Lg);nr[t]=new Nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rg,Lg);nr[t]=new Nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rg,Lg);nr[t]=new Nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ig(e,t,r,n){var s=nr.hasOwnProperty(t)?nr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_D(t,r,s,n)&&(r=null),n||s===null?wD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wa=bD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),$i=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),zg=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),nE=Symbol.for("react.provider"),aE=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),Cm=Symbol.for("react.suspense_list"),Fg=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),sE=Symbol.for("react.offscreen"),Bw=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=Bw&&e[Bw]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,fp;function Tl(e){if(fp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fp=t&&t[1]||""}return`
`+fp+e}var hp=!1;function pp(e,t){if(!e||hp)return"";hp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{hp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Tl(e):""}function kD(e){switch(e.tag){case 5:return Tl(e.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return e=pp(e.type,!1),e;case 11:return e=pp(e.type.render,!1),e;case 1:return e=pp(e.type,!0),e;default:return""}}function Pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fi:return"Fragment";case $i:return"Portal";case Sm:return"Profiler";case zg:return"StrictMode";case Em:return"Suspense";case Cm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aE:return(e.displayName||"Context")+".Consumer";case nE:return(e._context.displayName||"Context")+".Provider";case $g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fg:return t=e.displayName||null,t!==null?t:Pm(e.type)||"Memo";case is:t=e._payload,e=e._init;try{return Pm(e(t))}catch{}}return null}function SD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(t);case 8:return t===zg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ED(e){var t=iE(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){e._valueTracker||(e._valueTracker=ED(e))}function oE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=iE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function id(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Am(e,t){var r=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qw(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Cs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lE(e,t){t=t.checked,t!=null&&Ig(e,"checked",t,!1)}function Om(e,t){lE(e,t);var r=Cs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tm(e,t.type,Cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tm(e,t,r){(t!=="number"||id(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ml=Array.isArray;function Ji(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Cs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(he(92));if(Ml(r)){if(1<r.length)throw Error(he(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Cs(r)}}function cE(e,t){var r=Cs(t.value),n=Cs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ww(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lu,dE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lu=lu||document.createElement("div"),lu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CD=["Webkit","ms","Moz","O"];Object.keys(Fl).forEach(function(e){CD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fl[t]=Fl[e]})});function fE(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fl.hasOwnProperty(e)&&Fl[e]?(""+t).trim():t+"px"}function hE(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=fE(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var PD=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rm(e,t){if(t){if(PD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Lm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=null;function Bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zm=null,eo=null,to=null;function Kw(e){if(e=Tc(e)){if(typeof zm!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Mf(t),zm(e.stateNode,e.type,t))}}function pE(e){eo?to?to.push(e):to=[e]:eo=e}function mE(){if(eo){var e=eo,t=to;if(to=eo=null,Kw(e),t)for(e=0;e<t.length;e++)Kw(t[e])}}function vE(e,t){return e(t)}function gE(){}var mp=!1;function yE(e,t,r){if(mp)return e(t,r);mp=!0;try{return vE(e,t,r)}finally{mp=!1,(eo!==null||to!==null)&&(gE(),mE())}}function ec(e,t){var r=e.stateNode;if(r===null)return null;var n=Mf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(he(231,t,typeof r));return r}var $m=!1;if(Ta)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){$m=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{$m=!1}function AD(e,t,r,n,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Bl=!1,od=null,ld=!1,Fm=null,OD={onError:function(e){Bl=!0,od=e}};function TD(e,t,r,n,s,i,o,l,c){Bl=!1,od=null,AD.apply(OD,arguments)}function MD(e,t,r,n,s,i,o,l,c){if(TD.apply(this,arguments),Bl){if(Bl){var d=od;Bl=!1,od=null}else throw Error(he(198));ld||(ld=!0,Fm=d)}}function Ai(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vw(e){if(Ai(e)!==e)throw Error(he(188))}function DD(e){var t=e.alternate;if(!t){if(t=Ai(e),t===null)throw Error(he(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Vw(s),e;if(i===n)return Vw(s),t;i=i.sibling}throw Error(he(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(he(189))}}if(r.alternate!==n)throw Error(he(190))}if(r.tag!==3)throw Error(he(188));return r.stateNode.current===r?e:t}function bE(e){return e=DD(e),e!==null?jE(e):null}function jE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jE(e);if(t!==null)return t;e=e.sibling}return null}var wE=Zr.unstable_scheduleCallback,Gw=Zr.unstable_cancelCallback,RD=Zr.unstable_shouldYield,LD=Zr.unstable_requestPaint,Nt=Zr.unstable_now,ID=Zr.unstable_getCurrentPriorityLevel,qg=Zr.unstable_ImmediatePriority,NE=Zr.unstable_UserBlockingPriority,cd=Zr.unstable_NormalPriority,zD=Zr.unstable_LowPriority,_E=Zr.unstable_IdlePriority,Pf=null,Jn=null;function $D(e){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Pf,e,void 0,(e.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:qD,FD=Math.log,BD=Math.LN2;function qD(e){return e>>>=0,e===0?32:31-(FD(e)/BD|0)|0}var cu=64,uu=4194304;function Dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ud(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Dl(l):(i&=o,i!==0&&(n=Dl(i)))}else o=r&~s,o!==0?n=Dl(o):i!==0&&(n=Dl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Tn(t),s=1<<r,n|=e[r],t&=~s;return n}function UD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Tn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=UD(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Bm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kE(){var e=cu;return cu<<=1,!(cu&4194240)&&(cu=64),e}function vp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ac(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tn(t),e[t]=r}function WD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Tn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Ug(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Tn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var He=0;function SE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EE,Hg,CE,PE,AE,qm=!1,du=[],gs=null,ys=null,xs=null,tc=new Map,rc=new Map,ds=[],KD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yw(e,t){switch(e){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":tc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(t.pointerId)}}function pl(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Tc(t),t!==null&&Hg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function VD(e,t,r,n,s){switch(t){case"focusin":return gs=pl(gs,e,t,r,n,s),!0;case"dragenter":return ys=pl(ys,e,t,r,n,s),!0;case"mouseover":return xs=pl(xs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return tc.set(i,pl(tc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,rc.set(i,pl(rc.get(i)||null,e,t,r,n,s)),!0}return!1}function OE(e){var t=Js(e.target);if(t!==null){var r=Ai(t);if(r!==null){if(t=r.tag,t===13){if(t=xE(r),t!==null){e.blockedOn=t,AE(e.priority,function(){CE(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Um(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Im=n,r.target.dispatchEvent(n),Im=null}else return t=Tc(r),t!==null&&Hg(t),e.blockedOn=r,!1;t.shift()}return!0}function Xw(e,t,r){Hu(e)&&r.delete(t)}function GD(){qm=!1,gs!==null&&Hu(gs)&&(gs=null),ys!==null&&Hu(ys)&&(ys=null),xs!==null&&Hu(xs)&&(xs=null),tc.forEach(Xw),rc.forEach(Xw)}function ml(e,t){e.blockedOn===t&&(e.blockedOn=null,qm||(qm=!0,Zr.unstable_scheduleCallback(Zr.unstable_NormalPriority,GD)))}function nc(e){function t(s){return ml(s,e)}if(0<du.length){ml(du[0],e);for(var r=1;r<du.length;r++){var n=du[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gs!==null&&ml(gs,e),ys!==null&&ml(ys,e),xs!==null&&ml(xs,e),tc.forEach(t),rc.forEach(t),r=0;r<ds.length;r++)n=ds[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ds.length&&(r=ds[0],r.blockedOn===null);)OE(r),r.blockedOn===null&&ds.shift()}var ro=Wa.ReactCurrentBatchConfig,dd=!0;function YD(e,t,r,n){var s=He,i=ro.transition;ro.transition=null;try{He=1,Wg(e,t,r,n)}finally{He=s,ro.transition=i}}function XD(e,t,r,n){var s=He,i=ro.transition;ro.transition=null;try{He=4,Wg(e,t,r,n)}finally{He=s,ro.transition=i}}function Wg(e,t,r,n){if(dd){var s=Um(e,t,r,n);if(s===null)Sp(e,t,n,fd,r),Yw(e,n);else if(VD(s,e,t,r,n))n.stopPropagation();else if(Yw(e,n),t&4&&-1<KD.indexOf(e)){for(;s!==null;){var i=Tc(s);if(i!==null&&EE(i),i=Um(e,t,r,n),i===null&&Sp(e,t,n,fd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Sp(e,t,n,null,r)}}var fd=null;function Um(e,t,r,n){if(fd=null,e=Bg(n),e=Js(e),e!==null)if(t=Ai(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fd=e,null}function TE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ID()){case qg:return 1;case NE:return 4;case cd:case zD:return 16;case _E:return 536870912;default:return 16}default:return 16}}var ps=null,Kg=null,Wu=null;function ME(){if(Wu)return Wu;var e,t=Kg,r=t.length,n,s="value"in ps?ps.value:ps.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Wu=s.slice(e,1<n?1-n:void 0)}function Ku(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fu(){return!0}function Zw(){return!1}function en(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fu:Zw,this.isPropagationStopped=Zw,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),t}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vg=en(Oo),Oc=gt({},Oo,{view:0,detail:0}),ZD=en(Oc),gp,yp,vl,Af=gt({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vl&&(vl&&e.type==="mousemove"?(gp=e.screenX-vl.screenX,yp=e.screenY-vl.screenY):yp=gp=0,vl=e),gp)},movementY:function(e){return"movementY"in e?e.movementY:yp}}),Qw=en(Af),QD=gt({},Af,{dataTransfer:0}),JD=en(QD),eR=gt({},Oc,{relatedTarget:0}),xp=en(eR),tR=gt({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),rR=en(tR),nR=gt({},Oo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aR=en(nR),sR=gt({},Oo,{data:0}),Jw=en(sR),iR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lR[e])?!!t[e]:!1}function Gg(){return cR}var uR=gt({},Oc,{key:function(e){if(e.key){var t=iR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ku(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gg,charCode:function(e){return e.type==="keypress"?Ku(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ku(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dR=en(uR),fR=gt({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eN=en(fR),hR=gt({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gg}),pR=en(hR),mR=gt({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vR=en(mR),gR=gt({},Af,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yR=en(gR),xR=[9,13,27,32],Yg=Ta&&"CompositionEvent"in window,ql=null;Ta&&"documentMode"in document&&(ql=document.documentMode);var bR=Ta&&"TextEvent"in window&&!ql,DE=Ta&&(!Yg||ql&&8<ql&&11>=ql),tN=" ",rN=!1;function RE(e,t){switch(e){case"keyup":return xR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bi=!1;function jR(e,t){switch(e){case"compositionend":return LE(t);case"keypress":return t.which!==32?null:(rN=!0,tN);case"textInput":return e=t.data,e===tN&&rN?null:e;default:return null}}function wR(e,t){if(Bi)return e==="compositionend"||!Yg&&RE(e,t)?(e=ME(),Wu=Kg=ps=null,Bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DE&&t.locale!=="ko"?null:t.data;default:return null}}var NR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NR[e.type]:t==="textarea"}function IE(e,t,r,n){pE(n),t=hd(t,"onChange"),0<t.length&&(r=new Vg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ul=null,ac=null;function _R(e){GE(e,0)}function Of(e){var t=Hi(e);if(oE(t))return e}function kR(e,t){if(e==="change")return t}var zE=!1;if(Ta){var bp;if(Ta){var jp="oninput"in document;if(!jp){var aN=document.createElement("div");aN.setAttribute("oninput","return;"),jp=typeof aN.oninput=="function"}bp=jp}else bp=!1;zE=bp&&(!document.documentMode||9<document.documentMode)}function sN(){Ul&&(Ul.detachEvent("onpropertychange",$E),ac=Ul=null)}function $E(e){if(e.propertyName==="value"&&Of(ac)){var t=[];IE(t,ac,e,Bg(e)),yE(_R,t)}}function SR(e,t,r){e==="focusin"?(sN(),Ul=t,ac=r,Ul.attachEvent("onpropertychange",$E)):e==="focusout"&&sN()}function ER(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Of(ac)}function CR(e,t){if(e==="click")return Of(t)}function PR(e,t){if(e==="input"||e==="change")return Of(t)}function AR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:AR;function sc(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!km.call(t,s)||!Ln(e[s],t[s]))return!1}return!0}function iN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oN(e,t){var r=iN(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iN(r)}}function FE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BE(){for(var e=window,t=id();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=id(e.document)}return t}function Xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OR(e){var t=BE(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FE(r.ownerDocument.documentElement,r)){if(n!==null&&Xg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=oN(r,i);var o=oN(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TR=Ta&&"documentMode"in document&&11>=document.documentMode,qi=null,Hm=null,Hl=null,Wm=!1;function lN(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wm||qi==null||qi!==id(n)||(n=qi,"selectionStart"in n&&Xg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hl&&sc(Hl,n)||(Hl=n,n=hd(Hm,"onSelect"),0<n.length&&(t=new Vg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qi)))}function hu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ui={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},wp={},qE={};Ta&&(qE=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Tf(e){if(wp[e])return wp[e];if(!Ui[e])return e;var t=Ui[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qE)return wp[e]=t[r];return e}var UE=Tf("animationend"),HE=Tf("animationiteration"),WE=Tf("animationstart"),KE=Tf("transitionend"),VE=new Map,cN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(e,t){VE.set(e,t),Pi(t,[e])}for(var Np=0;Np<cN.length;Np++){var _p=cN[Np],MR=_p.toLowerCase(),DR=_p[0].toUpperCase()+_p.slice(1);Ds(MR,"on"+DR)}Ds(UE,"onAnimationEnd");Ds(HE,"onAnimationIteration");Ds(WE,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(KE,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function uN(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,MD(n,t,void 0,e),e.currentTarget=null}function GE(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;uN(s,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;uN(s,l,d),i=c}}}if(ld)throw e=Fm,ld=!1,Fm=null,e}function et(e,t){var r=t[Xm];r===void 0&&(r=t[Xm]=new Set);var n=e+"__bubble";r.has(n)||(YE(t,e,2,!1),r.add(n))}function kp(e,t,r){var n=0;t&&(n|=4),YE(r,e,n,t)}var pu="_reactListening"+Math.random().toString(36).slice(2);function ic(e){if(!e[pu]){e[pu]=!0,rE.forEach(function(r){r!=="selectionchange"&&(RR.has(r)||kp(r,!1,e),kp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pu]||(t[pu]=!0,kp("selectionchange",!1,t))}}function YE(e,t,r,n){switch(TE(t)){case 1:var s=YD;break;case 4:s=XD;break;default:s=Wg}r=s.bind(null,t,r,e),s=void 0,!$m||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Sp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Js(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}yE(function(){var d=i,u=Bg(r),f=[];e:{var h=VE.get(e);if(h!==void 0){var p=Vg,m=e;switch(e){case"keypress":if(Ku(r)===0)break e;case"keydown":case"keyup":p=dR;break;case"focusin":m="focus",p=xp;break;case"focusout":m="blur",p=xp;break;case"beforeblur":case"afterblur":p=xp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Qw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pR;break;case UE:case HE:case WE:p=rR;break;case KE:p=vR;break;case"scroll":p=ZD;break;case"wheel":p=yR;break;case"copy":case"cut":case"paste":p=aR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=eN}var v=(t&4)!==0,g=!v&&e==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var x=d,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=ec(x,y),j!=null&&v.push(oc(x,j,w)))),g)break;x=x.return}0<v.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Im&&(m=r.relatedTarget||r.fromElement)&&(Js(m)||m[Ma]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=d,m=m?Js(m):null,m!==null&&(g=Ai(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=d),p!==m)){if(v=Qw,j="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=eN,j="onPointerLeave",y="onPointerEnter",x="pointer"),g=p==null?h:Hi(p),w=m==null?h:Hi(m),h=new v(j,x+"leave",p,r,u),h.target=g,h.relatedTarget=w,j=null,Js(u)===d&&(v=new v(y,x+"enter",m,r,u),v.target=w,v.relatedTarget=g,j=v),g=j,p&&m)t:{for(v=p,y=m,x=0,w=v;w;w=Ri(w))x++;for(w=0,j=y;j;j=Ri(j))w++;for(;0<x-w;)v=Ri(v),x--;for(;0<w-x;)y=Ri(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ri(v),y=Ri(y)}v=null}else v=null;p!==null&&dN(f,h,p,v,!1),m!==null&&g!==null&&dN(f,g,m,v,!0)}}e:{if(h=d?Hi(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=kR;else if(nN(h))if(zE)N=PR;else{N=ER;var S=SR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=CR);if(N&&(N=N(e,d))){IE(f,N,r,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Tm(h,"number",h.value)}switch(S=d?Hi(d):window,e){case"focusin":(nN(S)||S.contentEditable==="true")&&(qi=S,Hm=d,Hl=null);break;case"focusout":Hl=Hm=qi=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,lN(f,r,u);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":lN(f,r,u)}var _;if(Yg)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bi?RE(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(DE&&r.locale!=="ko"&&(Bi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Bi&&(_=ME()):(ps=u,Kg="value"in ps?ps.value:ps.textContent,Bi=!0)),S=hd(d,k),0<S.length&&(k=new Jw(k,e,null,r,u),f.push({event:k,listeners:S}),_?k.data=_:(_=LE(r),_!==null&&(k.data=_)))),(_=bR?jR(e,r):wR(e,r))&&(d=hd(d,"onBeforeInput"),0<d.length&&(u=new Jw("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}GE(f,t)})}function oc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ec(e,r),i!=null&&n.unshift(oc(e,i,s)),i=ec(e,t),i!=null&&n.push(oc(e,i,s))),e=e.return}return n}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dN(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=ec(r,i),c!=null&&o.unshift(oc(r,c,l))):s||(c=ec(r,i),c!=null&&o.push(oc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var LR=/\r\n?/g,IR=/\u0000|\uFFFD/g;function fN(e){return(typeof e=="string"?e:""+e).replace(LR,`
`).replace(IR,"")}function mu(e,t,r){if(t=fN(t),fN(e)!==t&&r)throw Error(he(425))}function pd(){}var Km=null,Vm=null;function Gm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,zR=typeof clearTimeout=="function"?clearTimeout:void 0,hN=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof hN<"u"?function(e){return hN.resolve(null).then(e).catch(FR)}:Ym;function FR(e){setTimeout(function(){throw e})}function Ep(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),nc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);nc(t)}function bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var To=Math.random().toString(36).slice(2),Xn="__reactFiber$"+To,lc="__reactProps$"+To,Ma="__reactContainer$"+To,Xm="__reactEvents$"+To,BR="__reactListeners$"+To,qR="__reactHandles$"+To;function Js(e){var t=e[Xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ma]||r[Xn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pN(e);e!==null;){if(r=e[Xn])return r;e=pN(e)}return t}e=r,r=e.parentNode}return null}function Tc(e){return e=e[Xn]||e[Ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Mf(e){return e[lc]||null}var Zm=[],Wi=-1;function Rs(e){return{current:e}}function nt(e){0>Wi||(e.current=Zm[Wi],Zm[Wi]=null,Wi--)}function Je(e,t){Wi++,Zm[Wi]=e.current,e.current=t}var Ps={},pr=Rs(Ps),Ar=Rs(!1),vi=Ps;function uo(e,t){var r=e.type.contextTypes;if(!r)return Ps;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Or(e){return e=e.childContextTypes,e!=null}function md(){nt(Ar),nt(pr)}function mN(e,t,r){if(pr.current!==Ps)throw Error(he(168));Je(pr,t),Je(Ar,r)}function XE(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(he(108,SD(e)||"Unknown",s));return gt({},r,n)}function vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ps,vi=pr.current,Je(pr,e),Je(Ar,Ar.current),!0}function vN(e,t,r){var n=e.stateNode;if(!n)throw Error(he(169));r?(e=XE(e,t,vi),n.__reactInternalMemoizedMergedChildContext=e,nt(Ar),nt(pr),Je(pr,e)):nt(Ar),Je(Ar,r)}var pa=null,Df=!1,Cp=!1;function ZE(e){pa===null?pa=[e]:pa.push(e)}function UR(e){Df=!0,ZE(e)}function Ls(){if(!Cp&&pa!==null){Cp=!0;var e=0,t=He;try{var r=pa;for(He=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pa=null,Df=!1}catch(s){throw pa!==null&&(pa=pa.slice(e+1)),wE(qg,Ls),s}finally{He=t,Cp=!1}}return null}var Ki=[],Vi=0,gd=null,yd=0,fn=[],hn=0,gi=null,xa=1,ba="";function Vs(e,t){Ki[Vi++]=yd,Ki[Vi++]=gd,gd=e,yd=t}function QE(e,t,r){fn[hn++]=xa,fn[hn++]=ba,fn[hn++]=gi,gi=e;var n=xa;e=ba;var s=32-Tn(n)-1;n&=~(1<<s),r+=1;var i=32-Tn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xa=1<<32-Tn(t)+s|r<<s|n,ba=i+e}else xa=1<<i|r<<s|n,ba=e}function Zg(e){e.return!==null&&(Vs(e,1),QE(e,1,0))}function Qg(e){for(;e===gd;)gd=Ki[--Vi],Ki[Vi]=null,yd=Ki[--Vi],Ki[Vi]=null;for(;e===gi;)gi=fn[--hn],fn[hn]=null,ba=fn[--hn],fn[hn]=null,xa=fn[--hn],fn[hn]=null}var Gr=null,Kr=null,lt=!1,Pn=null;function JE(e,t){var r=mn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gr=e,Kr=bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gr=e,Kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gi!==null?{id:xa,overflow:ba}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Gr=e,Kr=null,!0):!1;default:return!1}}function Qm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jm(e){if(lt){var t=Kr;if(t){var r=t;if(!gN(e,t)){if(Qm(e))throw Error(he(418));t=bs(r.nextSibling);var n=Gr;t&&gN(e,t)?JE(n,r):(e.flags=e.flags&-4097|2,lt=!1,Gr=e)}}else{if(Qm(e))throw Error(he(418));e.flags=e.flags&-4097|2,lt=!1,Gr=e}}}function yN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gr=e}function vu(e){if(e!==Gr)return!1;if(!lt)return yN(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gm(e.type,e.memoizedProps)),t&&(t=Kr)){if(Qm(e))throw eC(),Error(he(418));for(;t;)JE(e,t),t=bs(t.nextSibling)}if(yN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kr=bs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kr=null}}else Kr=Gr?bs(e.stateNode.nextSibling):null;return!0}function eC(){for(var e=Kr;e;)e=bs(e.nextSibling)}function fo(){Kr=Gr=null,lt=!1}function Jg(e){Pn===null?Pn=[e]:Pn.push(e)}var HR=Wa.ReactCurrentBatchConfig;function gl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(he(309));var n=r.stateNode}if(!n)throw Error(he(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(he(284));if(!r._owner)throw Error(he(290,e))}return e}function gu(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xN(e){var t=e._init;return t(e._payload)}function tC(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=_s(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,j){return x===null||x.tag!==6?(x=Rp(w,y.mode,j),x.return=y,x):(x=s(x,w),x.return=y,x)}function c(y,x,w,j){var N=w.type;return N===Fi?u(y,x,w.props.children,j,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===is&&xN(N)===x.type)?(j=s(x,w.props),j.ref=gl(y,x,w),j.return=y,j):(j=Ju(w.type,w.key,w.props,null,y.mode,j),j.ref=gl(y,x,w),j.return=y,j)}function d(y,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Lp(w,y.mode,j),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function u(y,x,w,j,N){return x===null||x.tag!==7?(x=ci(w,y.mode,j,N),x.return=y,x):(x=s(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Rp(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case iu:return w=Ju(x.type,x.key,x.props,null,y.mode,w),w.ref=gl(y,null,x),w.return=y,w;case $i:return x=Lp(x,y.mode,w),x.return=y,x;case is:var j=x._init;return f(y,j(x._payload),w)}if(Ml(x)||fl(x))return x=ci(x,y.mode,w,null),x.return=y,x;gu(y,x)}return null}function h(y,x,w,j){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:return w.key===N?c(y,x,w,j):null;case $i:return w.key===N?d(y,x,w,j):null;case is:return N=w._init,h(y,x,N(w._payload),j)}if(Ml(w)||fl(w))return N!==null?null:u(y,x,w,j,null);gu(y,w)}return null}function p(y,x,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(x,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case iu:return y=y.get(j.key===null?w:j.key)||null,c(x,y,j,N);case $i:return y=y.get(j.key===null?w:j.key)||null,d(x,y,j,N);case is:var S=j._init;return p(y,x,w,S(j._payload),N)}if(Ml(j)||fl(j))return y=y.get(w)||null,u(x,y,j,N,null);gu(x,j)}return null}function m(y,x,w,j){for(var N=null,S=null,_=x,k=x=0,P=null;_!==null&&k<w.length;k++){_.index>k?(P=_,_=null):P=_.sibling;var E=h(y,_,w[k],j);if(E===null){_===null&&(_=P);break}e&&_&&E.alternate===null&&t(y,_),x=i(E,x,k),S===null?N=E:S.sibling=E,S=E,_=P}if(k===w.length)return r(y,_),lt&&Vs(y,k),N;if(_===null){for(;k<w.length;k++)_=f(y,w[k],j),_!==null&&(x=i(_,x,k),S===null?N=_:S.sibling=_,S=_);return lt&&Vs(y,k),N}for(_=n(y,_);k<w.length;k++)P=p(_,y,k,w[k],j),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?k:P.key),x=i(P,x,k),S===null?N=P:S.sibling=P,S=P);return e&&_.forEach(function(C){return t(y,C)}),lt&&Vs(y,k),N}function v(y,x,w,j){var N=fl(w);if(typeof N!="function")throw Error(he(150));if(w=N.call(w),w==null)throw Error(he(151));for(var S=N=null,_=x,k=x=0,P=null,E=w.next();_!==null&&!E.done;k++,E=w.next()){_.index>k?(P=_,_=null):P=_.sibling;var C=h(y,_,E.value,j);if(C===null){_===null&&(_=P);break}e&&_&&C.alternate===null&&t(y,_),x=i(C,x,k),S===null?N=C:S.sibling=C,S=C,_=P}if(E.done)return r(y,_),lt&&Vs(y,k),N;if(_===null){for(;!E.done;k++,E=w.next())E=f(y,E.value,j),E!==null&&(x=i(E,x,k),S===null?N=E:S.sibling=E,S=E);return lt&&Vs(y,k),N}for(_=n(y,_);!E.done;k++,E=w.next())E=p(_,y,k,E.value,j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?k:E.key),x=i(E,x,k),S===null?N=E:S.sibling=E,S=E);return e&&_.forEach(function(A){return t(y,A)}),lt&&Vs(y,k),N}function g(y,x,w,j){if(typeof w=="object"&&w!==null&&w.type===Fi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:e:{for(var N=w.key,S=x;S!==null;){if(S.key===N){if(N=w.type,N===Fi){if(S.tag===7){r(y,S.sibling),x=s(S,w.props.children),x.return=y,y=x;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===is&&xN(N)===S.type){r(y,S.sibling),x=s(S,w.props),x.ref=gl(y,S,w),x.return=y,y=x;break e}r(y,S);break}else t(y,S);S=S.sibling}w.type===Fi?(x=ci(w.props.children,y.mode,j,w.key),x.return=y,y=x):(j=Ju(w.type,w.key,w.props,null,y.mode,j),j.ref=gl(y,x,w),j.return=y,y=j)}return o(y);case $i:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Lp(w,y.mode,j),x.return=y,y=x}return o(y);case is:return S=w._init,g(y,x,S(w._payload),j)}if(Ml(w))return m(y,x,w,j);if(fl(w))return v(y,x,w,j);gu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,w),x.return=y,y=x):(r(y,x),x=Rp(w,y.mode,j),x.return=y,y=x),o(y)):r(y,x)}return g}var ho=tC(!0),rC=tC(!1),xd=Rs(null),bd=null,Gi=null,ey=null;function ty(){ey=Gi=bd=null}function ry(e){var t=xd.current;nt(xd),e._currentValue=t}function ev(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function no(e,t){bd=e,ey=Gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cr=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(ey!==e)if(e={context:e,memoizedValue:t,next:null},Gi===null){if(bd===null)throw Error(he(308));Gi=e,bd.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var ei=null;function ny(e){ei===null?ei=[e]:ei.push(e)}function nC(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ny(t)):(r.next=s.next,s.next=r),t.interleaved=r,Da(e,n)}function Da(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var os=!1;function ay(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Da(e,r)}return s=n.interleaved,s===null?(t.next=t,ny(n)):(t.next=s.next,s.next=t),n.interleaved=t,Da(e,r)}function Vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ug(e,r)}}function bN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jd(e,t,r,n){var s=e.updateQueue;os=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=gt({},f,h);break e;case 2:os=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);xi|=o,e.lanes=o,e.memoizedState=f}}function jN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(he(191,s));s.call(n)}}}var Mc={},ea=Rs(Mc),cc=Rs(Mc),uc=Rs(Mc);function ti(e){if(e===Mc)throw Error(he(174));return e}function sy(e,t){switch(Je(uc,t),Je(cc,e),Je(ea,Mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dm(t,e)}nt(ea),Je(ea,t)}function po(){nt(ea),nt(cc),nt(uc)}function sC(e){ti(uc.current);var t=ti(ea.current),r=Dm(t,e.type);t!==r&&(Je(cc,e),Je(ea,r))}function iy(e){cc.current===e&&(nt(ea),nt(cc))}var pt=Rs(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pp=[];function oy(){for(var e=0;e<Pp.length;e++)Pp[e]._workInProgressVersionPrimary=null;Pp.length=0}var Gu=Wa.ReactCurrentDispatcher,Ap=Wa.ReactCurrentBatchConfig,yi=0,mt=null,Mt=null,Wt=null,Nd=!1,Wl=!1,dc=0,WR=0;function ir(){throw Error(he(321))}function ly(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ln(e[r],t[r]))return!1;return!0}function cy(e,t,r,n,s,i){if(yi=i,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gu.current=e===null||e.memoizedState===null?YR:XR,e=r(n,s),Wl){i=0;do{if(Wl=!1,dc=0,25<=i)throw Error(he(301));i+=1,Wt=Mt=null,t.updateQueue=null,Gu.current=ZR,e=r(n,s)}while(Wl)}if(Gu.current=_d,t=Mt!==null&&Mt.next!==null,yi=0,Wt=Mt=mt=null,Nd=!1,t)throw Error(he(300));return e}function uy(){var e=dc!==0;return dc=0,e}function Gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?mt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function bn(){if(Mt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=Wt===null?mt.memoizedState:Wt.next;if(t!==null)Wt=t,Mt=e;else{if(e===null)throw Error(he(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Wt===null?mt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function fc(e,t){return typeof t=="function"?t(e):t}function Op(e){var t=bn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=Mt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((yi&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,mt.lanes|=u,xi|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Ln(n,t.memoizedState)||(Cr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,mt.lanes|=i,xi|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tp(e){var t=bn(),r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ln(i,t.memoizedState)||(Cr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function iC(){}function oC(e,t){var r=mt,n=bn(),s=t(),i=!Ln(n.memoizedState,s);if(i&&(n.memoizedState=s,Cr=!0),n=n.queue,dy(uC.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,hc(9,cC.bind(null,r,n,s,t),void 0,null),Vt===null)throw Error(he(349));yi&30||lC(r,t,s)}return s}function lC(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cC(e,t,r,n){t.value=r,t.getSnapshot=n,dC(t)&&fC(e)}function uC(e,t,r){return r(function(){dC(t)&&fC(e)})}function dC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ln(e,r)}catch{return!0}}function fC(e){var t=Da(e,1);t!==null&&Mn(t,e,1,-1)}function wN(e){var t=Gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:e},t.queue=e,e=e.dispatch=GR.bind(null,mt,e),[t.memoizedState,e]}function hc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hC(){return bn().memoizedState}function Yu(e,t,r,n){var s=Gn();mt.flags|=e,s.memoizedState=hc(1|t,r,void 0,n===void 0?null:n)}function Rf(e,t,r,n){var s=bn();n=n===void 0?null:n;var i=void 0;if(Mt!==null){var o=Mt.memoizedState;if(i=o.destroy,n!==null&&ly(n,o.deps)){s.memoizedState=hc(t,r,i,n);return}}mt.flags|=e,s.memoizedState=hc(1|t,r,i,n)}function NN(e,t){return Yu(8390656,8,e,t)}function dy(e,t){return Rf(2048,8,e,t)}function pC(e,t){return Rf(4,2,e,t)}function mC(e,t){return Rf(4,4,e,t)}function vC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gC(e,t,r){return r=r!=null?r.concat([e]):null,Rf(4,4,vC.bind(null,t,e),r)}function fy(){}function yC(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ly(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xC(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ly(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bC(e,t,r){return yi&21?(Ln(r,t)||(r=kE(),mt.lanes|=r,xi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cr=!0),e.memoizedState=r)}function KR(e,t){var r=He;He=r!==0&&4>r?r:4,e(!0);var n=Ap.transition;Ap.transition={};try{e(!1),t()}finally{He=r,Ap.transition=n}}function jC(){return bn().memoizedState}function VR(e,t,r){var n=Ns(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wC(e))NC(t,r);else if(r=nC(e,t,r,n),r!==null){var s=br();Mn(r,e,n,s),_C(r,t,n)}}function GR(e,t,r){var n=Ns(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wC(e))NC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ln(l,o)){var c=t.interleaved;c===null?(s.next=s,ny(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=nC(e,t,s,n),r!==null&&(s=br(),Mn(r,e,n,s),_C(r,t,n))}}function wC(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function NC(e,t){Wl=Nd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _C(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ug(e,r)}}var _d={readContext:xn,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},YR={readContext:xn,useCallback:function(e,t){return Gn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:NN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yu(4194308,4,vC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yu(4,2,e,t)},useMemo:function(e,t){var r=Gn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Gn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=VR.bind(null,mt,e),[n.memoizedState,e]},useRef:function(e){var t=Gn();return e={current:e},t.memoizedState=e},useState:wN,useDebugValue:fy,useDeferredValue:function(e){return Gn().memoizedState=e},useTransition:function(){var e=wN(!1),t=e[0];return e=KR.bind(null,e[1]),Gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mt,s=Gn();if(lt){if(r===void 0)throw Error(he(407));r=r()}else{if(r=t(),Vt===null)throw Error(he(349));yi&30||lC(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,NN(uC.bind(null,n,i,e),[e]),n.flags|=2048,hc(9,cC.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Gn(),t=Vt.identifierPrefix;if(lt){var r=ba,n=xa;r=(n&~(1<<32-Tn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=dc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=WR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XR={readContext:xn,useCallback:yC,useContext:xn,useEffect:dy,useImperativeHandle:gC,useInsertionEffect:pC,useLayoutEffect:mC,useMemo:xC,useReducer:Op,useRef:hC,useState:function(){return Op(fc)},useDebugValue:fy,useDeferredValue:function(e){var t=bn();return bC(t,Mt.memoizedState,e)},useTransition:function(){var e=Op(fc)[0],t=bn().memoizedState;return[e,t]},useMutableSource:iC,useSyncExternalStore:oC,useId:jC,unstable_isNewReconciler:!1},ZR={readContext:xn,useCallback:yC,useContext:xn,useEffect:dy,useImperativeHandle:gC,useInsertionEffect:pC,useLayoutEffect:mC,useMemo:xC,useReducer:Tp,useRef:hC,useState:function(){return Tp(fc)},useDebugValue:fy,useDeferredValue:function(e){var t=bn();return Mt===null?t.memoizedState=e:bC(t,Mt.memoizedState,e)},useTransition:function(){var e=Tp(fc)[0],t=bn().memoizedState;return[e,t]},useMutableSource:iC,useSyncExternalStore:oC,useId:jC,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tv(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lf={isMounted:function(e){return(e=e._reactInternals)?Ai(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=br(),s=Ns(e),i=Sa(n,s);i.payload=t,r!=null&&(i.callback=r),t=js(e,i,s),t!==null&&(Mn(t,e,s,n),Vu(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=br(),s=Ns(e),i=Sa(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=js(e,i,s),t!==null&&(Mn(t,e,s,n),Vu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=br(),n=Ns(e),s=Sa(r,n);s.tag=2,t!=null&&(s.callback=t),t=js(e,s,n),t!==null&&(Mn(t,e,n,r),Vu(t,e,n))}};function _N(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!sc(r,n)||!sc(s,i):!0}function kC(e,t,r){var n=!1,s=Ps,i=t.contextType;return typeof i=="object"&&i!==null?i=xn(i):(s=Or(t)?vi:pr.current,n=t.contextTypes,i=(n=n!=null)?uo(e,s):Ps),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lf.enqueueReplaceState(t,t.state,null)}function rv(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ay(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xn(i):(i=Or(t)?vi:pr.current,s.context=uo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tv(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Lf.enqueueReplaceState(s,s.state,null),jd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var r="",n=t;do r+=kD(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Mp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nv(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QR=typeof WeakMap=="function"?WeakMap:Map;function SC(e,t,r){r=Sa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sd||(Sd=!0,hv=n),nv(e,t)},r}function EC(e,t,r){r=Sa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){nv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){nv(e,t),typeof n!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function SN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new QR;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=f3.bind(null,e,t,r),t.then(e,e))}function EN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CN(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sa(-1,1),t.tag=2,js(r,t,1))),r.lanes|=1),e)}var JR=Wa.ReactCurrentOwner,Cr=!1;function vr(e,t,r,n){t.child=e===null?rC(t,null,r,n):ho(t,e.child,r,n)}function PN(e,t,r,n,s){r=r.render;var i=t.ref;return no(t,s),n=cy(e,t,r,n,i,s),r=uy(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ra(e,t,s)):(lt&&r&&Zg(t),t.flags|=1,vr(e,t,n,s),t.child)}function AN(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!by(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,CC(e,t,i,n,s)):(e=Ju(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:sc,r(o,n)&&e.ref===t.ref)return Ra(e,t,s)}return t.flags|=1,e=_s(i,n),e.ref=t.ref,e.return=t,t.child=e}function CC(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(sc(i,n)&&e.ref===t.ref)if(Cr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Cr=!0);else return t.lanes=e.lanes,Ra(e,t,s)}return av(e,t,r,n,s)}function PC(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Xi,Fr),Fr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(Xi,Fr),Fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Je(Xi,Fr),Fr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Je(Xi,Fr),Fr|=n;return vr(e,t,s,r),t.child}function AC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function av(e,t,r,n,s){var i=Or(r)?vi:pr.current;return i=uo(t,i),no(t,s),r=cy(e,t,r,n,i,s),n=uy(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ra(e,t,s)):(lt&&n&&Zg(t),t.flags|=1,vr(e,t,r,s),t.child)}function ON(e,t,r,n,s){if(Or(r)){var i=!0;vd(t)}else i=!1;if(no(t,s),t.stateNode===null)Xu(e,t),kC(t,r,n),rv(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=xn(d):(d=Or(r)?vi:pr.current,d=uo(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&kN(t,o,n,d),os=!1;var h=t.memoizedState;o.state=h,jd(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Ar.current||os?(typeof u=="function"&&(tv(t,r,u,n),c=t.memoizedState),(l=os||_N(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,aC(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:En(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Or(r)?vi:pr.current,c=uo(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&kN(t,o,n,c),os=!1,h=t.memoizedState,o.state=h,jd(t,n,o,s);var m=t.memoizedState;l!==f||h!==m||Ar.current||os?(typeof p=="function"&&(tv(t,r,p,n),m=t.memoizedState),(d=os||_N(t,r,d,n,h,m,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return sv(e,t,r,n,i,s)}function sv(e,t,r,n,s,i){AC(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&vN(t,r,!1),Ra(e,t,i);n=t.stateNode,JR.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ho(t,e.child,null,i),t.child=ho(t,null,l,i)):vr(e,t,l,i),t.memoizedState=n.state,s&&vN(t,r,!0),t.child}function OC(e){var t=e.stateNode;t.pendingContext?mN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mN(e,t.context,!1),sy(e,t.containerInfo)}function TN(e,t,r,n,s){return fo(),Jg(s),t.flags|=256,vr(e,t,r,n),t.child}var iv={dehydrated:null,treeContext:null,retryLane:0};function ov(e){return{baseLanes:e,cachePool:null,transitions:null}}function TC(e,t,r){var n=t.pendingProps,s=pt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Je(pt,s&1),e===null)return Jm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$f(o,n,0,null),e=ci(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ov(r),t.memoizedState=iv,e):hy(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return e3(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_s(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=_s(l,i):(i=ci(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ov(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=iv,n}return i=e.child,e=i.sibling,n=_s(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hy(e,t){return t=$f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yu(e,t,r,n){return n!==null&&Jg(n),ho(t,e.child,null,r),e=hy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function e3(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Mp(Error(he(422))),yu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=$f({mode:"visible",children:n.children},s,0,null),i=ci(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ho(t,e.child,null,o),t.child.memoizedState=ov(o),t.memoizedState=iv,i);if(!(t.mode&1))return yu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(he(419)),n=Mp(i,n,void 0),yu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Cr||l){if(n=Vt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Da(e,s),Mn(n,e,s,-1))}return xy(),n=Mp(Error(he(421))),yu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=h3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Kr=bs(s.nextSibling),Gr=t,lt=!0,Pn=null,e!==null&&(fn[hn++]=xa,fn[hn++]=ba,fn[hn++]=gi,xa=e.id,ba=e.overflow,gi=t),t=hy(t,n.children),t.flags|=4096,t)}function MN(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ev(e.return,t,r)}function Dp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function MC(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(vr(e,t,n.children,r),n=pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MN(e,r,t);else if(e.tag===19)MN(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Je(pt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&wd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Dp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Dp(t,!0,r,null,i);break;case"together":Dp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ra(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,r=_s(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_s(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function t3(e,t,r){switch(t.tag){case 3:OC(t),fo();break;case 5:sC(t);break;case 1:Or(t.type)&&vd(t);break;case 4:sy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Je(xd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Je(pt,pt.current&1),t.flags|=128,null):r&t.child.childLanes?TC(e,t,r):(Je(pt,pt.current&1),e=Ra(e,t,r),e!==null?e.sibling:null);Je(pt,pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return MC(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(pt,pt.current),n)break;return null;case 22:case 23:return t.lanes=0,PC(e,t,r)}return Ra(e,t,r)}var DC,lv,RC,LC;DC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lv=function(){};RC=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ti(ea.current);var i=null;switch(r){case"input":s=Am(e,s),n=Am(e,n),i=[];break;case"select":s=gt({},s,{value:void 0}),n=gt({},n,{value:void 0}),i=[];break;case"textarea":s=Mm(e,s),n=Mm(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pd)}Rm(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ql.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&et("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};LC=function(e,t,r,n){r!==n&&(t.flags|=4)};function yl(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function or(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function r3(e,t,r){var n=t.pendingProps;switch(Qg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(t),null;case 1:return Or(t.type)&&md(),or(t),null;case 3:return n=t.stateNode,po(),nt(Ar),nt(pr),oy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(vv(Pn),Pn=null))),lv(e,t),or(t),null;case 5:iy(t);var s=ti(uc.current);if(r=t.type,e!==null&&t.stateNode!=null)RC(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(he(166));return or(t),null}if(e=ti(ea.current),vu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Xn]=t,n[lc]=i,e=(t.mode&1)!==0,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(s=0;s<Rl.length;s++)et(Rl[s],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":qw(n,i),et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},et("invalid",n);break;case"textarea":Hw(n,i),et("invalid",n)}Rm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&mu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&mu(n.textContent,l,e),s=["children",""+l]):Ql.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&et("scroll",n)}switch(r){case"input":ou(n),Uw(n,i,!0);break;case"textarea":ou(n),Ww(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uE(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xn]=t,e[lc]=n,DC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Lm(r,n),r){case"dialog":et("cancel",e),et("close",e),s=n;break;case"iframe":case"object":case"embed":et("load",e),s=n;break;case"video":case"audio":for(s=0;s<Rl.length;s++)et(Rl[s],e);s=n;break;case"source":et("error",e),s=n;break;case"img":case"image":case"link":et("error",e),et("load",e),s=n;break;case"details":et("toggle",e),s=n;break;case"input":qw(e,n),s=Am(e,n),et("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=gt({},n,{value:void 0}),et("invalid",e);break;case"textarea":Hw(e,n),s=Mm(e,n),et("invalid",e);break;default:s=n}Rm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?hE(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dE(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Jl(e,c):typeof c=="number"&&Jl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ql.hasOwnProperty(i)?c!=null&&i==="onScroll"&&et("scroll",e):c!=null&&Ig(e,i,c,o))}switch(r){case"input":ou(e),Uw(e,n,!1);break;case"textarea":ou(e),Ww(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Cs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ji(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ji(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return or(t),null;case 6:if(e&&t.stateNode!=null)LC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(he(166));if(r=ti(uc.current),ti(ea.current),vu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xn]=t,(i=n.nodeValue!==r)&&(e=Gr,e!==null))switch(e.tag){case 3:mu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xn]=t,t.stateNode=n}return or(t),null;case 13:if(nt(pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Kr!==null&&t.mode&1&&!(t.flags&128))eC(),fo(),t.flags|=98560,i=!1;else if(i=vu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(he(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(he(317));i[Xn]=t}else fo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;or(t),i=!1}else Pn!==null&&(vv(Pn),Pn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Rt===0&&(Rt=3):xy())),t.updateQueue!==null&&(t.flags|=4),or(t),null);case 4:return po(),lv(e,t),e===null&&ic(t.stateNode.containerInfo),or(t),null;case 10:return ry(t.type._context),or(t),null;case 17:return Or(t.type)&&md(),or(t),null;case 19:if(nt(pt),i=t.memoizedState,i===null)return or(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)yl(i,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wd(e),o!==null){for(t.flags|=128,yl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Je(pt,pt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nt()>vo&&(t.flags|=128,n=!0,yl(i,!1),t.lanes=4194304)}else{if(!n)if(e=wd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return or(t),null}else 2*Nt()-i.renderingStartTime>vo&&r!==1073741824&&(t.flags|=128,n=!0,yl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,r=pt.current,Je(pt,n?r&1|2:r&1),t):(or(t),null);case 22:case 23:return yy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fr&1073741824&&(or(t),t.subtreeFlags&6&&(t.flags|=8192)):or(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function n3(e,t){switch(Qg(t),t.tag){case 1:return Or(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return po(),nt(Ar),nt(pr),oy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iy(t),null;case 13:if(nt(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));fo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(pt),null;case 4:return po(),null;case 10:return ry(t.type._context),null;case 22:case 23:return yy(),null;case 24:return null;default:return null}}var xu=!1,cr=!1,a3=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Yi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function cv(e,t,r){try{r()}catch(n){xt(e,t,n)}}var DN=!1;function s3(e,t){if(Km=dd,e=BE(),Xg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===s&&(l=o),h===i&&++u===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vm={focusedElem:e,selectionRange:r},dd=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:En(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(j){xt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return m=DN,DN=!1,m}function Kl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&cv(t,r,i)}s=s.next}while(s!==n)}}function If(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function IC(e){var t=e.alternate;t!==null&&(e.alternate=null,IC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xn],delete t[lc],delete t[Xm],delete t[BR],delete t[qR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zC(e){return e.tag===5||e.tag===3||e.tag===4}function RN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pd));else if(n!==4&&(e=e.child,e!==null))for(dv(e,t,r),e=e.sibling;e!==null;)dv(e,t,r),e=e.sibling}function fv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fv(e,t,r),e=e.sibling;e!==null;)fv(e,t,r),e=e.sibling}var Jt=null,Cn=!1;function ns(e,t,r){for(r=r.child;r!==null;)$C(e,t,r),r=r.sibling}function $C(e,t,r){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Pf,r)}catch{}switch(r.tag){case 5:cr||Yi(r,t);case 6:var n=Jt,s=Cn;Jt=null,ns(e,t,r),Jt=n,Cn=s,Jt!==null&&(Cn?(e=Jt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jt.removeChild(r.stateNode));break;case 18:Jt!==null&&(Cn?(e=Jt,r=r.stateNode,e.nodeType===8?Ep(e.parentNode,r):e.nodeType===1&&Ep(e,r),nc(e)):Ep(Jt,r.stateNode));break;case 4:n=Jt,s=Cn,Jt=r.stateNode.containerInfo,Cn=!0,ns(e,t,r),Jt=n,Cn=s;break;case 0:case 11:case 14:case 15:if(!cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cv(r,t,o),s=s.next}while(s!==n)}ns(e,t,r);break;case 1:if(!cr&&(Yi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,t,l)}ns(e,t,r);break;case 21:ns(e,t,r);break;case 22:r.mode&1?(cr=(n=cr)||r.memoizedState!==null,ns(e,t,r),cr=n):ns(e,t,r);break;default:ns(e,t,r)}}function LN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new a3),t.forEach(function(n){var s=p3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Sn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,Cn=!1;break e;case 3:Jt=l.stateNode.containerInfo,Cn=!0;break e;case 4:Jt=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(Jt===null)throw Error(he(160));$C(i,o,s),Jt=null,Cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){xt(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FC(t,e),t=t.sibling}function FC(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sn(t,e),Hn(e),n&4){try{Kl(3,e,e.return),If(3,e)}catch(v){xt(e,e.return,v)}try{Kl(5,e,e.return)}catch(v){xt(e,e.return,v)}}break;case 1:Sn(t,e),Hn(e),n&512&&r!==null&&Yi(r,r.return);break;case 5:if(Sn(t,e),Hn(e),n&512&&r!==null&&Yi(r,r.return),e.flags&32){var s=e.stateNode;try{Jl(s,"")}catch(v){xt(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&lE(s,i),Lm(l,o);var d=Lm(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?hE(s,f):u==="dangerouslySetInnerHTML"?dE(s,f):u==="children"?Jl(s,f):Ig(s,u,f,d)}switch(l){case"input":Om(s,i);break;case"textarea":cE(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ji(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ji(s,!!i.multiple,i.defaultValue,!0):Ji(s,!!i.multiple,i.multiple?[]:"",!1))}s[lc]=i}catch(v){xt(e,e.return,v)}}break;case 6:if(Sn(t,e),Hn(e),n&4){if(e.stateNode===null)throw Error(he(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){xt(e,e.return,v)}}break;case 3:if(Sn(t,e),Hn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nc(t.containerInfo)}catch(v){xt(e,e.return,v)}break;case 4:Sn(t,e),Hn(e);break;case 13:Sn(t,e),Hn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(vy=Nt())),n&4&&LN(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(cr=(d=cr)||u,Sn(t,e),cr=d):Sn(t,e),Hn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(ge=e,u=e.child;u!==null;){for(f=ge=u;ge!==null;){switch(h=ge,p=h.child,h.tag){case 0:case 11:case 14:case 15:Kl(4,h,h.return);break;case 1:Yi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){xt(n,r,v)}}break;case 5:Yi(h,h.return);break;case 22:if(h.memoizedState!==null){zN(f);continue}}p!==null?(p.return=h,ge=p):zN(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fE("display",o))}catch(v){xt(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){xt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sn(t,e),Hn(e),n&4&&LN(e);break;case 21:break;default:Sn(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zC(r)){var n=r;break e}r=r.return}throw Error(he(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Jl(s,""),n.flags&=-33);var i=RN(e);fv(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=RN(e);dv(e,l,o);break;default:throw Error(he(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i3(e,t,r){ge=e,BC(e)}function BC(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||xu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=xu;var d=cr;if(xu=o,(cr=c)&&!d)for(ge=s;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?$N(s):c!==null?(c.return=o,ge=c):$N(s);for(;i!==null;)ge=i,BC(i),i=i.sibling;ge=s,xu=l,cr=d}IN(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):IN(e)}}function IN(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||If(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:En(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jN(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jN(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&nc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}cr||t.flags&512&&uv(t)}catch(h){xt(t,t.return,h)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function zN(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function $N(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{If(4,t)}catch(c){xt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){xt(t,s,c)}}var i=t.return;try{uv(t)}catch(c){xt(t,i,c)}break;case 5:var o=t.return;try{uv(t)}catch(c){xt(t,o,c)}}}catch(c){xt(t,t.return,c)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var o3=Math.ceil,kd=Wa.ReactCurrentDispatcher,py=Wa.ReactCurrentOwner,yn=Wa.ReactCurrentBatchConfig,Fe=0,Vt=null,Ct=null,rr=0,Fr=0,Xi=Rs(0),Rt=0,pc=null,xi=0,zf=0,my=0,Vl=null,Er=null,vy=0,vo=1/0,ha=null,Sd=!1,hv=null,ws=null,bu=!1,ms=null,Ed=0,Gl=0,pv=null,Zu=-1,Qu=0;function br(){return Fe&6?Nt():Zu!==-1?Zu:Zu=Nt()}function Ns(e){return e.mode&1?Fe&2&&rr!==0?rr&-rr:HR.transition!==null?(Qu===0&&(Qu=kE()),Qu):(e=He,e!==0||(e=window.event,e=e===void 0?16:TE(e.type)),e):1}function Mn(e,t,r,n){if(50<Gl)throw Gl=0,pv=null,Error(he(185));Ac(e,r,n),(!(Fe&2)||e!==Vt)&&(e===Vt&&(!(Fe&2)&&(zf|=r),Rt===4&&fs(e,rr)),Tr(e,n),r===1&&Fe===0&&!(t.mode&1)&&(vo=Nt()+500,Df&&Ls()))}function Tr(e,t){var r=e.callbackNode;HD(e,t);var n=ud(e,e===Vt?rr:0);if(n===0)r!==null&&Gw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gw(r),t===1)e.tag===0?UR(FN.bind(null,e)):ZE(FN.bind(null,e)),$R(function(){!(Fe&6)&&Ls()}),r=null;else{switch(SE(n)){case 1:r=qg;break;case 4:r=NE;break;case 16:r=cd;break;case 536870912:r=_E;break;default:r=cd}r=YC(r,qC.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qC(e,t){if(Zu=-1,Qu=0,Fe&6)throw Error(he(327));var r=e.callbackNode;if(ao()&&e.callbackNode!==r)return null;var n=ud(e,e===Vt?rr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Cd(e,n);else{t=n;var s=Fe;Fe|=2;var i=HC();(Vt!==e||rr!==t)&&(ha=null,vo=Nt()+500,li(e,t));do try{u3();break}catch(l){UC(e,l)}while(!0);ty(),kd.current=i,Fe=s,Ct!==null?t=0:(Vt=null,rr=0,t=Rt)}if(t!==0){if(t===2&&(s=Bm(e),s!==0&&(n=s,t=mv(e,s))),t===1)throw r=pc,li(e,0),fs(e,n),Tr(e,Nt()),r;if(t===6)fs(e,n);else{if(s=e.current.alternate,!(n&30)&&!l3(s)&&(t=Cd(e,n),t===2&&(i=Bm(e),i!==0&&(n=i,t=mv(e,i))),t===1))throw r=pc,li(e,0),fs(e,n),Tr(e,Nt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(he(345));case 2:Gs(e,Er,ha);break;case 3:if(fs(e,n),(n&130023424)===n&&(t=vy+500-Nt(),10<t)){if(ud(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){br(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ym(Gs.bind(null,e,Er,ha),t);break}Gs(e,Er,ha);break;case 4:if(fs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Tn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o3(n/1960))-n,10<n){e.timeoutHandle=Ym(Gs.bind(null,e,Er,ha),n);break}Gs(e,Er,ha);break;case 5:Gs(e,Er,ha);break;default:throw Error(he(329))}}}return Tr(e,Nt()),e.callbackNode===r?qC.bind(null,e):null}function mv(e,t){var r=Vl;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=Cd(e,t),e!==2&&(t=Er,Er=r,t!==null&&vv(t)),e}function vv(e){Er===null?Er=e:Er.push.apply(Er,e)}function l3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ln(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fs(e,t){for(t&=~my,t&=~zf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Tn(t),n=1<<r;e[r]=-1,t&=~n}}function FN(e){if(Fe&6)throw Error(he(327));ao();var t=ud(e,0);if(!(t&1))return Tr(e,Nt()),null;var r=Cd(e,t);if(e.tag!==0&&r===2){var n=Bm(e);n!==0&&(t=n,r=mv(e,n))}if(r===1)throw r=pc,li(e,0),fs(e,t),Tr(e,Nt()),r;if(r===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gs(e,Er,ha),Tr(e,Nt()),null}function gy(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(vo=Nt()+500,Df&&Ls())}}function bi(e){ms!==null&&ms.tag===0&&!(Fe&6)&&ao();var t=Fe;Fe|=1;var r=yn.transition,n=He;try{if(yn.transition=null,He=1,e)return e()}finally{He=n,yn.transition=r,Fe=t,!(Fe&6)&&Ls()}}function yy(){Fr=Xi.current,nt(Xi)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,zR(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(Qg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&md();break;case 3:po(),nt(Ar),nt(pr),oy();break;case 5:iy(n);break;case 4:po();break;case 13:nt(pt);break;case 19:nt(pt);break;case 10:ry(n.type._context);break;case 22:case 23:yy()}r=r.return}if(Vt=e,Ct=e=_s(e.current,null),rr=Fr=t,Rt=0,pc=null,my=zf=xi=0,Er=Vl=null,ei!==null){for(t=0;t<ei.length;t++)if(r=ei[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ei=null}return e}function UC(e,t){do{var r=Ct;try{if(ty(),Gu.current=_d,Nd){for(var n=mt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Nd=!1}if(yi=0,Wt=Mt=mt=null,Wl=!1,dc=0,py.current=null,r===null||r.return===null){Rt=1,pc=t,Ct=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=rr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=EN(o);if(p!==null){p.flags&=-257,CN(p,o,l,i,t),p.mode&1&&SN(i,d,t),t=p,c=d;var m=t.updateQueue;if(m===null){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}else{if(!(t&1)){SN(i,d,t),xy();break e}c=Error(he(426))}}else if(lt&&l.mode&1){var g=EN(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),CN(g,o,l,i,t),Jg(mo(c,l));break e}}i=c=mo(c,l),Rt!==4&&(Rt=2),Vl===null?Vl=[i]:Vl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=SC(i,c,t);bN(i,y);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ws===null||!ws.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=EC(i,l,t);bN(i,j);break e}}i=i.return}while(i!==null)}KC(r)}catch(N){t=N,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function HC(){var e=kd.current;return kd.current=_d,e===null?_d:e}function xy(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Vt===null||!(xi&268435455)&&!(zf&268435455)||fs(Vt,rr)}function Cd(e,t){var r=Fe;Fe|=2;var n=HC();(Vt!==e||rr!==t)&&(ha=null,li(e,t));do try{c3();break}catch(s){UC(e,s)}while(!0);if(ty(),Fe=r,kd.current=n,Ct!==null)throw Error(he(261));return Vt=null,rr=0,Rt}function c3(){for(;Ct!==null;)WC(Ct)}function u3(){for(;Ct!==null&&!RD();)WC(Ct)}function WC(e){var t=GC(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?KC(e):Ct=t,py.current=null}function KC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=n3(r,t),r!==null){r.flags&=32767,Ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Ct=null;return}}else if(r=r3(r,t,Fr),r!==null){Ct=r;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Rt===0&&(Rt=5)}function Gs(e,t,r){var n=He,s=yn.transition;try{yn.transition=null,He=1,d3(e,t,r,n)}finally{yn.transition=s,He=n}return null}function d3(e,t,r,n){do ao();while(ms!==null);if(Fe&6)throw Error(he(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(WD(e,i),e===Vt&&(Ct=Vt=null,rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bu||(bu=!0,YC(cd,function(){return ao(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=yn.transition,yn.transition=null;var o=He;He=1;var l=Fe;Fe|=4,py.current=null,s3(e,r),FC(r,e),OR(Vm),dd=!!Km,Vm=Km=null,e.current=r,i3(r),LD(),Fe=l,He=o,yn.transition=i}else e.current=r;if(bu&&(bu=!1,ms=e,Ed=s),i=e.pendingLanes,i===0&&(ws=null),$D(r.stateNode),Tr(e,Nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Sd)throw Sd=!1,e=hv,hv=null,e;return Ed&1&&e.tag!==0&&ao(),i=e.pendingLanes,i&1?e===pv?Gl++:(Gl=0,pv=e):Gl=0,Ls(),null}function ao(){if(ms!==null){var e=SE(Ed),t=yn.transition,r=He;try{if(yn.transition=null,He=16>e?16:e,ms===null)var n=!1;else{if(e=ms,ms=null,Ed=0,Fe&6)throw Error(he(331));var s=Fe;for(Fe|=4,ge=e.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ge=d;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:Kl(8,u,i)}var f=u.child;if(f!==null)f.return=u,ge=f;else for(;ge!==null;){u=ge;var h=u.sibling,p=u.return;if(IC(u),u===d){ge=null;break}if(h!==null){h.return=p,ge=h;break}ge=p}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,ge=y;break e}ge=i.return}}var x=e.current;for(ge=x;ge!==null;){o=ge;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ge=w;else e:for(o=x;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:If(9,l)}}catch(N){xt(l,l.return,N)}if(l===o){ge=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ge=j;break e}ge=l.return}}if(Fe=s,Ls(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Pf,e)}catch{}n=!0}return n}finally{He=r,yn.transition=t}}return!1}function BN(e,t,r){t=mo(r,t),t=SC(e,t,1),e=js(e,t,1),t=br(),e!==null&&(Ac(e,1,t),Tr(e,t))}function xt(e,t,r){if(e.tag===3)BN(e,e,r);else for(;t!==null;){if(t.tag===3){BN(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ws===null||!ws.has(n))){e=mo(r,e),e=EC(t,e,1),t=js(t,e,1),e=br(),t!==null&&(Ac(t,1,e),Tr(t,e));break}}t=t.return}}function f3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=br(),e.pingedLanes|=e.suspendedLanes&r,Vt===e&&(rr&r)===r&&(Rt===4||Rt===3&&(rr&130023424)===rr&&500>Nt()-vy?li(e,0):my|=r),Tr(e,t)}function VC(e,t){t===0&&(e.mode&1?(t=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):t=1);var r=br();e=Da(e,t),e!==null&&(Ac(e,t,r),Tr(e,r))}function h3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),VC(e,r)}function p3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(he(314))}n!==null&&n.delete(t),VC(e,r)}var GC;GC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ar.current)Cr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Cr=!1,t3(e,t,r);Cr=!!(e.flags&131072)}else Cr=!1,lt&&t.flags&1048576&&QE(t,yd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xu(e,t),e=t.pendingProps;var s=uo(t,pr.current);no(t,r),s=cy(null,t,n,e,s,r);var i=uy();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(n)?(i=!0,vd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ay(t),s.updater=Lf,t.stateNode=s,s._reactInternals=t,rv(t,n,e,r),t=sv(null,t,n,!0,i,r)):(t.tag=0,lt&&i&&Zg(t),vr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xu(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=v3(n),e=En(n,e),s){case 0:t=av(null,t,n,e,r);break e;case 1:t=ON(null,t,n,e,r);break e;case 11:t=PN(null,t,n,e,r);break e;case 14:t=AN(null,t,n,En(n.type,e),r);break e}throw Error(he(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),av(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),ON(e,t,n,s,r);case 3:e:{if(OC(t),e===null)throw Error(he(387));n=t.pendingProps,i=t.memoizedState,s=i.element,aC(e,t),jd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=mo(Error(he(423)),t),t=TN(e,t,n,r,s);break e}else if(n!==s){s=mo(Error(he(424)),t),t=TN(e,t,n,r,s);break e}else for(Kr=bs(t.stateNode.containerInfo.firstChild),Gr=t,lt=!0,Pn=null,r=rC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fo(),n===s){t=Ra(e,t,r);break e}vr(e,t,n,r)}t=t.child}return t;case 5:return sC(t),e===null&&Jm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Gm(n,s)?o=null:i!==null&&Gm(n,i)&&(t.flags|=32),AC(e,t),vr(e,t,o,r),t.child;case 6:return e===null&&Jm(t),null;case 13:return TC(e,t,r);case 4:return sy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ho(t,null,n,r):vr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),PN(e,t,n,s,r);case 7:return vr(e,t,t.pendingProps,r),t.child;case 8:return vr(e,t,t.pendingProps.children,r),t.child;case 12:return vr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Je(xd,n._currentValue),n._currentValue=o,i!==null)if(Ln(i.value,o)){if(i.children===s.children&&!Ar.current){t=Ra(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Sa(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ev(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(he(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ev(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,no(t,r),s=xn(s),n=n(s),t.flags|=1,vr(e,t,n,r),t.child;case 14:return n=t.type,s=En(n,t.pendingProps),s=En(n.type,s),AN(e,t,n,s,r);case 15:return CC(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:En(n,s),Xu(e,t),t.tag=1,Or(n)?(e=!0,vd(t)):e=!1,no(t,r),kC(t,n,s),rv(t,n,s,r),sv(null,t,n,!0,e,r);case 19:return MC(e,t,r);case 22:return PC(e,t,r)}throw Error(he(156,t.tag))};function YC(e,t){return wE(e,t)}function m3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,r,n){return new m3(e,t,r,n)}function by(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v3(e){if(typeof e=="function")return by(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$g)return 11;if(e===Fg)return 14}return 2}function _s(e,t){var r=e.alternate;return r===null?(r=mn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")by(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fi:return ci(r.children,s,i,t);case zg:o=8,s|=8;break;case Sm:return e=mn(12,r,t,s|2),e.elementType=Sm,e.lanes=i,e;case Em:return e=mn(13,r,t,s),e.elementType=Em,e.lanes=i,e;case Cm:return e=mn(19,r,t,s),e.elementType=Cm,e.lanes=i,e;case sE:return $f(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nE:o=10;break e;case aE:o=9;break e;case $g:o=11;break e;case Fg:o=14;break e;case is:o=16,n=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=mn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ci(e,t,r,n){return e=mn(7,e,n,t),e.lanes=r,e}function $f(e,t,r,n){return e=mn(22,e,n,t),e.elementType=sE,e.lanes=r,e.stateNode={isHidden:!1},e}function Rp(e,t,r){return e=mn(6,e,null,t),e.lanes=r,e}function Lp(e,t,r){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jy(e,t,r,n,s,i,o,l,c){return e=new g3(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(i),e}function y3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function XC(e){if(!e)return Ps;e=e._reactInternals;e:{if(Ai(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var r=e.type;if(Or(r))return XE(e,r,t)}return t}function ZC(e,t,r,n,s,i,o,l,c){return e=jy(r,n,!0,e,s,i,o,l,c),e.context=XC(null),r=e.current,n=br(),s=Ns(r),i=Sa(n,s),i.callback=t??null,js(r,i,s),e.current.lanes=s,Ac(e,s,n),Tr(e,n),e}function Ff(e,t,r,n){var s=t.current,i=br(),o=Ns(s);return r=XC(r),t.context===null?t.context=r:t.pendingContext=r,t=Sa(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=js(s,t,o),e!==null&&(Mn(e,s,o,i),Vu(e,s,o)),o}function Pd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wy(e,t){qN(e,t),(e=e.alternate)&&qN(e,t)}function x3(){return null}var QC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ny(e){this._internalRoot=e}Bf.prototype.render=Ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));Ff(e,t,null,null)};Bf.prototype.unmount=Ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bi(function(){Ff(null,e,null,null)}),t[Ma]=null}};function Bf(e){this._internalRoot=e}Bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=PE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ds.length&&t!==0&&t<ds[r].priority;r++);ds.splice(r,0,e),r===0&&OE(e)}};function _y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UN(){}function b3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=Pd(o);i.call(d)}}var o=ZC(t,n,e,0,null,!1,!1,"",UN);return e._reactRootContainer=o,e[Ma]=o.current,ic(e.nodeType===8?e.parentNode:e),bi(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Pd(c);l.call(d)}}var c=jy(e,0,!1,null,null,!1,!1,"",UN);return e._reactRootContainer=c,e[Ma]=c.current,ic(e.nodeType===8?e.parentNode:e),bi(function(){Ff(t,c,r,n)}),c}function Uf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Pd(o);l.call(c)}}Ff(t,o,e,s)}else o=b3(r,t,e,s,n);return Pd(o)}EE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dl(t.pendingLanes);r!==0&&(Ug(t,r|1),Tr(t,Nt()),!(Fe&6)&&(vo=Nt()+500,Ls()))}break;case 13:bi(function(){var n=Da(e,1);if(n!==null){var s=br();Mn(n,e,1,s)}}),wy(e,1)}};Hg=function(e){if(e.tag===13){var t=Da(e,134217728);if(t!==null){var r=br();Mn(t,e,134217728,r)}wy(e,134217728)}};CE=function(e){if(e.tag===13){var t=Ns(e),r=Da(e,t);if(r!==null){var n=br();Mn(r,e,t,n)}wy(e,t)}};PE=function(){return He};AE=function(e,t){var r=He;try{return He=e,t()}finally{He=r}};zm=function(e,t,r){switch(t){case"input":if(Om(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Mf(n);if(!s)throw Error(he(90));oE(n),Om(n,s)}}}break;case"textarea":cE(e,r);break;case"select":t=r.value,t!=null&&Ji(e,!!r.multiple,t,!1)}};vE=gy;gE=bi;var j3={usingClientEntryPoint:!1,Events:[Tc,Hi,Mf,pE,mE,gy]},xl={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w3={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bE(e),e===null?null:e.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||x3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Pf=ju.inject(w3),Jn=ju}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j3;Jr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_y(t))throw Error(he(200));return y3(e,t,null,r)};Jr.createRoot=function(e,t){if(!_y(e))throw Error(he(299));var r=!1,n="",s=QC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jy(e,1,!1,null,null,r,!1,n,s),e[Ma]=t.current,ic(e.nodeType===8?e.parentNode:e),new Ny(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=bE(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return bi(e)};Jr.hydrate=function(e,t,r){if(!qf(t))throw Error(he(200));return Uf(null,e,t,!0,r)};Jr.hydrateRoot=function(e,t,r){if(!_y(e))throw Error(he(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=QC;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ZC(t,null,e,1,r??null,s,!1,i,o),e[Ma]=t.current,ic(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Bf(t)};Jr.render=function(e,t,r){if(!qf(t))throw Error(he(200));return Uf(null,e,t,!1,r)};Jr.unmountComponentAtNode=function(e){if(!qf(e))throw Error(he(40));return e._reactRootContainer?(bi(function(){Uf(null,null,e,!1,function(){e._reactRootContainer=null,e[Ma]=null})}),!0):!1};Jr.unstable_batchedUpdates=gy;Jr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!qf(r))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Uf(e,t,r,!1,n)};Jr.version="18.3.1-next-f1338f8080-20240426";function JC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JC)}catch(e){console.error(e)}}JC(),J2.exports=Jr;var Hf=J2.exports,eP,HN=Hf;eP=HN.createRoot,HN.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mc.apply(this,arguments)}var vs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vs||(vs={}));const WN="popstate";function N3(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return gv("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ad(s)}return k3(t,r,null,e)}function vt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _3(){return Math.random().toString(36).substr(2,8)}function KN(e,t){return{usr:e.state,key:e.key,idx:t}}function gv(e,t,r,n){return r===void 0&&(r=null),mc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mo(t):t,{state:r,key:t&&t.key||n||_3()})}function Ad(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Mo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function k3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=vs.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(mc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=vs.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:l,location:v.location,delta:y})}function h(g,y){l=vs.Push;let x=gv(v.location,g,y);d=u()+1;let w=KN(x,d),j=v.createHref(x);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function p(g,y){l=vs.Replace;let x=gv(v.location,g,y);d=u();let w=KN(x,d),j=v.createHref(x);o.replaceState(w,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function m(g){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof g=="string"?g:Ad(g);return x=x.replace(/ $/,"%20"),vt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return l},get location(){return e(s,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(WN,f),c=g,()=>{s.removeEventListener(WN,f),c=null}},createHref(g){return t(s,g)},createURL:m,encodeLocation(g){let y=m(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return o.go(g)}};return v}var VN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VN||(VN={}));function S3(e,t,r){return r===void 0&&(r="/"),E3(e,t,r)}function E3(e,t,r,n){let s=typeof t=="string"?Mo(t):t,i=go(s.pathname||"/",r);if(i==null)return null;let o=rP(e);C3(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=$3(i);l=I3(o[c],d)}return l}function rP(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ks([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),rP(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:R3(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of nP(i.path))s(i,o,c)}),t}function nP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=nP(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function C3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:L3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const P3=/^:[\w-]+$/,A3=3,O3=2,T3=1,M3=10,D3=-2,GN=e=>e==="*";function R3(e,t){let r=e.split("/"),n=r.length;return r.some(GN)&&(n+=D3),t&&(n+=O3),r.filter(s=>!GN(s)).reduce((s,i)=>s+(P3.test(i)?A3:i===""?T3:M3),n)}function L3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function I3(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=yv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ks([i,f.pathname]),pathnameBase:U3(ks([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ks([i,f.pathnameBase]))}return o}function yv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=z3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let v=l[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[f];return p&&!m?d[h]=void 0:d[h]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function z3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function $3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function go(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function F3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Mo(e):e;return{pathname:r?r.startsWith("/")?r:B3(r,t):t,search:H3(n),hash:W3(s)}}function B3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ip(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ky(e,t){let r=q3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Mo(e):(s=mc({},e),vt(!s.pathname||!s.pathname.includes("?"),Ip("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Ip("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Ip("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=F3(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ks=e=>e.join("/").replace(/\/\/+/g,"/"),U3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aP=["post","put","patch","delete"];new Set(aP);const V3=["get",...aP];new Set(V3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}const Wf=b.createContext(null),sP=b.createContext(null),Ka=b.createContext(null),Kf=b.createContext(null),Va=b.createContext({outlet:null,matches:[],isDataRoute:!1}),iP=b.createContext(null);function G3(e,t){let{relative:r}=t===void 0?{}:t;Do()||vt(!1);let{basename:n,navigator:s}=b.useContext(Ka),{hash:i,pathname:o,search:l}=Vf(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ks([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Do(){return b.useContext(Kf)!=null}function Is(){return Do()||vt(!1),b.useContext(Kf).location}function oP(e){b.useContext(Ka).static||b.useLayoutEffect(e)}function jt(){let{isDataRoute:e}=b.useContext(Va);return e?oL():Y3()}function Y3(){Do()||vt(!1);let e=b.useContext(Wf),{basename:t,future:r,navigator:n}=b.useContext(Ka),{matches:s}=b.useContext(Va),{pathname:i}=Is(),o=JSON.stringify(ky(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return oP(()=>{l.current=!0}),b.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=Sy(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ks([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function lP(){let{matches:e}=b.useContext(Va),t=e[e.length-1];return t?t.params:{}}function Vf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(Ka),{matches:s}=b.useContext(Va),{pathname:i}=Is(),o=JSON.stringify(ky(s,n.v7_relativeSplatPath));return b.useMemo(()=>Sy(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function X3(e,t){return Z3(e,t)}function Z3(e,t,r,n){Do()||vt(!1);let{navigator:s}=b.useContext(Ka),{matches:i}=b.useContext(Va),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Is(),u;if(t){var f;let g=typeof t=="string"?Mo(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||vt(!1),u=g}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=S3(e,{pathname:p}),v=rL(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ks([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:ks([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&v?b.createElement(Kf.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vs.Pop}},v):v}function Q3(){let e=iL(),t=K3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const J3=b.createElement(Q3,null);class eL extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(Va.Provider,{value:this.props.routeContext},b.createElement(iP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tL(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(Wf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Va.Provider,{value:t},n)}function rL(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||vt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,m=!1,v=null,g=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||J3,c&&(d<0&&h===0?(lL("route-fallback"),m=!0,g=null):d===h&&(m=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let w;return p?w=v:m?w=g:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,b.createElement(tL,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(eL,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var cP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cP||{}),uP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uP||{});function nL(e){let t=b.useContext(Wf);return t||vt(!1),t}function aL(e){let t=b.useContext(sP);return t||vt(!1),t}function sL(e){let t=b.useContext(Va);return t||vt(!1),t}function dP(e){let t=sL(),r=t.matches[t.matches.length-1];return r.route.id||vt(!1),r.route.id}function iL(){var e;let t=b.useContext(iP),r=aL(),n=dP();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function oL(){let{router:e}=nL(cP.UseNavigateStable),t=dP(uP.UseNavigateStable),r=b.useRef(!1);return oP(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,vc({fromRouteId:t},i)))},[e,t])}const YN={};function lL(e,t,r){YN[e]||(YN[e]=!0)}function cL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function fP(e){let{to:t,replace:r,state:n,relative:s}=e;Do()||vt(!1);let{future:i,static:o}=b.useContext(Ka),{matches:l}=b.useContext(Va),{pathname:c}=Is(),d=jt(),u=Sy(t,ky(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(u);return b.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:s}),[d,f,s,r,n]),null}function it(e){vt(!1)}function uL(e){let{basename:t="/",children:r=null,location:n,navigationType:s=vs.Pop,navigator:i,static:o=!1,future:l}=e;Do()&&vt(!1);let c=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:i,static:o,future:vc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Mo(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,v=b.useMemo(()=>{let g=go(u,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:m},navigationType:s}},[c,u,f,h,p,m,s]);return v==null?null:b.createElement(Ka.Provider,{value:d},b.createElement(Kf.Provider,{children:r,value:v}))}function dL(e){let{children:t,location:r}=e;return X3(xv(t),r)}new Promise(()=>{});function xv(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let i=[...t,s];if(n.type===b.Fragment){r.push.apply(r,xv(n.props.children,i));return}n.type!==it&&vt(!1),!n.props.index||!n.props.children||vt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xv(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function hP(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function fL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hL(e,t){return e.button===0&&(!t||t==="_self")&&!fL(e)}function bv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function pL(e,t){let r=bv(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const mL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gL="6";try{window.__reactRouterVersion=gL}catch{}const yL=b.createContext({isTransitioning:!1}),xL="startTransition",XN=Z2[xL];function bL(e){let{basename:t,children:r,future:n,window:s}=e,i=b.useRef();i.current==null&&(i.current=N3({window:s,v5Compat:!0}));let o=i.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=b.useCallback(f=>{d&&XN?XN(()=>c(f)):c(f)},[c,d]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>cL(n),[n]),b.createElement(uL,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const jL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ja=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=hP(t,mL),{basename:p}=b.useContext(Ka),m,v=!1;if(typeof d=="string"&&wL.test(d)&&(m=d,jL))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=go(j.pathname,p);j.origin===w.origin&&N!=null?d=N+j.search+j.hash:v=!0}catch{}let g=G3(d,{relative:s}),y=kL(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||y(w)}return b.createElement("a",Od({},h,{href:m||g,onClick:v||i?n:x,ref:r,target:c}))}),NL=b.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:u}=t,f=hP(t,vL),h=Vf(c,{relative:f.relative}),p=Is(),m=b.useContext(sP),{navigator:v,basename:g}=b.useContext(Ka),y=m!=null&&SL(h)&&d===!0,x=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,w=p.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(w=w.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&g&&(j=go(j,g)||j);const N=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let S=w===x||!o&&w.startsWith(x)&&w.charAt(N)==="/",_=j!=null&&(j===x||!o&&j.startsWith(x)&&j.charAt(x.length)==="/"),k={isActive:S,isPending:_,isTransitioning:y},P=S?n:void 0,E;typeof i=="function"?E=i(k):E=[i,S?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(k):l;return b.createElement(ja,Od({},f,{"aria-current":P,className:E,ref:r,style:C,to:c,viewTransition:d}),typeof u=="function"?u(k):u)});var jv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jv||(jv={}));var ZN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ZN||(ZN={}));function _L(e){let t=b.useContext(Wf);return t||vt(!1),t}function kL(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=jt(),d=Is(),u=Vf(e,{relative:o});return b.useCallback(f=>{if(hL(f,r)){f.preventDefault();let h=n!==void 0?n:Ad(d)===Ad(u);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}function pP(e){let t=b.useRef(bv(e)),r=b.useRef(!1),n=Is(),s=b.useMemo(()=>pL(n.search,r.current?null:t.current),[n.search]),i=jt(),o=b.useCallback((l,c)=>{const d=bv(typeof l=="function"?l(s):l);r.current=!0,i("?"+d,c)},[i,s]);return[s,o]}function SL(e,t){t===void 0&&(t={});let r=b.useContext(yL);r==null&&vt(!1);let{basename:n}=_L(jv.useViewTransitionState),s=Vf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=go(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=go(r.nextLocation.pathname,n)||r.nextLocation.pathname;return yv(s.pathname,o)!=null||yv(s.pathname,i)!=null}function mP(e,t){return function(){return e.apply(t,arguments)}}const{toString:EL}=Object.prototype,{getPrototypeOf:Ey}=Object,{iterator:Gf,toStringTag:vP}=Symbol,Yf=(e=>t=>{const r=EL.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$n=e=>(e=e.toLowerCase(),t=>Yf(t)===e),Xf=e=>t=>typeof t===e,{isArray:Ro}=Array,yo=Xf("undefined");function Dc(e){return e!==null&&!yo(e)&&e.constructor!==null&&!yo(e.constructor)&&Mr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gP=$n("ArrayBuffer");function CL(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gP(e.buffer),t}const PL=Xf("string"),Mr=Xf("function"),yP=Xf("number"),Rc=e=>e!==null&&typeof e=="object",AL=e=>e===!0||e===!1,ed=e=>{if(Yf(e)!=="object")return!1;const t=Ey(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(vP in e)&&!(Gf in e)},OL=e=>{if(!Rc(e)||Dc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},TL=$n("Date"),ML=$n("File"),DL=$n("Blob"),RL=$n("FileList"),LL=e=>Rc(e)&&Mr(e.pipe),IL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Mr(e.append)&&((t=Yf(e))==="formdata"||t==="object"&&Mr(e.toString)&&e.toString()==="[object FormData]"))},zL=$n("URLSearchParams"),[$L,FL,BL,qL]=["ReadableStream","Request","Response","Headers"].map($n),UL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Ro(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(Dc(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function xP(e,t){if(Dc(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const ri=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bP=e=>!yo(e)&&e!==ri;function wv(){const{caseless:e,skipUndefined:t}=bP(this)&&this||{},r={},n=(s,i)=>{const o=e&&xP(r,i)||i;ed(r[o])&&ed(s)?r[o]=wv(r[o],s):ed(s)?r[o]=wv({},s):Ro(s)?r[o]=s.slice():(!t||!yo(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Lc(arguments[s],n);return r}const HL=(e,t,r,{allOwnKeys:n}={})=>(Lc(t,(s,i)=>{r&&Mr(s)?e[i]=mP(s,r):e[i]=s},{allOwnKeys:n}),e),WL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),KL=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},VL=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Ey(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},GL=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},YL=e=>{if(!e)return null;if(Ro(e))return e;let t=e.length;if(!yP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},XL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ey(Uint8Array)),ZL=(e,t)=>{const n=(e&&e[Gf]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},QL=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},JL=$n("HTMLFormElement"),eI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),QN=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),tI=$n("RegExp"),jP=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Lc(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},rI=e=>{jP(e,(t,r)=>{if(Mr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Mr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nI=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ro(e)?n(e):n(String(e).split(t)),r},aI=()=>{},sI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function iI(e){return!!(e&&Mr(e.append)&&e[vP]==="FormData"&&e[Gf])}const oI=e=>{const t=new Array(10),r=(n,s)=>{if(Rc(n)){if(t.indexOf(n)>=0)return;if(Dc(n))return n;if(!("toJSON"in n)){t[s]=n;const i=Ro(n)?[]:{};return Lc(n,(o,l)=>{const c=r(o,s+1);!yo(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},lI=$n("AsyncFunction"),cI=e=>e&&(Rc(e)||Mr(e))&&Mr(e.then)&&Mr(e.catch),wP=((e,t)=>e?setImmediate:t?((r,n)=>(ri.addEventListener("message",({source:s,data:i})=>{s===ri&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ri.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Mr(ri.postMessage)),uI=typeof queueMicrotask<"u"?queueMicrotask.bind(ri):typeof process<"u"&&process.nextTick||wP,dI=e=>e!=null&&Mr(e[Gf]),se={isArray:Ro,isArrayBuffer:gP,isBuffer:Dc,isFormData:IL,isArrayBufferView:CL,isString:PL,isNumber:yP,isBoolean:AL,isObject:Rc,isPlainObject:ed,isEmptyObject:OL,isReadableStream:$L,isRequest:FL,isResponse:BL,isHeaders:qL,isUndefined:yo,isDate:TL,isFile:ML,isBlob:DL,isRegExp:tI,isFunction:Mr,isStream:LL,isURLSearchParams:zL,isTypedArray:XL,isFileList:RL,forEach:Lc,merge:wv,extend:HL,trim:UL,stripBOM:WL,inherits:KL,toFlatObject:VL,kindOf:Yf,kindOfTest:$n,endsWith:GL,toArray:YL,forEachEntry:ZL,matchAll:QL,isHTMLForm:JL,hasOwnProperty:QN,hasOwnProp:QN,reduceDescriptors:jP,freezeMethods:rI,toObjectSet:nI,toCamelCase:eI,noop:aI,toFiniteNumber:sI,findKey:xP,global:ri,isContextDefined:bP,isSpecCompliantForm:iI,toJSONObject:oI,isAsyncFn:lI,isThenable:cI,setImmediate:wP,asap:uI,isIterable:dI};function ke(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}se.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const NP=ke.prototype,_P={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_P[e]={value:e}});Object.defineProperties(ke,_P);Object.defineProperty(NP,"isAxiosError",{value:!0});ke.from=(e,t,r,n,s,i)=>{const o=Object.create(NP);se.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ke.call(o,l,c,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const fI=null;function Nv(e){return se.isPlainObject(e)||se.isArray(e)}function kP(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function JN(e,t,r){return e?e.concat(t).map(function(s,i){return s=kP(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function hI(e){return se.isArray(e)&&!e.some(Nv)}const pI=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function Zf(e,t,r){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=se.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!se.isUndefined(g[v])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(se.isDate(m))return m.toISOString();if(se.isBoolean(m))return m.toString();if(!c&&se.isBlob(m))throw new ke("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(m)||se.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,g){let y=m;if(m&&!g&&typeof m=="object"){if(se.endsWith(v,"{}"))v=n?v:v.slice(0,-2),m=JSON.stringify(m);else if(se.isArray(m)&&hI(m)||(se.isFileList(m)||se.endsWith(v,"[]"))&&(y=se.toArray(m)))return v=kP(v),y.forEach(function(w,j){!(se.isUndefined(w)||w===null)&&t.append(o===!0?JN([v],j,i):o===null?v:v+"[]",d(w))}),!1}return Nv(m)?!0:(t.append(JN(g,v,i),d(m)),!1)}const f=[],h=Object.assign(pI,{defaultVisitor:u,convertValue:d,isVisitable:Nv});function p(m,v){if(!se.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(m),se.forEach(m,function(y,x){(!(se.isUndefined(y)||y===null)&&s.call(t,y,se.isString(x)?x.trim():x,v,h))===!0&&p(y,v?v.concat(x):[x])}),f.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return p(e),t}function e_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Cy(e,t){this._pairs=[],e&&Zf(e,this,t)}const SP=Cy.prototype;SP.append=function(t,r){this._pairs.push([t,r])};SP.toString=function(t){const r=t?function(n){return t.call(this,n,e_)}:e_;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function mI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function EP(e,t,r){if(!t)return e;const n=r&&r.encode||mI;se.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=se.isURLSearchParams(t)?t.toString():new Cy(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class t_{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(n){n!==null&&t(n)})}}const CP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vI=typeof URLSearchParams<"u"?URLSearchParams:Cy,gI=typeof FormData<"u"?FormData:null,yI=typeof Blob<"u"?Blob:null,xI={isBrowser:!0,classes:{URLSearchParams:vI,FormData:gI,Blob:yI},protocols:["http","https","file","blob","url","data"]},Py=typeof window<"u"&&typeof document<"u",_v=typeof navigator=="object"&&navigator||void 0,bI=Py&&(!_v||["ReactNative","NativeScript","NS"].indexOf(_v.product)<0),jI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wI=Py&&window.location.href||"http://localhost",NI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Py,hasStandardBrowserEnv:bI,hasStandardBrowserWebWorkerEnv:jI,navigator:_v,origin:wI},Symbol.toStringTag,{value:"Module"})),dr={...NI,...xI};function _I(e,t){return Zf(e,new dr.classes.URLSearchParams,{visitor:function(r,n,s,i){return dr.isNode&&se.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function kI(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function SI(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function PP(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&se.isArray(s)?s.length:o,c?(se.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!se.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&se.isArray(s[o])&&(s[o]=SI(s[o])),!l)}if(se.isFormData(e)&&se.isFunction(e.entries)){const r={};return se.forEachEntry(e,(n,s)=>{t(kI(n),s,r,0)}),r}return null}function EI(e,t,r){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ic={transitional:CP,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=se.isObject(t);if(i&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return s?JSON.stringify(PP(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _I(t,this.formSerializer).toString();if((l=se.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Zf(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),EI(t)):t}],transformResponse:[function(t){const r=this.transitional||Ic.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ke.from(l,ke.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{Ic.headers[e]={}});const CI=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PI=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&CI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},r_=Symbol("internals");function bl(e){return e&&String(e).trim().toLowerCase()}function td(e){return e===!1||e==null?e:se.isArray(e)?e.map(td):String(e)}function AI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const OI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function zp(e,t,r,n,s){if(se.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!se.isString(t)){if(se.isString(n))return t.indexOf(n)!==-1;if(se.isRegExp(n))return n.test(t)}}function TI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function MI(e,t){const r=se.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let Dr=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,d){const u=bl(c);if(!u)throw new Error("header name must be a non-empty string");const f=se.findKey(s,u);(!f||s[f]===void 0||d===!0||d===void 0&&s[f]!==!1)&&(s[f||c]=td(l))}const o=(l,c)=>se.forEach(l,(d,u)=>i(d,u,c));if(se.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(se.isString(t)&&(t=t.trim())&&!OI(t))o(PI(t),r);else if(se.isObject(t)&&se.isIterable(t)){let l={},c,d;for(const u of t){if(!se.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?se.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=bl(t),t){const n=se.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return AI(s);if(se.isFunction(r))return r.call(this,s,n);if(se.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=bl(t),t){const n=se.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||zp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=bl(o),o){const l=se.findKey(n,o);l&&(!r||zp(n,n[l],l,r))&&(delete n[l],s=!0)}}return se.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||zp(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return se.forEach(this,(s,i)=>{const o=se.findKey(n,i);if(o){r[o]=td(s),delete r[i];return}const l=t?TI(i):String(i).trim();l!==i&&delete r[i],r[l]=td(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return se.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&se.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[r_]=this[r_]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=bl(o);n[l]||(MI(s,o),n[l]=!0)}return se.isArray(t)?t.forEach(i):i(t),this}};Dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Dr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});se.freezeMethods(Dr);function $p(e,t){const r=this||Ic,n=t||r,s=Dr.from(n.headers);let i=n.data;return se.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function AP(e){return!!(e&&e.__CANCEL__)}function Lo(e,t,r){ke.call(this,e??"canceled",ke.ERR_CANCELED,t,r),this.name="CanceledError"}se.inherits(Lo,ke,{__CANCEL__:!0});function OP(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ke("Request failed with status code "+r.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function DI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function RI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[s]=c,n[s]=d;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<t)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function LI(e,t){let r=0,n=1e3/t,s,i;const o=(d,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=n?o(d,u):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},n-f)))},()=>s&&o(s)]}const Td=(e,t,r=3)=>{let n=0;const s=RI(50,250);return LI(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=s(c),u=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},n_=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},a_=e=>(...t)=>se.asap(()=>e(...t)),II=dr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,dr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,zI=dr.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];se.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),se.isString(n)&&o.push("path="+n),se.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $I(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function FI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function TP(e,t,r){let n=!$I(t);return e&&(n||r==!1)?FI(e,t):t}const s_=e=>e instanceof Dr?{...e}:e;function ji(e,t){t=t||{};const r={};function n(d,u,f,h){return se.isPlainObject(d)&&se.isPlainObject(u)?se.merge.call({caseless:h},d,u):se.isPlainObject(u)?se.merge({},u):se.isArray(u)?u.slice():u}function s(d,u,f,h){if(se.isUndefined(u)){if(!se.isUndefined(d))return n(void 0,d,f,h)}else return n(d,u,f,h)}function i(d,u){if(!se.isUndefined(u))return n(void 0,u)}function o(d,u){if(se.isUndefined(u)){if(!se.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in t)return n(d,u);if(f in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>s(s_(d),s_(u),f,!0)};return se.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||s,h=f(e[u],t[u],u);se.isUndefined(h)&&f!==l||(r[u]=h)}),r}const MP=e=>{const t=ji({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Dr.from(o),t.url=EP(TP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),se.isFormData(r)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(se.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(dr.hasStandardBrowserEnv&&(n&&se.isFunction(n)&&(n=n(t)),n||n!==!1&&II(t.url))){const c=s&&i&&zI.read(i);c&&o.set(s,c)}return t},BI=typeof XMLHttpRequest<"u",qI=BI&&function(e){return new Promise(function(r,n){const s=MP(e);let i=s.data;const o=Dr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=s,u,f,h,p,m;function v(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function y(){if(!g)return;const w=Dr.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};OP(function(_){r(_),v()},function(_){n(_),v()},N),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(n(new ke("Request aborted",ke.ECONNABORTED,e,g)),g=null)},g.onerror=function(j){const N=j&&j.message?j.message:"Network Error",S=new ke(N,ke.ERR_NETWORK,e,g);S.event=j||null,n(S),g=null},g.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||CP;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),n(new ke(j,N.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&se.forEach(o.toJSON(),function(j,N){g.setRequestHeader(N,j)}),se.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),l&&l!=="json"&&(g.responseType=s.responseType),d&&([h,m]=Td(d,!0),g.addEventListener("progress",h)),c&&g.upload&&([f,p]=Td(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=w=>{g&&(n(!w||w.type?new Lo(null,e,g):w),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const x=DI(s.url);if(x&&dr.protocols.indexOf(x)===-1){n(new ke("Unsupported protocol "+x+":",ke.ERR_BAD_REQUEST,e));return}g.send(i||null)})},UI=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(d){if(!s){s=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof ke?u:new Lo(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new ke(`timeout ${t} of ms exceeded`,ke.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>se.asap(l),c}},HI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},WI=async function*(e,t){for await(const r of KI(e))yield*HI(r,t)},KI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},i_=(e,t,r,n)=>{const s=WI(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},o_=64*1024,{isFunction:wu}=se,VI=(({Request:e,Response:t})=>({Request:e,Response:t}))(se.global),{ReadableStream:l_,TextEncoder:c_}=se.global,u_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},GI=e=>{e=se.merge.call({skipUndefined:!0},VI,e);const{fetch:t,Request:r,Response:n}=e,s=t?wu(t):typeof fetch=="function",i=wu(r),o=wu(n);if(!s)return!1;const l=s&&wu(l_),c=s&&(typeof c_=="function"?(m=>v=>m.encode(v))(new c_):async m=>new Uint8Array(await new r(m).arrayBuffer())),d=i&&l&&u_(()=>{let m=!1;const v=new r(dr.origin,{body:new l_,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),u=o&&l&&u_(()=>se.isReadableStream(new n("").body)),f={stream:u&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(v,g)=>{let y=v&&v[m];if(y)return y.call(v);throw new ke(`Response type '${m}' is not supported`,ke.ERR_NOT_SUPPORT,g)})});const h=async m=>{if(m==null)return 0;if(se.isBlob(m))return m.size;if(se.isSpecCompliantForm(m))return(await new r(dr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(se.isArrayBufferView(m)||se.isArrayBuffer(m))return m.byteLength;if(se.isURLSearchParams(m)&&(m=m+""),se.isString(m))return(await c(m)).byteLength},p=async(m,v)=>{const g=se.toFiniteNumber(m.getContentLength());return g??h(v)};return async m=>{let{url:v,method:g,data:y,signal:x,cancelToken:w,timeout:j,onDownloadProgress:N,onUploadProgress:S,responseType:_,headers:k,withCredentials:P="same-origin",fetchOptions:E}=MP(m),C=t||fetch;_=_?(_+"").toLowerCase():"text";let A=UI([x,w&&w.toAbortSignal()],j),D=null;const M=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let O;try{if(S&&d&&g!=="get"&&g!=="head"&&(O=await p(k,y))!==0){let T=new r(v,{method:"POST",body:y,duplex:"half"}),I;if(se.isFormData(y)&&(I=T.headers.get("content-type"))&&k.setContentType(I),T.body){const[U,K]=n_(O,Td(a_(S)));y=i_(T.body,o_,U,K)}}se.isString(P)||(P=P?"include":"omit");const z=i&&"credentials"in r.prototype,$={...E,signal:A,method:g.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:z?P:void 0};D=i&&new r(v,$);let q=await(i?C(D,E):C(v,$));const R=u&&(_==="stream"||_==="response");if(u&&(N||R&&M)){const T={};["status","statusText","headers"].forEach(H=>{T[H]=q[H]});const I=se.toFiniteNumber(q.headers.get("content-length")),[U,K]=N&&n_(I,Td(a_(N),!0))||[];q=new n(i_(q.body,o_,U,()=>{K&&K(),M&&M()}),T)}_=_||"text";let L=await f[se.findKey(f,_)||"text"](q,m);return!R&&M&&M(),await new Promise((T,I)=>{OP(T,I,{data:L,headers:Dr.from(q.headers),status:q.status,statusText:q.statusText,config:m,request:D})})}catch(z){throw M&&M(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,m,D),{cause:z.cause||z}):ke.from(z,z&&z.code,m,D)}}},YI=new Map,DP=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,l=o,c,d,u=YI;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:GI(t)),u=d;return d};DP();const kv={http:fI,xhr:qI,fetch:{get:DP}};se.forEach(kv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const d_=e=>`- ${e}`,XI=e=>se.isFunction(e)||e===null||e===!1,RP={getAdapter:(e,t)=>{e=se.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(s=n,!XI(n)&&(s=kv[(l=String(n)).toLowerCase()],s===void 0))throw new ke(`Unknown adapter '${l}'`);if(s&&(se.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(d_).join(`
`):" "+d_(o[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:kv};function Fp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lo(null,e)}function f_(e){return Fp(e),e.headers=Dr.from(e.headers),e.data=$p.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),RP.getAdapter(e.adapter||Ic.adapter,e)(e).then(function(n){return Fp(e),n.data=$p.call(e,e.transformResponse,n),n.headers=Dr.from(n.headers),n},function(n){return AP(n)||(Fp(e),n&&n.response&&(n.response.data=$p.call(e,e.transformResponse,n.response),n.response.headers=Dr.from(n.response.headers))),Promise.reject(n)})}const LP="1.12.2",Qf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const h_={};Qf.transitional=function(t,r,n){function s(i,o){return"[Axios v"+LP+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ke(s(o," has been removed"+(r?" in "+r:"")),ke.ERR_DEPRECATED);return r&&!h_[o]&&(h_[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Qf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function ZI(e,t,r){if(typeof e!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ke("option "+i+" must be "+c,ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ke("Unknown option "+i,ke.ERR_BAD_OPTION)}}const rd={assertOptions:ZI,validators:Qf},Wn=rd.validators;let ui=class{constructor(t){this.defaults=t||{},this.interceptors={request:new t_,response:new t_}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ji(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&rd.assertOptions(n,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1),s!=null&&(se.isFunction(s)?r.paramsSerializer={serialize:s}:rd.assertOptions(s,{encode:Wn.function,serialize:Wn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),rd.assertOptions(r,{baseUrl:Wn.spelling("baseURL"),withXsrfToken:Wn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&se.merge(i.common,i[r.method]);i&&se.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=Dr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let u,f=0,h;if(!c){const m=[f_.bind(this),void 0];for(m.unshift(...l),m.push(...d),h=m.length,u=Promise.resolve(r);f<h;)u=u.then(m[f++],m[f++]);return u}h=l.length;let p=r;for(;f<h;){const m=l[f++],v=l[f++];try{p=m(p)}catch(g){v.call(this,g);break}}try{u=f_.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=ji(this.defaults,t);const r=TP(t.baseURL,t.url,t.allowAbsoluteUrls);return EP(r,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){ui.prototype[t]=function(r,n){return this.request(ji(n||{},{method:t,url:r,data:(n||{}).data}))}});se.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(ji(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ui.prototype[t]=r(),ui.prototype[t+"Form"]=r(!0)});let QI=class IP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Lo(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new IP(function(s){t=s}),cancel:t}}};function JI(e){return function(r){return e.apply(null,r)}}function e6(e){return se.isObject(e)&&e.isAxiosError===!0}const Sv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sv).forEach(([e,t])=>{Sv[t]=e});function zP(e){const t=new ui(e),r=mP(ui.prototype.request,t);return se.extend(r,ui.prototype,t,{allOwnKeys:!0}),se.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return zP(ji(e,s))},r}const kt=zP(Ic);kt.Axios=ui;kt.CanceledError=Lo;kt.CancelToken=QI;kt.isCancel=AP;kt.VERSION=LP;kt.toFormData=Zf;kt.AxiosError=ke;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=JI;kt.isAxiosError=e6;kt.mergeConfig=ji;kt.AxiosHeaders=Dr;kt.formToJSON=e=>PP(se.isHTMLForm(e)?new FormData(e):e);kt.getAdapter=RP.getAdapter;kt.HttpStatusCode=Sv;kt.default=kt;const{Axios:Uie,AxiosError:Hie,CanceledError:Wie,isCancel:Kie,CancelToken:Vie,VERSION:Gie,all:Yie,Cancel:Xie,isAxiosError:Zie,spread:Qie,toFormData:Jie,AxiosHeaders:eoe,HttpStatusCode:toe,formToJSON:roe,getAdapter:noe,mergeConfig:aoe}=kt,t6="http://localhost:5000/api/v1",oe=kt.create({baseURL:t6,headers:{"Content-Type":"application/json"}});oe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));oe.interceptors.response.use(e=>e,e=>{var t;if(((t=e.response)==null?void 0:t.status)===401){const r=window.location.pathname,n=r==="/login"||r==="/",s=localStorage.getItem("token");!n&&s&&(console.warn(" Session expired - redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login")}return Promise.reject(e)});const Bp={login:async(e,t)=>{try{const r=await oe.post("/auth/login",{username:e,password:t});return r.data.success&&r.data.data.token&&(localStorage.setItem("token",r.data.data.token),localStorage.setItem("user",JSON.stringify(r.data.data.user))),r.data}catch(r){if(r.response&&r.response.data)return{success:!1,message:r.response.data.message||"Login failed",data:r.response.data.data||null};throw r}},logout:async()=>{try{await oe.post("/auth/logout")}finally{localStorage.removeItem("token"),localStorage.removeItem("user")}},getCurrentUser:async()=>(await oe.get("/auth/me")).data,changePassword:async(e,t)=>(await oe.put("/auth/change-password",{current_password:e,new_password:t})).data,getStoredUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null},getStoredToken:()=>localStorage.getItem("token"),isAuthenticated:()=>!!localStorage.getItem("token")},$P=b.createContext(null),r6=({children:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{const c=Bp.getStoredUser();c&&r(c),s(!1)},[]);const i=async(c,d)=>{try{const u=await Bp.login(c,d);return u.success?(u.data&&u.data.user&&r(u.data.user),{success:!0,data:u.data}):{success:!1,message:u.message||"Login failed",data:u.data||null}}catch(u){return console.error("Auth context login error:",u),u.response&&u.response.data?{success:!1,message:u.response.data.message||"Login failed",data:u.response.data.data||null}:{success:!1,message:u.message||"Login failed. Please try again."}}},o=async()=>{try{await Bp.logout()}catch(c){console.error("Logout error:",c)}finally{r(null)}},l=async()=>{if(localStorage.getItem("token"))try{const d=await oe.get("/auth/me");d.data.success&&(r(d.data.data),localStorage.setItem("user",JSON.stringify(d.data.data)))}catch(d){console.error("Failed to refresh user:",d)}};return a.jsx($P.Provider,{value:{user:t,login:i,logout:o,loading:n,refreshUser:l},children:e})},sr=()=>{const e=b.useContext($P);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},qp="app_settings_cache",Up="app_settings_cache_timestamp",p_=5*60*1e3;class n6{constructor(){this.cache=null,this.cacheTimestamp=null,this.fetchPromise=null,this.loadCacheFromStorage()}loadCacheFromStorage(){try{const t=localStorage.getItem(qp),r=localStorage.getItem(Up);t&&r&&(Date.now()-parseInt(r,10)<p_?(this.cache=JSON.parse(t),this.cacheTimestamp=parseInt(r,10)):this.clearCache())}catch{this.clearCache()}}saveCacheToStorage(t){try{localStorage.setItem(qp,JSON.stringify(t)),localStorage.setItem(Up,Date.now().toString()),this.cache=t,this.cacheTimestamp=Date.now()}catch{}}getFromCache(){const t=Date.now();return this.cache&&this.cacheTimestamp&&t-this.cacheTimestamp<p_?this.cache:null}async fetchSettings(t=!1){if(!t){const r=this.getFromCache();if(r)return r}return this.fetchPromise&&!t?this.fetchPromise:(this.fetchPromise=oe.get("/settings").then(r=>{if(r.data.success){const n=r.data.data.settings;return this.saveCacheToStorage(n),n}throw new Error("Failed to fetch settings")}).catch(r=>{const n=this.cache;if(n)return n;throw r}).finally(()=>{this.fetchPromise=null}),this.fetchPromise)}async updateSetting(t,r){try{const n=await oe.put(`/settings/${t}`,{value:r});if(n.data.success){if(this.cache){for(const s in this.cache)if(this.cache[s][t]){this.cache[s][t].value=r,this.saveCacheToStorage(this.cache);break}}return n.data}throw new Error(n.data.message||"Failed to update setting")}catch(n){throw n}}async updateBulkSettings(t){try{const r=await oe.put("/settings/bulk",{settings:t});if(r.data.success)return this.clearCache(),r.data;throw new Error(r.data.message||"Failed to update settings")}catch(r){throw r}}clearCache(){this.cache=null,this.cacheTimestamp=null,this.fetchPromise=null;try{localStorage.removeItem(qp),localStorage.removeItem(Up)}catch{}}getSettingValue(t,r=null){if(!this.cache)return r;for(const n in this.cache)if(this.cache[n]&&this.cache[n][t])return this.cache[n][t].value;return r}}const a6=new n6,FP=b.createContext(),BP=()=>{const e=b.useContext(FP);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e},s6=({children:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState(0),[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(!0),f=2e4,h=b.useRef(0),p=b.useRef(null),m=b.useRef(!1),v=b.useCallback(async()=>{var k,P;try{const E=await a6.fetchSettings();if(E&&E.notification){const C=((k=E.notification.notification_enabled)==null?void 0:k.value)==="true"||((P=E.notification.notification_enabled)==null?void 0:P.value)===!0;return u(C),C}return u(!0),!0}catch{return u(!0),!0}},[]);b.useEffect(()=>{v()},[v]);const g=b.useCallback(async()=>{try{if(!d){s(0);return}const k=Date.now();if(k-h.current<5e3)return;h.current=k;const E=await oe.get("/notifications/unread-count");if(E.data.success){const C=E.data.data.unread_count;s(C)}}catch(k){console.error(" Error fetching unread count:",k)}},[d]),y=b.useCallback(async(k=1,P=20,E=!1)=>{var C,A;try{if(!d)return console.log(" Skipping notification fetch - notifications disabled"),r([]),s(0),{notifications:[],pagination:null};o(!0),c(null);const D={page:k,limit:P,unread_only:E},M=await oe.get("/notifications",{params:D});if(M.data.success)return r(M.data.data.notifications),M.data.data}catch(D){return console.error(" Error fetching notifications:",D),c(((A=(C=D.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to fetch notifications"),null}finally{o(!1)}},[d]),x=b.useCallback(async k=>{try{return(await oe.patch(`/notifications/${k}/read`)).data.success?(r(E=>E.map(C=>C.notification_id===k?{...C,is_read:!0}:C)),s(E=>Math.max(0,E-1)),!0):!1}catch(P){return console.error(" Error marking notification as read:",P),!1}},[]),w=b.useCallback(async()=>{try{return(await oe.patch("/notifications/read-all")).data.success?(r(P=>P.map(E=>({...E,is_read:!0}))),s(0),!0):!1}catch(k){return console.error(" Error marking all as read:",k),!1}},[]),j=b.useCallback(async k=>{try{if((await oe.delete(`/notifications/${k}`)).data.success){r(C=>C.filter(A=>A.notification_id!==k));const E=t.find(C=>C.notification_id===k);return E&&!E.is_read&&s(C=>Math.max(0,C-1)),!0}return!1}catch(P){return console.error(" Error deleting notification:",P),!1}},[t]),N=b.useCallback(async()=>{try{return(await oe.delete("/notifications/clear-read")).data.success?(r(P=>P.filter(E=>!E.is_read)),!0):!1}catch(k){return console.error(" Error clearing read notifications:",k),!1}},[]),S=b.useCallback(async()=>{await v(),await Promise.all([g(),y()])},[v,g,y]);b.useEffect(()=>{const k=localStorage.getItem("token");if(k&&d&&!m.current){m.current=!0,console.log(` Notification polling started (every ${f/1e3}s)`);const P=setTimeout(()=>{g()},2e3);return p.current=setInterval(()=>{g()},f),()=>{console.log(" Notification polling stopped"),clearTimeout(P),p.current&&(clearInterval(p.current),p.current=null),m.current=!1}}(!k||!d)&&p.current&&(clearInterval(p.current),p.current=null,m.current=!1,console.log(" Notification polling stopped (disabled or no token)"))},[g,d]),b.useEffect(()=>{const k=()=>{document.visibilityState==="visible"&&d&&Date.now()-h.current>5e3&&g()};return document.addEventListener("visibilitychange",k),()=>{document.removeEventListener("visibilitychange",k)}},[g,d]);const _={notifications:t,unreadCount:n,loading:i,error:l,isPolling:m.current,notificationsEnabled:d,fetchNotifications:y,fetchUnreadCount:g,markAsRead:x,markAllAsRead:w,deleteNotification:j,clearReadNotifications:N,refreshNotifications:S,checkNotificationSettings:v};return a.jsx(FP.Provider,{value:_,children:e})},qP=b.createContext(),Nn=()=>{const e=b.useContext(qP);if(!e)throw new Error("useToast must be used within ToastProvider");return e},i6=({children:e})=>{const[t,r]=b.useState([]),n=b.useCallback((d,u="success",f=4e3)=>{const h=Date.now()+Math.random();r(p=>[...p,{id:h,message:d,type:u}]),setTimeout(()=>{r(p=>p.filter(m=>m.id!==h))},f)},[]),s=b.useCallback(d=>{n(d,"success")},[n]),i=b.useCallback(d=>{n(d,"error")},[n]),o=b.useCallback(d=>{n(d,"warning")},[n]),l=b.useCallback(d=>{n(d,"info")},[n]),c=b.useCallback(d=>{r(u=>u.filter(f=>f.id!==d))},[]);return a.jsxs(qP.Provider,{value:{success:s,error:i,warning:o,info:l,showToast:n},children:[e,a.jsx("div",{className:"toast-container",children:t.map(d=>a.jsxs("div",{className:`toast toast-${d.type}`,onClick:()=>c(d.id),children:[a.jsxs("div",{className:"toast-icon",children:[d.type==="success"&&a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:a.jsx("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z",fill:"currentColor"})}),d.type==="error"&&a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:a.jsx("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z",fill:"currentColor"})}),d.type==="warning"&&a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:a.jsx("path",{d:"M1 17H19L10 3L1 17ZM11 14H9V12H11V14ZM11 10H9V6H11V10Z",fill:"currentColor"})}),d.type==="info"&&a.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:a.jsx("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V9H11V15ZM11 7H9V5H11V7Z",fill:"currentColor"})})]}),a.jsx("div",{className:"toast-message",children:d.message}),a.jsx("button",{className:"toast-close",onClick:()=>c(d.id),children:""})]},d.id))})]})},Bt=({children:e,requiredPermission:t})=>{const{user:r,loading:n}=sr();return n?a.jsx("div",{className:"loading-container",children:a.jsx("div",{className:"spinner"})}):r?t&&!r.permissions[t]?a.jsx("div",{className:"loading-container",children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("h1",{style:{fontSize:"48px",color:"#e74c3c",marginBottom:"16px"},children:"Access Denied"}),a.jsx("p",{style:{color:"#666"},children:"You don't have permission to view this page."})]})}):e:a.jsx(fP,{to:"/login",replace:!0})};var UP={exports:{}},o6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",l6=o6,c6=l6;function HP(){}function WP(){}WP.resetWarningCache=HP;var u6=function(){function e(n,s,i,o,l,c){if(c!==c6){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WP,resetWarningCache:HP};return r.PropTypes=r,r};UP.exports=u6();var d6=UP.exports;const er=zn(d6);class f6{constructor(){this.loaded=!1,this.loading=!1,this.loadPromise=null}async loadSettings(){return this.loaded&&window.APP_SETTINGS?window.APP_SETTINGS:this.loading&&this.loadPromise?this.loadPromise:(this.loading=!0,this.loadPromise=oe.get("/settings/public").then(t=>{if(t.data.success){const r=t.data.data.settings;return window.APP_SETTINGS=r,this.loaded=!0,r}throw new Error("Failed to load settings")}).catch(t=>(window.APP_SETTINGS={system_name:"Nexus Support",system_title:"IT Service Desk",company_name:"Your Company",favicon_url:"/vite.svg",logo_url:"/images/logo.png",theme_default_mode:"dark",theme_primary_color:"#6366f1",maintenance_mode:"false",maintenance_message:"System under maintenance"},window.APP_SETTINGS)).finally(()=>{this.loading=!1,this.loadPromise=null}),this.loadPromise)}getSetting(t,r=null){var n;return((n=window.APP_SETTINGS)==null?void 0:n[t])||r}async refreshSettings(){return this.loaded=!1,this.loadSettings()}clearSettings(){window.APP_SETTINGS=null,this.loaded=!1,this.loading=!1,this.loadPromise=null}}const KP=new f6,Zn=(e,t=null)=>KP.getSetting(e,t);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...p6,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:VP("lucide",s),...l},[...o.map(([d,u])=>b.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(m6,{ref:i,iconNode:t,className:VP(`lucide-${h6(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ce("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=ce("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=ce("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=ce("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=ce("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ce("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ce("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=ce("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ce("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ce("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=ce("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ce("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=ce("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ce("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=ce("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=ce("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ce("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=ce("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=ce("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=ce("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=ce("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=ce("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=ce("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=ce("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ce("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=ce("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=ce("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=ce("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=ce("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=ce("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ce("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ce("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ce("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ce("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=ce("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ce("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=ce("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ce("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ce("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=ce("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ce("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ce("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ce("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=ce("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=ce("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=ce("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ss={mainMenu:{title:"Main Menu",items:["dashboard","tickets","notifications"]},management:{title:"Management",items:["users","departments","roles"]},system:{title:"System",items:["analytics","settings"]},support:{title:"Support",items:["help"]}},ls={systemName:"Nexus Support",systemTitle:"IT Help-Desk Service."},J6=e=>{const t=n=>{var s;try{return!!((s=e==null?void 0:e.permissions)!=null&&s[n])}catch{return!1}},r=(e==null?void 0:e.role_name)==="Admin";return[{id:"dashboard",label:"Dashboard",icon:L6,path:"/dashboard",show:!0,ariaLabel:"Go to Dashboard"},{id:"tickets",label:"Tickets",icon:Pt,path:"/tickets",show:t("can_create_tickets"),ariaLabel:"View all tickets"},{id:"notifications",label:"Notifications",icon:gr,path:"/notifications",show:!0,ariaLabel:"View notifications"},{id:"users",label:"Users",icon:fr,path:"/users",show:t("can_manage_users"),ariaLabel:"Manage users"},{id:"departments",label:"Departments",icon:j6,path:"/departments",show:t("can_manage_departments")||r,ariaLabel:"Manage departments"},{id:"roles",label:"Roles",icon:Ae,path:"/roles",show:t("can_manage_roles")||r,ariaLabel:"Manage roles"},{id:"analytics",label:"Analytics",icon:La,path:"/analytics",show:t("can_view_analytics"),ariaLabel:"View analytics"},{id:"settings",label:"Settings",icon:th,path:"/settings",show:t("can_manage_system"),ariaLabel:"System settings"},{id:"help",label:"Help Center",icon:wa,path:"/help",show:!0,ariaLabel:"Get help"}]},nh=b.memo(({item:e,onClick:t,isActive:r})=>{const n=e.icon,s=b.useCallback(o=>{t&&t(o)},[t]),i=b.useCallback(o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),s(o))},[s]);return a.jsxs(NL,{to:e.path,className:({isActive:o})=>`nav-link ${o||r?"active":""}`,onClick:s,onKeyDown:i,"aria-label":e.ariaLabel,"aria-current":r?"page":void 0,role:"menuitem",tabIndex:0,children:[a.jsx(n,{size:20,"aria-hidden":"true"}),a.jsx("span",{children:e.label})]})});nh.displayName="NavItem";nh.propTypes={item:er.shape({id:er.string.isRequired,label:er.string.isRequired,icon:er.elementType.isRequired,path:er.string.isRequired,ariaLabel:er.string}).isRequired,onClick:er.func,isActive:er.bool};nh.defaultProps={onClick:null,isActive:!1};const Zi=b.memo(({title:e,items:t,onItemClick:r,currentPath:n})=>{if(!t||t.length===0)return null;const s=`nav-section-${e.toLowerCase().replace(/\s+/g,"-")}`;return!t||t.length===0?null:a.jsxs("div",{className:"nav-section",role:"menu","aria-labelledby":s,children:[a.jsx("p",{className:"nav-section-title",id:s,"aria-hidden":"true",children:e}),t.map(i=>a.jsx(nh,{item:i,onClick:r,isActive:n===i.path},i.id))]})});Zi.displayName="NavSection";Zi.propTypes={title:er.string.isRequired,items:er.arrayOf(er.object).isRequired,onItemClick:er.func,currentPath:er.string};const Rd=b.memo(({systemName:e=ls.systemName,systemTitle:t=ls.systemTitle})=>a.jsx("div",{className:"sidebar-header",children:a.jsxs("div",{className:"sidebar-logo",children:[a.jsx("div",{className:"logo-icon-sidebar","aria-hidden":"true",children:a.jsx(Ae,{size:24})}),a.jsxs("div",{className:"logo-text",children:[a.jsx("h2",{children:e}),a.jsx("p",{children:t})]})]})}));Rd.displayName="SidebarHeader";Rd.propTypes={systemName:er.string,systemTitle:er.string};const My=b.memo(({onRetry:e})=>a.jsxs("div",{className:"sidebar-error",role:"alert","aria-live":"polite",children:[a.jsx(Se,{size:24,"aria-hidden":"true"}),a.jsx("p",{children:"Navigation unavailable"}),e&&a.jsx("button",{type:"button",onClick:e,className:"btn-retry","aria-label":"Retry loading navigation",children:"Retry"})]}));My.displayName="SidebarError";My.defaultProps={onRetry:null};const Dy=({isOpen:e=!1,toggleSidebar:t=()=>{}})=>{const{user:r}=sr(),n=Is(),s=b.useMemo(()=>{try{return Zn("system_name",ls.systemName)||ls.systemName}catch(p){return console.warn("[Sidebar] Failed to load system_name setting:",p),ls.systemName}},[]),i=b.useMemo(()=>{try{return Zn("system_title",ls.systemTitle)||ls.systemTitle}catch(p){return console.warn("[Sidebar] Failed to load system_title setting:",p),ls.systemTitle}},[]),o=b.useMemo(()=>{try{return J6(r)}catch(p){return console.error("[Sidebar] Error generating navigation items:",p),[]}},[r]),l=b.useMemo(()=>{const p=o.filter(m=>m.show);return{mainMenu:p.filter(m=>ss.mainMenu.items.includes(m.id)),management:p.filter(m=>ss.management.items.includes(m.id)),system:p.filter(m=>ss.system.items.includes(m.id)),support:p.filter(m=>ss.support.items.includes(m.id))}},[o]),c=b.useCallback(()=>{typeof t=="function"&&t()},[t]),d=b.useCallback(p=>{p.key==="Escape"&&e&&c()},[e,c]),u=b.useCallback(p=>{p.target===p.currentTarget&&c()},[c]),f=b.useCallback(()=>{window.location.reload()},[]),h=b.useMemo(()=>n.pathname,[n.pathname]);return!o||o.length===0?a.jsxs("aside",{className:`sidebar ${e?"sidebar-open":""}`,role:"navigation","aria-label":"Main navigation",children:[a.jsx(Rd,{systemName:s,systemTitle:i}),a.jsx(My,{onRetry:f})]}):a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"sidebar-overlay",onClick:u,onKeyDown:d,role:"presentation","aria-hidden":"true","data-testid":"sidebar-overlay"}),a.jsxs("aside",{className:`sidebar ${e?"sidebar-open":""}`,role:"navigation","aria-label":"Main navigation","aria-expanded":e,"data-testid":"sidebar",children:[a.jsx(Rd,{systemName:s,systemTitle:i}),a.jsxs("nav",{className:"sidebar-nav",role:"menubar","aria-label":"Primary navigation",children:[a.jsx(Zi,{title:ss.mainMenu.title,items:l.mainMenu,onItemClick:c,currentPath:h}),l.management.length>0&&a.jsx(Zi,{title:ss.management.title,items:l.management,onItemClick:c,currentPath:h}),l.system.length>0&&a.jsx(Zi,{title:ss.system.title,items:l.system,onItemClick:c,currentPath:h}),a.jsx(Zi,{title:ss.support.title,items:l.support,onItemClick:c,currentPath:h})]})]})]})};Dy.propTypes={isOpen:er.bool,toggleSidebar:er.func};Dy.displayName="Sidebar";const e8=b.memo(Dy),t8=({toggleSidebar:e})=>{var $;const{user:t,logout:r}=sr(),n=jt(),[s,i]=b.useState(null);b.useEffect(()=>{(async()=>{try{const R=await oe.get("/auth/me");R.data.success&&R.data.data.profile_picture&&(console.log(" Profile picture fetched:",R.data.data.profile_picture),i(R.data.data.profile_picture))}catch(R){console.error(" Failed to fetch profile picture:",R)}})()},[]);const o=Zn("announcement_enabled","false"),l=Zn("system_announcement",""),c=o==="true"||o===!0||o===1||o==="1",d=()=>{var q,R;return((q=t==null?void 0:t.first_name)==null?void 0:q.charAt(0))||((R=t==null?void 0:t.username)==null?void 0:R.charAt(0))||"U"},{notifications:u,unreadCount:f,fetchNotifications:h,markAsRead:p,markAllAsRead:m,deleteNotification:v,notificationsEnabled:g}=BP(),[y,x]=b.useState(!1),[w,j]=b.useState(!1),[N,S]=b.useState(!1),_=b.useRef(null),k=b.useRef(null);b.useEffect(()=>{const q=R=>{_.current&&!_.current.contains(R.target)&&x(!1),k.current&&!k.current.contains(R.target)&&j(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const P=async()=>{try{await r(),n("/login")}catch(q){console.error("Logout error:",q)}},E=()=>{x(!y),j(!1)},C=async()=>{const q=!w;if(j(q),x(!1),q){S(!0);try{await h(1,20)}catch(R){console.error(" Error fetching notifications:",R)}finally{S(!1)}}},A=async q=>{q.is_read||await p(q.notification_id),q.related_ticket_id&&(n(`/tickets/${q.related_ticket_id}`),j(!1))},D=async(q,R)=>{q.stopPropagation(),await v(R)},M=async()=>{await m()},O=q=>{const R=new Date(q),T=Math.floor((new Date-R)/1e3);return T<60?"Just now":T<3600?`${Math.floor(T/60)}m ago`:T<86400?`${Math.floor(T/3600)}h ago`:T<604800?`${Math.floor(T/86400)}d ago`:R.toLocaleDateString()},z=q=>{switch(q){case"TICKET_CREATED":return"";case"TICKET_ASSIGNED":return"";case"TICKET_UPDATED":return"";case"TICKET_COMMENTED":return"";case"TICKET_RESOLVED":return"";case"TICKET_CLOSED":return"";case"LOGIN":return"";case"PASSWORD_CHANGED":return"";default:return""}};return a.jsxs("header",{className:"header",children:[a.jsx("div",{className:"header-left",children:a.jsx("button",{className:"btn-icon-header hamburger-btn",onClick:e,"aria-label":"Toggle Sidebar",children:a.jsx(F6,{size:20})})}),c&&l?a.jsx("div",{className:"header-center",children:a.jsx("div",{className:"announcement-ticker-seamless",children:a.jsxs("div",{className:"ticker-scroll-seamless",children:[a.jsx("span",{className:"ticker-text-item",children:l}),a.jsx("span",{className:"ticker-text-item",children:l}),a.jsx("span",{className:"ticker-text-item",children:l}),a.jsx("span",{className:"ticker-text-item",children:l}),a.jsx("span",{className:"ticker-text-item",children:l})]})})}):a.jsx("div",{className:"header-center"}),a.jsxs("div",{className:"header-right",children:[a.jsxs("div",{className:"header-dropdown",ref:k,children:[a.jsxs("button",{className:"btn-icon-header",onClick:C,"aria-label":"Notifications",style:{opacity:g?1:.5},title:g?"Notifications":"Notifications disabled",children:[a.jsx(gr,{size:20}),g&&f>0&&a.jsx("span",{className:"notification-badge",children:f>99?"99+":f})]}),w&&a.jsxs("div",{className:"dropdown-menu notifications-menu",children:[a.jsxs("div",{className:"dropdown-header",children:[a.jsx("h3",{children:"Notifications"}),u.length>0&&f>0&&g&&a.jsxs("button",{className:"btn-text-small",onClick:M,title:"Mark all as read",children:[a.jsx(XP,{size:14}),"Mark all read"]})]}),a.jsx("div",{className:"dropdown-body",children:g?N?a.jsxs("div",{className:"empty-notifications",children:[a.jsx(gr,{size:32,className:"empty-icon"}),a.jsx("p",{children:"Loading notifications..."})]}):u.length===0?a.jsxs("div",{className:"empty-notifications",children:[a.jsx(gr,{size:32,className:"empty-icon"}),a.jsx("p",{children:"No notifications"}),a.jsx("small",{children:"You're all caught up!"})]}):u.map(q=>a.jsxs("div",{className:`notification-item ${q.is_read?"":"unread"}`,onClick:()=>A(q),style:{cursor:"pointer"},children:[a.jsx("div",{className:"notification-icon",children:z(q.notification_type)}),a.jsxs("div",{className:"notification-content",children:[a.jsx("h4",{children:q.title}),a.jsx("p",{children:q.message}),a.jsxs("div",{className:"notification-meta",children:[a.jsx("span",{className:"notification-time",children:O(q.created_at)}),q.ticket_number&&a.jsxs("span",{className:"notification-ticket",children:["#",q.ticket_number]})]})]}),a.jsxs("div",{className:"notification-actions",children:[!q.is_read&&a.jsx("button",{className:"btn-icon-tiny",onClick:R=>{R.stopPropagation(),p(q.notification_id)},title:"Mark as read",children:a.jsx(_t,{size:14})}),(t==null?void 0:t.role_code)==="Administrator"&&a.jsx("button",{className:"btn-icon-tiny btn-danger-tiny",onClick:R=>D(R,q.notification_id),title:"Delete notification",children:a.jsx(jr,{size:14})})]}),!q.is_read&&a.jsx("div",{className:"notification-dot"})]},q.notification_id)):a.jsxs("div",{className:"empty-notifications",children:[a.jsx(gr,{size:32,className:"empty-icon",style:{opacity:.4}}),a.jsx("p",{style:{fontWeight:600,color:"#64748b"},children:"Notifications Disabled"}),a.jsxs("small",{style:{color:"#94a3b8",textAlign:"center",display:"block",padding:"0 20px"},children:["Notifications are currently disabled by system administrator.",a.jsx("br",{}),"Check Settings  Notifications to enable."]})]})}),g&&u.length>0&&a.jsx("div",{className:"dropdown-footer",children:a.jsx("button",{className:"btn-text-dropdown",onClick:()=>{n("/notifications"),j(!1)},children:"View all notifications"})})]})]}),a.jsxs("div",{className:"header-dropdown",ref:_,children:[a.jsxs("button",{className:"user-menu-trigger",onClick:E,children:[a.jsx("div",{className:"user-avatar-header",children:s?a.jsx("img",{src:s,alt:"Profile",style:{width:"36px",height:"36px",borderRadius:"8px",objectFit:"cover",display:"block",background:"white"}}):a.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",fontWeight:"700"},children:d()})}),a.jsxs("div",{className:"user-info-header",children:[a.jsx("span",{className:"user-name",children:t!=null&&t.first_name&&(t!=null&&t.last_name)?`${t.first_name} ${t.last_name}`:t==null?void 0:t.username}),a.jsx("span",{className:"user-role",children:t==null?void 0:t.role_name})]}),a.jsx(Jf,{size:16,className:`chevron-icon ${y?"rotated":""}`})]}),y&&a.jsxs("div",{className:"dropdown-menu user-dropdown-menu",children:[a.jsxs("div",{className:"dropdown-header-user",children:[a.jsx("div",{style:{marginBottom:"12px"},children:s?a.jsx("img",{src:s,alt:"Profile",style:{width:"56px",height:"56px",borderRadius:"12px",objectFit:"cover",display:"block",background:"white",border:"2px solid rgba(255, 255, 255, 0.3)"}}):a.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"12px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"24px",fontWeight:"700",border:"2px solid rgba(255, 255, 255, 0.3)"},children:d()})}),a.jsxs("div",{className:"user-info-dropdown",children:[a.jsx("h4",{children:t!=null&&t.first_name&&(t!=null&&t.last_name)?`${t.first_name} ${t.last_name}`:t==null?void 0:t.username}),a.jsx("p",{children:t==null?void 0:t.email}),a.jsx("span",{className:`role-badge-small role-${($=t==null?void 0:t.role_code)==null?void 0:$.toLowerCase()}`,children:t==null?void 0:t.role_name})]})]}),a.jsxs("div",{className:"dropdown-body-menu",children:[a.jsxs("button",{className:"dropdown-item",onClick:()=>{n("/profile"),x(!1)},children:[a.jsx(Ke,{size:18}),a.jsx("span",{children:"My Profile"})]}),a.jsxs("button",{className:"dropdown-item",onClick:()=>{n("/settings"),x(!1)},children:[a.jsx(th,{size:18}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{className:"dropdown-item",onClick:()=>{n("/help"),x(!1)},children:[a.jsx(wa,{size:18}),a.jsx("span",{children:"Help Center"})]}),(t==null?void 0:t.role_code)==="Administrator"&&a.jsxs("button",{className:"dropdown-item",onClick:()=>{n("/roles"),x(!1)},children:[a.jsx(Ae,{size:18}),a.jsx("span",{children:"Role Management"})]}),a.jsx("div",{className:"dropdown-divider"}),a.jsxs("button",{className:"dropdown-item logout-item",onClick:P,children:[a.jsx(z6,{size:18}),a.jsx("span",{children:"Logout"})]})]})]})]})]})]})},r8=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),[s,i]=b.useState(!0),o=jt();b.useEffect(()=>{l()},[]);const l=async()=>{try{const h=await oe.get("/password-expiry/status");if(h.data.success){const p=h.data.data;if(p.expiryDisabled){i(!1);return}(p.expired||p.isWarning)&&t(p)}i(!1)}catch(h){console.error(" Failed to fetch password expiry status:",h),i(!1)}},c=()=>{o("/profile/change-password")},d=()=>{n(!1)};if(s||!e||!r)return null;const f=e.expired?{className:"pwd-expiry-banner pwd-expiry-expired",icon:a.jsx(rh,{size:20}),title:"Password Expired",message:"Your password has expired. Please change it immediately to continue using the system.",buttonText:"Change Password Now",showDismiss:!1,urgent:!0}:e.daysRemaining<=3?{className:"pwd-expiry-banner pwd-expiry-critical",icon:a.jsx(Te,{size:20}),title:"Urgent: Password Expiring Soon",message:`Your password will expire in ${e.daysRemaining} day${e.daysRemaining!==1?"s":""}. Change it now to avoid disruption.`,buttonText:"Change Password",showDismiss:!1,urgent:!0}:e.daysRemaining<=7?{className:"pwd-expiry-banner pwd-expiry-warning",icon:a.jsx(Ee,{size:20}),title:"Password Expiring Soon",message:`Your password will expire in ${e.daysRemaining} days. Please change it at your earliest convenience.`,buttonText:"Change Password",showDismiss:!0,urgent:!1}:{className:"pwd-expiry-banner pwd-expiry-info",icon:a.jsx(Ee,{size:20}),title:"Password Expiry Reminder",message:`Your password will expire in ${e.daysRemaining} days. Consider changing it soon.`,buttonText:"Change Password",showDismiss:!0,urgent:!1};return a.jsx("div",{className:f.className,children:a.jsxs("div",{className:"pwd-expiry-banner-content",children:[a.jsx("div",{className:"pwd-expiry-banner-icon",children:f.icon}),a.jsxs("div",{className:"pwd-expiry-banner-text",children:[a.jsx("h4",{children:f.title}),a.jsx("p",{children:f.message})]}),a.jsxs("div",{className:"pwd-expiry-banner-actions",children:[a.jsx("button",{onClick:c,className:"pwd-expiry-banner-btn pwd-expiry-banner-btn-primary",children:f.buttonText}),f.showDismiss&&a.jsx("button",{onClick:d,className:"pwd-expiry-banner-btn-close","aria-label":"Dismiss",title:"Dismiss",children:a.jsx(Oe,{size:18})})]})]})})},qt=({children:e})=>{const[t,r]=b.useState(!1),n=()=>{r(!t)};return a.jsxs("div",{className:"dashboard-container",children:[a.jsx(e8,{isOpen:t,toggleSidebar:n}),a.jsxs("div",{className:"main-content",children:[a.jsx(t8,{toggleSidebar:n}),a.jsx(r8,{}),a.jsx("main",{className:"dashboard-content",children:e})]})]})},Ut=Object.freeze({MAX_USERNAME_LENGTH:50,MAX_PASSWORD_LENGTH:128,MIN_PASSWORD_LENGTH:6,ERROR_DISPLAY_DURATION:1e4,OTP_LENGTH:6,OTP_EXPIRY_MINUTES:5,RESEND_COOLDOWN_SECONDS:60,SESSION_TIMEOUT_WARNING:240}),fa=Object.freeze({TWO_FACTOR_STATE:"nxs_2fa_state",OTP_TIMER:"nxs_2fa_timer",USERNAME:"nxs_2fa_usr",PASSWORD_HASH:"nxs_2fa_pwd"}),n8=e=>typeof e!="string"?"":e.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"").replace(/data:/gi,"").trim().substring(0,Ut.MAX_USERNAME_LENGTH),sn={set:(e,t)=>{try{const r=btoa(JSON.stringify(t));sessionStorage.setItem(e,r)}catch{}},get:e=>{try{const t=sessionStorage.getItem(e);return t?JSON.parse(atob(t)):null}catch{return null}},remove:e=>{try{sessionStorage.removeItem(e)}catch{}},clear:()=>{Object.values(fa).forEach(e=>{try{sessionStorage.removeItem(e)}catch{}})}},a8=()=>{const[e,t]=b.useState({username:"",password:""}),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState(null),[h,p]=b.useState(!1),[m,v]=b.useState({userId:null,email:"",expiryMinutes:5}),[g,y]=b.useState(""),[x,w]=b.useState(""),[j,N]=b.useState(!1),[S,_]=b.useState(!1),[k,P]=b.useState(300),E=b.useRef(null),C=b.useRef(null),A=b.useRef(null),D=b.useRef(!1),M=b.useRef(!0),O=b.useRef(!0),{login:z}=sr(),$=jt(),q=Zn("system_name","Nexus Support"),R=Zn("system_title","IT Help-Desk Service"),L=Zn("company_name","Digitide"),T=Zn("maintenance_mode","false"),I=T==="true"||T===!0||T===1,U=Zn("maintenance_message","System is under maintenance. Please check back later.");b.useEffect(()=>(O.current=!0,()=>{O.current=!1,E.current&&clearTimeout(E.current),C.current&&clearTimeout(C.current),A.current&&clearInterval(A.current)}),[]),b.useEffect(()=>{if(!M.current)return;M.current=!1;const ue=sn.get(fa.TWO_FACTOR_STATE);if(ue&&!D.current&&ue.userId){D.current=!0;const re=sn.get(fa.OTP_TIMER),de=sn.get(fa.USERNAME),ve=sn.get(fa.PASSWORD_HASH),me=Math.floor((Date.now()-ue.timestamp)/1e3),J=Math.max(0,(re||300)-me);J>0?(v(ue),P(J),p(!0),de&&t({username:de,password:ve||""})):sn.clear()}},[]),b.useEffect(()=>{h&&m.userId&&(sn.set(fa.TWO_FACTOR_STATE,m),sn.set(fa.OTP_TIMER,k),e.username&&sn.set(fa.USERNAME,e.username),e.password&&sn.set(fa.PASSWORD_HASH,e.password))},[h,m,k,e.username,e.password]),b.useEffect(()=>(h&&k>0&&(A.current=setInterval(()=>{O.current&&P(ue=>ue<=1?(clearInterval(A.current),0):ue-1)},1e3)),()=>{A.current&&clearInterval(A.current)}),[h]);const K=b.useCallback(ue=>{const re=Math.floor(ue/60),de=ue%60;return`${re}:${de.toString().padStart(2,"0")}`},[]),H=b.useCallback(ue=>{O.current&&(i(ue),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{O.current&&i("")},Ut.ERROR_DISPLAY_DURATION))},[]),B=b.useCallback(ue=>{O.current&&(w(ue),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{O.current&&w("")},Ut.ERROR_DISPLAY_DURATION))},[]),F=b.useCallback(ue=>{const{name:re,value:de}=ue.target,ve=re==="password"?de.substring(0,Ut.MAX_PASSWORD_LENGTH):n8(de);t(me=>({...me,[re]:ve})),s&&i(""),c&&(d(!1),f(null))},[s,c]),V=b.useCallback(ue=>{const re=ue.target.value.replace(/\D/g,"").substring(0,Ut.OTP_LENGTH);y(re),x&&w("")},[x]),W=async ue=>{var ve,me,Z,J,pe,X,ae;ue.preventDefault();const re=e.username.trim(),de=e.password.trim();if(!re||!de){H("Please enter both username and password");return}if(de.length<Ut.MIN_PASSWORD_LENGTH){H(`Password must be at least ${Ut.MIN_PASSWORD_LENGTH} characters`);return}l(!0),i(""),d(!1),f(null);try{const le=await z(re,de);if(!O.current)return;if((ve=le.data)!=null&&ve.passwordExpired&&((me=le.data)!=null&&me.resetToken)){sessionStorage.setItem("expired_password_reset_token",le.data.resetToken),sessionStorage.setItem("expired_password_user_id",le.data.userId),sessionStorage.setItem("expired_password_username",le.data.username),sessionStorage.setItem("expired_password_email",le.data.email),$(`/reset-password?token=${le.data.resetToken}&expired=true`,{replace:!0,state:{passwordExpired:!0,daysExpired:le.data.daysExpired,username:le.data.username}}),l(!1);return}if((Z=le.data)!=null&&Z.passwordExpired){d(!0),f({daysExpired:le.data.daysExpired||0}),H(le.message||"Your password has expired. Please contact administrator."),l(!1);return}if((J=le.data)!=null&&J.requiresTwoFactor){D.current=!0,v({userId:le.data.userId,email:le.data.email,expiryMinutes:le.data.expiryMinutes||Ut.OTP_EXPIRY_MINUTES,timestamp:Date.now()});const fe=(le.data.expiryMinutes||Ut.OTP_EXPIRY_MINUTES)*60;P(fe),p(!0),y(""),l(!1);return}if(le.success&&((pe=le.data)!=null&&pe.token)){sn.clear(),window.location.href="/dashboard";return}H(le.message||"Login failed. Please check your credentials.")}catch(le){if(O.current){const fe=((ae=(X=le.response)==null?void 0:X.data)==null?void 0:ae.message)||le.message||"Login failed. Please try again.";H(fe)}}finally{O.current&&l(!1)}},Y=async ue=>{var re,de,ve;if(ue.preventDefault(),g.length!==Ut.OTP_LENGTH){B("Please enter a valid 6-digit code");return}if(k<=0){B("Verification code has expired. Please resend.");return}if(!m.userId){B("Session expired. Please login again."),ee();return}N(!0),w("");try{const me=await oe.post("/auth/verify-2fa-login",{userId:m.userId,code:g});if(!O.current)return;if(me.data.success&&((re=me.data.data)!=null&&re.token)){localStorage.setItem("token",me.data.data.token),localStorage.setItem("user",JSON.stringify(me.data.data.user)),sn.clear(),window.location.href="/dashboard";return}B(me.data.message||"Invalid verification code")}catch(me){if(O.current){const Z=((ve=(de=me.response)==null?void 0:de.data)==null?void 0:ve.message)||me.message||"Verification failed. Please try again.";B(Z)}}finally{O.current&&N(!1)}},ie=async()=>{var ue;if(!(S||k>Ut.SESSION_TIMEOUT_WARNING)){_(!0),w("");try{const re=await z(e.username,e.password);if(!O.current)return;if((ue=re.data)!=null&&ue.requiresTwoFactor){v({userId:re.data.userId,email:re.data.email,expiryMinutes:re.data.expiryMinutes||Ut.OTP_EXPIRY_MINUTES,timestamp:Date.now()});const de=(re.data.expiryMinutes||Ut.OTP_EXPIRY_MINUTES)*60;P(de),y(""),B("New verification code sent to your email")}else B("Failed to resend code. Please try again.")}catch(re){O.current&&B(re.message||"Failed to resend code. Please try again.")}finally{O.current&&_(!1)}}},ee=b.useCallback(()=>{p(!1),v({userId:null,email:"",expiryMinutes:5}),y(""),w(""),P(300),sn.clear(),A.current&&clearInterval(A.current)},[]);return I?a.jsx("div",{className:"login-page-container",children:a.jsxs("div",{className:"login-card",children:[a.jsxs("div",{className:"login-logo-section",children:[a.jsx("div",{className:"login-logo-icon",children:a.jsx(Se,{size:36})}),a.jsx("h1",{className:"login-title",children:"System Maintenance"}),a.jsx("p",{className:"login-subtitle",children:q})]}),a.jsxs("div",{className:"login-maintenance-warning",children:[a.jsx(Se,{size:20}),a.jsxs("div",{children:[a.jsx("strong",{children:"Maintenance Mode"}),a.jsx("p",{children:U})]})]}),a.jsxs("div",{className:"login-footer",children:[a.jsxs("p",{className:"login-footer-text",children:[" 2025-2026 ",a.jsx("strong",{children:L}),". All Rights Reserved"]}),a.jsxs("p",{className:"login-footer-text",children:["Developed by ",a.jsx("strong",{children:"Suvadip Panja"})]})]})]})}):a.jsx("div",{className:"login-page-container",children:a.jsxs("div",{className:"login-card",children:[a.jsxs("div",{className:"login-logo-section",children:[a.jsx("div",{className:"login-logo-icon",children:a.jsx(Ae,{size:36})}),a.jsx("h1",{className:"login-title",children:q}),a.jsx("p",{className:"login-subtitle",children:R})]}),s&&!h&&a.jsxs("div",{className:`login-error-message ${c?"login-error-password-expired":""}`,children:[a.jsx(Se,{size:18}),a.jsx("div",{className:"login-error-content",children:c&&u?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"login-error-text",children:"Your password has expired"}),u.daysExpired>0&&a.jsxs("p",{className:"login-expired-days",children:["Expired ",u.daysExpired," day",u.daysExpired!==1?"s":""," ago"]}),a.jsx("p",{className:"login-expired-help",children:'Please contact your administrator or use the "Forgot Password" link below.'})]}):a.jsx("span",{className:"login-error-text",children:s})})]}),!h&&a.jsxs("form",{onSubmit:W,className:"login-form",autoComplete:"off",children:[a.jsxs("div",{className:"login-form-group",children:[a.jsx("label",{htmlFor:"username",className:"login-label",children:"Username"}),a.jsxs("div",{className:"login-input-wrapper",children:[a.jsx(Ke,{size:18,className:"login-input-icon"}),a.jsx("input",{type:"text",id:"username",name:"username",value:e.username,onChange:F,placeholder:"Enter your username",className:"login-input",required:!0,maxLength:Ut.MAX_USERNAME_LENGTH,disabled:o,autoComplete:"username",spellCheck:"false",autoCapitalize:"none"})]})]}),a.jsxs("div",{className:"login-form-group",children:[a.jsx("label",{htmlFor:"password",className:"login-label",children:"Password"}),a.jsxs("div",{className:"login-input-wrapper",children:[a.jsx(Ge,{size:18,className:"login-input-icon"}),a.jsx("input",{type:r?"text":"password",id:"password",name:"password",value:e.password,onChange:F,placeholder:"Enter your password",className:"login-input",required:!0,maxLength:Ut.MAX_PASSWORD_LENGTH,disabled:o,autoComplete:"current-password"}),a.jsx("button",{type:"button",className:"login-password-toggle",onClick:()=>n(ue=>!ue),disabled:o,"aria-label":r?"Hide password":"Show password",tabIndex:-1,children:r?a.jsx(ta,{size:18}):a.jsx(_t,{size:18})})]})]}),a.jsx("div",{className:"login-forgot-password",children:a.jsx(ja,{to:"/forgot-password",className:"login-forgot-link",tabIndex:o?-1:0,children:"Forgot Password?"})}),a.jsx("button",{type:"submit",className:"login-button",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{size:18}),a.jsx("span",{children:"Authenticating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ge,{size:18}),a.jsx("span",{children:"Sign In"})]})})]}),h&&a.jsxs("div",{className:"login-otp-section",children:[a.jsxs("div",{className:"login-otp-heading",children:[a.jsx(Qe,{size:24,className:"login-otp-icon"}),a.jsxs("div",{children:[a.jsx("h3",{className:"login-otp-title",children:"Verify Your Identity"}),a.jsxs("p",{className:"login-otp-subtitle",children:["Code sent to ",m.email||"your email"]})]})]}),x&&a.jsxs("div",{className:"login-error-message",children:[a.jsx(Se,{size:16}),a.jsx("span",{children:x})]}),a.jsxs("form",{onSubmit:Y,className:"login-otp-form",children:[a.jsxs("div",{className:"login-form-group",children:[a.jsx("label",{htmlFor:"otpCode",className:"login-label",children:"Verification Code"}),a.jsx("input",{type:"text",id:"otpCode",name:"otpCode",value:g,onChange:V,placeholder:"000000",className:"login-otp-input",required:!0,maxLength:Ut.OTP_LENGTH,disabled:j||k<=0,autoComplete:"one-time-code",inputMode:"numeric",pattern:"[0-9]*",autoFocus:!0})]}),a.jsxs("div",{className:"login-otp-timer",children:[a.jsx(Ee,{size:14}),a.jsx("span",{children:k>0?a.jsxs(a.Fragment,{children:["Expires in ",a.jsx("strong",{children:K(k)})]}):a.jsx("span",{className:"login-otp-expired",children:"Code expired"})})]}),a.jsx("button",{type:"submit",className:"login-button",disabled:j||k<=0||g.length!==Ut.OTP_LENGTH,children:j?a.jsxs(a.Fragment,{children:[a.jsx(Ae,{size:18}),a.jsx("span",{children:"Verifying..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ae,{size:18}),a.jsx("span",{children:"Verify Code"})]})}),a.jsxs("div",{className:"login-otp-actions",children:[a.jsxs("button",{type:"button",className:"login-otp-link-button",onClick:ie,disabled:S||k>Ut.SESSION_TIMEOUT_WARNING,children:[a.jsx(ut,{size:14}),a.jsx("span",{children:S?"Sending...":"Resend Code"})]}),a.jsxs("button",{type:"button",className:"login-otp-link-button",onClick:ee,disabled:j,children:[a.jsx(In,{size:14}),a.jsx("span",{children:"Back to Login"})]})]})]})]}),a.jsxs("div",{className:"login-footer",children:[a.jsxs("p",{className:"login-footer-text",children:[" 2025-2026 ",a.jsx("strong",{children:L}),". All Rights Reserved"]}),a.jsxs("p",{className:"login-footer-text",children:["Developed by ",a.jsx("strong",{children:"Suvadip Panja"})]})]})]})})},s8=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState(!1),c=Nn(),d=async u=>{var f,h;u.preventDefault(),i(""),n(!0);try{(await oe.post("/auth/forgot-password",{email:e})).data.success&&(l(!0),t(""),c.success("Password reset link sent! Check your email."))}catch(p){console.error("Forgot password error:",p);const m=((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"Failed to send reset email. Please try again.";i(m),c.error(m)}finally{n(!1)}};return o?a.jsx("div",{className:"forgot-password-page",children:a.jsx("div",{className:"forgot-password-container",children:a.jsxs("div",{className:"success-message-box",children:[a.jsx("div",{className:"success-icon",children:a.jsx(Sr,{size:48})}),a.jsx("h2",{children:"Check Your Email!"}),a.jsx("p",{children:"If an account exists with that email address, we've sent a password reset link. Please check your inbox and follow the instructions."}),a.jsxs("div",{className:"info-note",children:[a.jsx("strong",{children:"Note:"})," The reset link will expire in 1 hour for security reasons."]}),a.jsx("div",{className:"success-actions",children:a.jsxs(ja,{to:"/login",className:"btn-back-to-login",children:[a.jsx(In,{size:18}),"Back to Login"]})})]})})}):a.jsx("div",{className:"forgot-password-page",children:a.jsxs("div",{className:"forgot-password-container",children:[a.jsxs("div",{className:"forgot-password-header",children:[a.jsx("div",{className:"icon-circle",children:a.jsx(Qe,{size:32})}),a.jsx("h1",{children:"Forgot Password?"}),a.jsx("p",{children:"No worries! Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs("form",{onSubmit:d,className:"forgot-password-form",children:[s&&a.jsx("div",{className:"error-box",children:s}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"input-with-icon",children:[a.jsx(Qe,{size:18,className:"input-icon"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:u=>t(u.target.value),placeholder:"Enter your email address",required:!0,disabled:r,autoFocus:!0})]})]}),a.jsx("button",{type:"submit",className:"btn-submit",disabled:r||!e,children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(so,{size:18}),"Send Reset Link"]})})]}),a.jsx("div",{className:"forgot-password-footer",children:a.jsxs(ja,{to:"/login",className:"link-back",children:[a.jsx(In,{size:16}),"Back to Login"]})})]})})},i8=()=>{const e=jt(),[t]=pP(),r=t.get("token"),n=t.get("expired")==="true",s=Nn(),[i,o]=b.useState({newPassword:"",confirmPassword:""}),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[f,h]=b.useState(!0),[p,m]=b.useState(!1),[v,g]=b.useState(""),[y,x]=b.useState(null),[w,j]=b.useState(!1),[N,S]=b.useState(""),[_,k]=b.useState(!1);b.useEffect(()=>{P()},[r]);const P=async()=>{var M,O,z;if(!r){const $="Invalid reset link. Please request a new one.";g($),s.error($),h(!1);return}try{const $=await oe.get(`/auth/validate-reset-token/${r}`);if($.data.success&&((M=$.data.data)!=null&&M.isValid))m(!0),x($.data.data),s.success("Reset link validated successfully!");else{const q=$.data.message||"Invalid or expired reset link";g(q),s.error(q)}}catch($){console.error("Token validation error:",$);const q=((z=(O=$.response)==null?void 0:O.data)==null?void 0:z.message)||"Invalid or expired reset link. Please request a new one.";g(q),s.error(q)}finally{h(!1)}},E=M=>{o({...i,[M.target.name]:M.target.value}),S("")},C=async M=>{var O,z;if(M.preventDefault(),S(""),i.newPassword!==i.confirmPassword){const $="Passwords do not match";S($),s.error($);return}if(i.newPassword.length<8){const $="Password must be at least 8 characters long";S($),s.error($);return}j(!0);try{(await oe.post("/auth/reset-password",{token:r,newPassword:i.newPassword,confirmPassword:i.confirmPassword})).data.success&&(k(!0),s.success("Password reset successful! Redirecting to login..."),setTimeout(()=>{e("/login",{state:{message:"Password reset successful! Please login with your new password."}})},3e3))}catch($){console.error("Reset password error:",$);const q=((z=(O=$.response)==null?void 0:O.data)==null?void 0:z.message)||"Failed to reset password. Please try again.";S(q),s.error(q)}finally{j(!1)}},D=(M=>{if(!M)return{strength:0,label:"",color:""};let O=0;return M.length>=8&&O++,M.length>=12&&O++,/[a-z]/.test(M)&&/[A-Z]/.test(M)&&O++,/\d/.test(M)&&O++,/[^a-zA-Z0-9]/.test(M)&&O++,[{strength:0,label:"Very Weak",color:"#ef4444"},{strength:1,label:"Weak",color:"#f59e0b"},{strength:2,label:"Fair",color:"#eab308"},{strength:3,label:"Good",color:"#84cc16"},{strength:4,label:"Strong",color:"#22c55e"},{strength:5,label:"Very Strong",color:"#10b981"}][O]})(i.newPassword);return f?a.jsx("div",{className:"reset-password-page",children:a.jsx("div",{className:"reset-password-container",children:a.jsxs("div",{className:"validating-box",children:[a.jsx(Ie,{className:"spinner",size:40}),a.jsx("p",{children:"Validating reset link..."})]})})}):p?_?a.jsx("div",{className:"reset-password-page",children:a.jsx("div",{className:"reset-password-container",children:a.jsxs("div",{className:"success-message-box",children:[a.jsx("div",{className:"success-icon",children:a.jsx(Sr,{size:48})}),a.jsx("h2",{children:"Password Reset Successful!"}),a.jsx("p",{children:"Your password has been reset successfully. You will be redirected to the login page in a few seconds..."}),a.jsx("div",{className:"success-actions",children:a.jsx(ja,{to:"/login",className:"btn-login-now",children:"Login Now"})})]})})}):a.jsx("div",{className:"reset-password-page",children:a.jsxs("div",{className:"reset-password-container",children:[a.jsxs("div",{className:"reset-password-header",children:[a.jsx("div",{className:"icon-circle",children:a.jsx(Ge,{size:32})}),a.jsx("h1",{children:"Reset Password"}),y&&a.jsxs("p",{className:"user-info",children:["Resetting password for ",a.jsx("strong",{children:y.email})]})]}),n&&a.jsxs("div",{className:"expired-password-alert",style:{backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",padding:"12px 16px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx(Se,{size:20,style:{color:"#f59e0b",flexShrink:0}}),a.jsxs("div",{children:[a.jsx("p",{style:{margin:0,fontSize:"14px",color:"#92400e",fontWeight:500},children:"Your password has expired"}),a.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"13px",color:"#92400e"},children:"Please create a new password to continue using the system."})]})]}),a.jsxs("form",{onSubmit:C,className:"reset-password-form",children:[N&&a.jsxs("div",{className:"error-box",children:[a.jsx(Oe,{size:18}),N]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"newPassword",children:"New Password"}),a.jsxs("div",{className:"input-with-icon",children:[a.jsx(Ge,{size:18,className:"input-icon"}),a.jsx("input",{type:l?"text":"password",id:"newPassword",name:"newPassword",value:i.newPassword,onChange:E,placeholder:"Enter new password",required:!0,disabled:w,autoFocus:!0}),a.jsx("button",{type:"button",className:"toggle-password",onClick:()=>c(!l),tabIndex:-1,children:l?a.jsx(ta,{size:18}):a.jsx(_t,{size:18})})]}),i.newPassword&&a.jsxs("div",{className:"password-strength",children:[a.jsx("div",{className:"strength-bar",children:a.jsx("div",{className:"strength-fill",style:{width:`${D.strength/5*100}%`,backgroundColor:D.color}})}),a.jsx("span",{className:"strength-label",style:{color:D.color},children:D.label})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),a.jsxs("div",{className:"input-with-icon",children:[a.jsx(Ge,{size:18,className:"input-icon"}),a.jsx("input",{type:d?"text":"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:E,placeholder:"Confirm new password",required:!0,disabled:w}),a.jsx("button",{type:"button",className:"toggle-password",onClick:()=>u(!d),tabIndex:-1,children:d?a.jsx(ta,{size:18}):a.jsx(_t,{size:18})})]}),i.confirmPassword&&a.jsx("div",{className:"password-match",children:i.newPassword===i.confirmPassword?a.jsxs("span",{className:"match-success",children:[a.jsx(Sr,{size:14})," Passwords match"]}):a.jsxs("span",{className:"match-error",children:[a.jsx(Oe,{size:14})," Passwords do not match"]})})]}),a.jsxs("div",{className:"password-requirements",children:[a.jsx("p",{className:"requirements-title",children:"Password must contain:"}),a.jsxs("ul",{children:[a.jsxs("li",{className:i.newPassword.length>=8?"met":"",children:[a.jsx(Sr,{size:14})," At least 8 characters"]}),a.jsxs("li",{className:/[a-z]/.test(i.newPassword)&&/[A-Z]/.test(i.newPassword)?"met":"",children:[a.jsx(Sr,{size:14})," Uppercase and lowercase letters"]}),a.jsxs("li",{className:/\d/.test(i.newPassword)?"met":"",children:[a.jsx(Sr,{size:14})," At least one number"]})]})]}),a.jsx("button",{type:"submit",className:"btn-submit",disabled:w||!i.newPassword||!i.confirmPassword,children:w?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"spinner"}),"Resetting Password..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ge,{size:18}),"Reset Password"]})})]}),a.jsx("div",{className:"reset-password-footer",children:a.jsx(ja,{to:"/login",className:"link-back",children:"Back to Login"})})]})}):a.jsx("div",{className:"reset-password-page",children:a.jsx("div",{className:"reset-password-container",children:a.jsxs("div",{className:"error-message-box",children:[a.jsx("div",{className:"error-icon",children:a.jsx(Se,{size:48})}),a.jsx("h2",{children:"Invalid Reset Link"}),a.jsx("p",{children:v}),a.jsxs("div",{className:"error-actions",children:[a.jsx(ja,{to:"/forgot-password",className:"btn-request-new",children:"Request New Link"}),a.jsx(ja,{to:"/login",className:"btn-back-login",children:"Back to Login"})]})]})})})};function oA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=oA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ze(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=oA(e))&&(n&&(n+=" "),n+=t);return n}var ah={},lA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(lA);var Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ry);var sh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sh);var ih={},cA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(cA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cA,r=sh;function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],o=s.length;if(o===0)return i;let l=0,c="",d="",u=!1;for(s.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=s[l];d?f==="\\"&&l+1<o?(l++,c+=s[l]):f===d?d="":c+=f:u?f==='"'||f==="'"?d=f:f==="]"?(u=!1,i.push(c),c=""):c+=f:f==="["?(u=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,l++}return c&&i.push(c),i}e.toPath=n})(ih);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lA,r=Ry,n=sh,s=ih;function i(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?r.isDeepKey(c)?i(l,s.toPath(c),d):d:u}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const u=l[c];return u===void 0?d:u}default:{if(Array.isArray(c))return o(l,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return d;const u=l[c];return u===void 0?d:u}}}function o(l,c,d){if(c.length===0)return d;let u=l;for(let f=0;f<c.length;f++){if(u==null||t.isUnsafeProperty(c[f]))return d;u=u[c[f]]}return u===void 0?d:u}e.get=i})(ah);var o8=ah.get;const wi=zn(o8);var uA={exports:{}},We={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=typeof Symbol=="function"&&Symbol.for,Ly=Gt?Symbol.for("react.element"):60103,Iy=Gt?Symbol.for("react.portal"):60106,oh=Gt?Symbol.for("react.fragment"):60107,lh=Gt?Symbol.for("react.strict_mode"):60108,ch=Gt?Symbol.for("react.profiler"):60114,uh=Gt?Symbol.for("react.provider"):60109,dh=Gt?Symbol.for("react.context"):60110,zy=Gt?Symbol.for("react.async_mode"):60111,fh=Gt?Symbol.for("react.concurrent_mode"):60111,hh=Gt?Symbol.for("react.forward_ref"):60112,ph=Gt?Symbol.for("react.suspense"):60113,l8=Gt?Symbol.for("react.suspense_list"):60120,mh=Gt?Symbol.for("react.memo"):60115,vh=Gt?Symbol.for("react.lazy"):60116,c8=Gt?Symbol.for("react.block"):60121,u8=Gt?Symbol.for("react.fundamental"):60117,d8=Gt?Symbol.for("react.responder"):60118,f8=Gt?Symbol.for("react.scope"):60119;function tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ly:switch(e=e.type,e){case zy:case fh:case oh:case ch:case lh:case ph:return e;default:switch(e=e&&e.$$typeof,e){case dh:case hh:case vh:case mh:case uh:return e;default:return t}}case Iy:return t}}}function dA(e){return tn(e)===fh}We.AsyncMode=zy;We.ConcurrentMode=fh;We.ContextConsumer=dh;We.ContextProvider=uh;We.Element=Ly;We.ForwardRef=hh;We.Fragment=oh;We.Lazy=vh;We.Memo=mh;We.Portal=Iy;We.Profiler=ch;We.StrictMode=lh;We.Suspense=ph;We.isAsyncMode=function(e){return dA(e)||tn(e)===zy};We.isConcurrentMode=dA;We.isContextConsumer=function(e){return tn(e)===dh};We.isContextProvider=function(e){return tn(e)===uh};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ly};We.isForwardRef=function(e){return tn(e)===hh};We.isFragment=function(e){return tn(e)===oh};We.isLazy=function(e){return tn(e)===vh};We.isMemo=function(e){return tn(e)===mh};We.isPortal=function(e){return tn(e)===Iy};We.isProfiler=function(e){return tn(e)===ch};We.isStrictMode=function(e){return tn(e)===lh};We.isSuspense=function(e){return tn(e)===ph};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===oh||e===fh||e===ch||e===lh||e===ph||e===l8||typeof e=="object"&&e!==null&&(e.$$typeof===vh||e.$$typeof===mh||e.$$typeof===uh||e.$$typeof===dh||e.$$typeof===hh||e.$$typeof===u8||e.$$typeof===d8||e.$$typeof===f8||e.$$typeof===c8)};We.typeOf=tn;uA.exports=We;var h8=uA.exports,Kt=e=>e===0?0:e>0?1:-1,Lr=e=>typeof e=="number"&&e!=+e,ai=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!Lr(e),sa=e=>be(e)||typeof e=="string",p8=0,yc=e=>{var t=++p8;return"".concat(e||"").concat(t)},hr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return n;var i;if(ai(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Lr(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},fA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ve(e,t,r){return be(e)&&be(t)?e+r*(t-e):t}function hA(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):wi(n,t))===r)}var at=e=>e===null||typeof e>"u",zc=e=>at(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),m8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $y(e){if(typeof e!="string")return!1;var t=m8;return t.includes(e)}var v8=["viewBox","children"],g_=["points","pathLength"],Gp={svg:v8,polygon:g_,polyline:g_},Fy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{$y(s)&&(n[s]=i=>r[s](r,i))}),n},g8=(e,t,r)=>n=>(e(t,r,n),null),$c=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];$y(s)&&typeof i=="function"&&(n||(n={}),n[s]=g8(i,t,r))}),n},y8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function pA(e){if(typeof e!="string")return!1;var t=y8;return t.includes(e)}function _n(e){var t=Object.entries(e).filter(r=>{var[n]=r;return pA(n)});return Object.fromEntries(t)}var y_=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",x_=null,Yp=null,mA=e=>{if(e===x_&&Array.isArray(Yp))return Yp;var t=[];return b.Children.forEach(e,r=>{at(r)||(h8.isFragment(r)?t=t.concat(mA(r.props.children)):t.push(r))}),Yp=t,x_=e,t};function By(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>y_(s)):n=[y_(t)],mA(e).forEach(s=>{var i=wi(s,"type.displayName")||wi(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var gh=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,x8=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(Gp==null?void 0:Gp[n]))!==null&&s!==void 0?s:[],o=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||pA(t)),c=!!r&&$y(t);return o||l||c},st=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var o;x8((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(s[i]=n[i])}),s},b8=["children","width","height","viewBox","className","style","title","desc"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(null,arguments)}function j8(e,t){if(e==null)return{};var r,n,s=w8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function w8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qy=b.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:o,style:l,title:c,desc:d}=e,u=j8(e,b8),f=i||{width:n,height:s,x:0,y:0},h=ze("recharts-surface",o);return b.createElement("svg",Ov({},st(u,!0,"svg"),{className:h,width:n,height:s,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),b.createElement("title",null,c),b.createElement("desc",null,d),r)}),N8=["children","className"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function _8(e,t){if(e==null)return{};var r,n,s=k8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function k8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bt=b.forwardRef((e,t)=>{var{children:r,className:n}=e,s=_8(e,N8),i=ze("recharts-layer",n);return b.createElement("g",Tv({className:i},st(s,!0),{ref:t}),r)}),vA=b.createContext(null),S8=()=>b.useContext(vA);function Ze(e){return function(){return e}}const gA=Math.cos,Ld=Math.sin,Bn=Math.sqrt,Id=Math.PI,yh=2*Id,Mv=Math.PI,Dv=2*Mv,Ys=1e-6,E8=Dv-Ys;function yA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function C8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yA;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class P8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yA:C8(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=s-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ys)if(!(Math.abs(f*c-d*u)>Ys)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,m=s-l,v=c*c+d*d,g=p*p+m*m,y=Math.sqrt(v),x=Math.sqrt(h),w=i*Math.tan((Mv-Math.acos((v+h-g)/(2*y*x)))/2),j=w/x,N=w/y;Math.abs(j-1)>Ys&&this._append`L${t+j*u},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*p>u*m)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=t+l,u=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Ys||Math.abs(this._y1-u)>Ys)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%Dv+Dv),h>E8?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>Ys&&this._append`A${n},${n},0,${+(h>=Mv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Uy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new P8(t)}function Hy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xA(e){this._context=e}xA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xh(e){return new xA(e)}function bA(e){return e[0]}function jA(e){return e[1]}function wA(e,t){var r=Ze(!0),n=null,s=xh,i=null,o=Uy(l);e=typeof e=="function"?e:e===void 0?bA:Ze(e),t=typeof t=="function"?t:t===void 0?jA:Ze(t);function l(c){var d,u=(c=Hy(c)).length,f,h=!1,p;for(n==null&&(i=s(p=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,c),+t(f,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ze(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ze(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ze(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Nu(e,t,r){var n=null,s=Ze(!0),i=null,o=xh,l=null,c=Uy(d);e=typeof e=="function"?e:e===void 0?bA:Ze(+e),t=typeof t=="function"?t:Ze(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?jA:Ze(+r);function d(f){var h,p,m,v=(f=Hy(f)).length,g,y=!1,x,w=new Array(v),j=new Array(v);for(i==null&&(l=o(x=c())),h=0;h<=v;++h){if(!(h<v&&s(g=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(w[m],j[m]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(g,h,f),j[h]=+t(g,h,f),l.point(n?+n(g,h,f):w[h],r?+r(g,h,f):j[h]))}if(x)return l=null,x+""||null}function u(){return wA().defined(s).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ze(!!f),d):s},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class NA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function A8(e){return new NA(e,!0)}function O8(e){return new NA(e,!1)}const Wy={draw(e,t){const r=Bn(t/Id);e.moveTo(r,0),e.arc(0,0,r,0,yh)}},T8={draw(e,t){const r=Bn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},_A=Bn(1/3),M8=_A*2,D8={draw(e,t){const r=Bn(t/M8),n=r*_A;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},R8={draw(e,t){const r=Bn(t),n=-r/2;e.rect(n,n,r,r)}},L8=.8908130915292852,kA=Ld(Id/10)/Ld(7*Id/10),I8=Ld(yh/10)*kA,z8=-gA(yh/10)*kA,$8={draw(e,t){const r=Bn(t*L8),n=I8*r,s=z8*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=yh*i/5,l=gA(o),c=Ld(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Xp=Bn(3),F8={draw(e,t){const r=-Bn(t/(Xp*3));e.moveTo(0,r*2),e.lineTo(-Xp*r,-r),e.lineTo(Xp*r,-r),e.closePath()}},on=-.5,ln=Bn(3)/2,Rv=1/Bn(12),B8=(Rv/2+1)*3,q8={draw(e,t){const r=Bn(t/B8),n=r/2,s=r*Rv,i=n,o=r*Rv+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(on*n-ln*s,ln*n+on*s),e.lineTo(on*i-ln*o,ln*i+on*o),e.lineTo(on*l-ln*c,ln*l+on*c),e.lineTo(on*n+ln*s,on*s-ln*n),e.lineTo(on*i+ln*o,on*o-ln*i),e.lineTo(on*l+ln*c,on*c-ln*l),e.closePath()}};function U8(e,t){let r=null,n=Uy(s);e=typeof e=="function"?e:Ze(e||Wy),t=typeof t=="function"?t:Ze(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ze(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ze(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function zd(){}function $d(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function SA(e){this._context=e}SA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H8(e){return new SA(e)}function EA(e){this._context=e}EA.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W8(e){return new EA(e)}function CA(e){this._context=e}CA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K8(e){return new CA(e)}function PA(e){this._context=e}PA.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function V8(e){return new PA(e)}function b_(e){return e<0?-1:1}function j_(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(b_(i)+b_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function w_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zp(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Fd(e){this._context=e}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zp(this,this._t0,w_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zp(this,w_(this,r=j_(this,e,t)),r);break;default:Zp(this,this._t0,r=j_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function AA(e){this._context=new OA(e)}(AA.prototype=Object.create(Fd.prototype)).point=function(e,t){Fd.prototype.point.call(this,t,e)};function OA(e){this._context=e}OA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function G8(e){return new Fd(e)}function Y8(e){return new AA(e)}function TA(e){this._context=e}TA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=N_(e),s=N_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function N_(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function X8(e){return new TA(e)}function bh(e,t){this._context=e,this._t=t}bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Z8(e){return new bh(e,.5)}function Q8(e){return new bh(e,0)}function J8(e){return new bh(e,1)}function bo(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Lv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ez(e,t){return e[t]}function tz(e){const t=[];return t.key=e,t}function rz(){var e=Ze([]),t=Lv,r=bo,n=ez;function s(i){var o=Array.from(e.apply(this,arguments),tz),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,i)]).data=f;for(l=0,u=Hy(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ze(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ze(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Lv:typeof i=="function"?i:Ze(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??bo,s):r},s}function nz(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}bo(e,t)}}function az(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}bo(e,t)}}function sz(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var v=e[t[m]],g=v[n][1]||0,y=v[n-1][1]||0;p+=g-y}c+=f,d+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,bo(e,t)}}var iz=["type","size","sizeType"];function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){oz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oz(e,t,r){return(t=lz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lz(e){var t=cz(e,"string");return typeof t=="symbol"?t:t+""}function cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uz(e,t){if(e==null)return{};var r,n,s=dz(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MA={symbolCircle:Wy,symbolCross:T8,symbolDiamond:D8,symbolSquare:R8,symbolStar:$8,symbolTriangle:F8,symbolWye:q8},fz=Math.PI/180,hz=e=>{var t="symbol".concat(zc(e));return MA[t]||Wy},pz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*fz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mz=(e,t)=>{MA["symbol".concat(zc(e))]=t},Ky=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=uz(e,iz),i=k_(k_({},s),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=hz(o),p=U8().type(h).size(pz(r,n,o));return p()},{className:c,cx:d,cy:u}=i,f=st(i,!0);return d===+d&&u===+u&&r===+r?b.createElement("path",Iv({},f,{className:ze("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:l()})):null};Ky.registerSymbol=mz;function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){Vy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vy(e,t,r){return(t=gz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cn=32;class Gy extends b.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=cn/2,i=cn/6,o=cn/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:cn,y2:s,className:"recharts-legend-icon"});if(c==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(cn,"M").concat(2*o,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(c==="rect")return b.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(cn/8,"h").concat(cn,"v").concat(cn*3/4,"h").concat(-cn,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var d=vz({},t);return delete d.legendIcon,b.cloneElement(t.legendIcon,d)}return b.createElement(Ky,{fill:l,cx:s,cy:s,size:cn,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:o}=this.props,l={x:0,y:0,width:cn,height:cn},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||s,p=ze({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?i:u.color,v=h?h(u.value,u,f):u.value;return b.createElement("li",zv({className:p,style:c,key:"legend-item-".concat(f)},$c(this.props,u,f)),b.createElement(qy,{width:r,height:r,viewBox:l,style:d,"aria-label":"".concat(v," legend icon")},this.renderIcon(u,o)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},v))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}Vy(Gy,"displayName","Legend");Vy(Gy,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var DA={},RA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o);s.has(l)||s.set(l,o)}return Array.from(s.values())}e.uniqBy=t})(RA);var Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Yy);var LA={},jh={},IA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(IA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(jh);var zA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(zA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jh,r=zA;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(LA);var $A={},FA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ah;function r(n){return function(s){return t.get(s,n)}}e.property=r})(FA);var BA={},Qp={},Jp={},Xy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Xy);var Zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Zy);var Qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Qy);var E_;function xz(){return E_||(E_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy(),r=Xy,n=Zy,s=Qy;function i(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function m(v,g,y,x,w,j){const N=p(v,g,y,x,w,j);return N!==void 0?!!N:o(v,g,m,j)},new Map)}function o(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,p,m);case"function":return Object.keys(h).length>0?o(f,{...h},p,m):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function l(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return d(f,h,p,m);if(h instanceof Map)return c(f,h,p,m);if(h instanceof Set)return u(f,h,p,m);const v=Object.keys(h);if(f==null)return v.length===0;if(v.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let g=0;g<v.length;g++){const y=v[g];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!p(f[y],h[y],y,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function c(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,g]of h.entries()){const y=f.get(v);if(p(y,g,v,f,h,m)===!1)return!1}return!0}function d(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let g=0;g<h.length;g++){const y=h[g];let x=!1;for(let w=0;w<f.length;w++){if(v.has(w))continue;const j=f[w];let N=!1;if(p(j,y,g,f,h,m)&&(N=!0),N){v.add(w),x=!0;break}}if(!x)return!1}return!0}function u(f,h,p,m){return h.size===0?!0:f instanceof Set?d([...f],[...h],p,m):!1}e.isMatchWith=i,e.isSetMatch=u}(Jp)),Jp}var C_;function Jy(){return C_||(C_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xz();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(Qp)),Qp}var qA={},ex={},UA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(UA);var tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(tx);var rx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",v="[object DataView]",g="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",_="[object Int32Array]",k="[object BigInt64Array]",P="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=j,e.booleanTag=s,e.dataViewTag=v,e.dateTag=l,e.errorTag=m,e.float32ArrayTag=P,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=_,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=d,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=y})(rx);var HA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(HA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UA,r=tx,n=rx,s=Zy,i=HA;function o(u,f){return l(u,void 0,u,new Map,f)}function l(u,f,h,p=new Map,m=void 0){const v=m==null?void 0:m(u,f,h,p);if(v!==void 0)return v;if(s.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const g=new Array(u.length);p.set(u,g);for(let y=0;y<u.length;y++)g[y]=l(u[y],y,h,p,m);return Object.hasOwn(u,"index")&&(g.index=u.index),Object.hasOwn(u,"input")&&(g.input=u.input),g}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const g=new RegExp(u.source,u.flags);return g.lastIndex=u.lastIndex,g}if(u instanceof Map){const g=new Map;p.set(u,g);for(const[y,x]of u)g.set(y,l(x,y,h,p,m));return g}if(u instanceof Set){const g=new Set;p.set(u,g);for(const y of u)g.add(l(y,void 0,h,p,m));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const g=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,g);for(let y=0;y<u.length;y++)g[y]=l(u[y],y,h,p,m);return g}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const g=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,g),c(g,u,h,p,m),g}if(typeof File<"u"&&u instanceof File){const g=new File([u],u.name,{type:u.type});return p.set(u,g),c(g,u,h,p,m),g}if(typeof Blob<"u"&&u instanceof Blob){const g=new Blob([u],{type:u.type});return p.set(u,g),c(g,u,h,p,m),g}if(u instanceof Error){const g=new u.constructor;return p.set(u,g),g.message=u.message,g.name=u.name,g.stack=u.stack,g.cause=u.cause,c(g,u,h,p,m),g}if(u instanceof Boolean){const g=new Boolean(u.valueOf());return p.set(u,g),c(g,u,h,p,m),g}if(u instanceof Number){const g=new Number(u.valueOf());return p.set(u,g),c(g,u,h,p,m),g}if(u instanceof String){const g=new String(u.valueOf());return p.set(u,g),c(g,u,h,p,m),g}if(typeof u=="object"&&d(u)){const g=Object.create(Object.getPrototypeOf(u));return p.set(u,g),c(g,u,h,p,m),g}return u}function c(u,f,h=u,p,m){const v=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<v.length;g++){const y=v[g],x=Object.getOwnPropertyDescriptor(u,y);(x==null||x.writable)&&(u[y]=l(f[y],y,h,p,m))}}function d(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=c})(ex);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(qA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy(),r=qA;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(BA);var WA={},KA={},VA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ex,r=rx;function n(s,i){return t.cloneDeepWith(s,(o,l,c,d)=>{const u=i==null?void 0:i(o,l,c,d);if(u!==void 0)return u;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(VA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VA;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(KA);var GA={},nx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(nx);var YA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(YA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry,r=nx,n=YA,s=ih;function i(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let d=o;for(let u=0;u<c.length;u++){const f=c[u];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}e.has=i})(GA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jy(),r=sh,n=KA,s=ah,i=GA;function o(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(d){const u=s.get(d,l);return u===void 0?i.has(d,l):c===void 0?u===void 0:t.isMatch(u,c)}}e.matchesProperty=o})(WA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy,r=FA,n=BA,s=WA;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?s.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})($A);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA,r=Yy,n=LA,s=$A;function i(o,l=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),s.iteratee(l)):[]}e.uniqBy=i})(DA);var bz=DA.uniqBy;const P_=zn(bz);function XA(e,t,r){return t===!0?P_(e,r):typeof t=="function"?P_(e,t):e}var ZA={exports:{}},QA={},JA={exports:{}},eO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=b;function jz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wz=typeof Object.is=="function"?Object.is:jz,Nz=jo.useState,_z=jo.useEffect,kz=jo.useLayoutEffect,Sz=jo.useDebugValue;function Ez(e,t){var r=t(),n=Nz({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return kz(function(){s.value=r,s.getSnapshot=t,em(s)&&i({inst:s})},[e,r,t]),_z(function(){return em(s)&&i({inst:s}),e(function(){em(s)&&i({inst:s})})},[e]),Sz(r),r}function em(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wz(e,r)}catch{return!0}}function Cz(e,t){return t()}var Pz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Cz:Ez;eO.useSyncExternalStore=jo.useSyncExternalStore!==void 0?jo.useSyncExternalStore:Pz;JA.exports=eO;var Az=JA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=b,Oz=Az;function Tz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mz=typeof Object.is=="function"?Object.is:Tz,Dz=Oz.useSyncExternalStore,Rz=wh.useRef,Lz=wh.useEffect,Iz=wh.useMemo,zz=wh.useDebugValue;QA.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=Rz(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Iz(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return f=m}return f=p}if(m=f,Mz(u,p))return m;var v=n(p);return s!==void 0&&s(m,v)?(u=p,m):(u=p,f=v)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=Dz(e,i[0],i[1]);return Lz(function(){o.hasValue=!0,o.value=l},[l]),zz(l),l};ZA.exports=QA;var $z=ZA.exports,ax=b.createContext(null),Fz=e=>e,yt=()=>{var e=b.useContext(ax);return e?e.store.dispatch:Fz},nd=()=>{},Bz=()=>nd,qz=(e,t)=>e===t;function xe(e){var t=b.useContext(ax);return $z.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Bz,t?t.store.getState:nd,t?t.store.getState:nd,t?e:nd,qz)}function Uz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Hz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Wz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var A_=e=>Array.isArray(e)?e:[e];function Kz(e){const t=Array.isArray(e[0])?e[0]:e;return Wz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Vz(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var Gz=class{constructor(e){this.value=e}deref(){return this.value}},Yz=typeof WeakRef<"u"?WeakRef:Gz,Xz=0,O_=1;function _u(){return{s:Xz,v:void 0,o:null,p:null}}function tO(e,t={}){let r=_u();const{resultEqualityCheck:n}=t;let s,i=0;function o(){var f;let l=r;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const g=v.get(m);g===void 0?(l=_u(),v.set(m,l)):l=g}else{let v=l.p;v===null&&(l.p=v=new Map);const g=v.get(m);g===void 0?(l=_u(),v.set(m,l)):l=g}}const d=l;let u;if(l.s===O_)u=l.v;else if(u=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,u)&&(u=h,i!==0&&i--),s=typeof u=="object"&&u!==null||typeof u=="function"?new Yz(u):u}return d.s=O_,d.v=u,u}return o.clearCache=()=>{r=_u(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Zz(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,o=0,l,c={},d=s.pop();typeof d=="object"&&(c=d,d=s.pop()),Uz(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const u={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=tO,argsMemoizeOptions:m=[]}=u,v=A_(h),g=A_(m),y=Kz(s),x=f(function(){return i++,d.apply(null,arguments)},...v),w=p(function(){o++;const N=Vz(y,arguments);return l=x.apply(null,N),l},...g);return Object.assign(w,{resultFunc:d,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var te=Zz(tO),Qz=Object.assign((e,t=te)=>{Hz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,c)=>(o[r[c]]=l,o),{}))},{withTypes:()=>Qz}),rO={},nO={},aO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const o=t(n),l=t(s);if(o===l&&o===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(aO);var sO={},sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(sx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=s})(sO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aO,r=sO,n=ih;function s(i,o,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const d=(p,m)=>{let v=p;for(let g=0;g<m.length&&v!=null;++g)v=v[m[g]];return v},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:d(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?d(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let v=0;v<f.length;v++){const g=t.compareValues(p.criteria[v],m.criteria[v],l[v]);if(g!==0)return g}return 0}).map(p=>p.original)}e.orderBy=s})(nO);var iO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),o=(l,c)=>{for(let d=0;d<l.length;d++){const u=l[d];Array.isArray(u)&&c<i?o(u,c+1):s.push(u)}};return o(r,0),s}e.flatten=t})(iO);var ix={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx,r=jh,n=Xy,s=Qy;function i(o,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],o):!1}e.isIterateeCall=i})(ix);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nO,r=iO,n=ix;function s(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=s})(rO);var Jz=rO.sortBy;const Nh=zn(Jz);var oO=e=>e.legend.settings,e$=e=>e.legend.size,t$=e=>e.legend.payload,r$=te([t$,oO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Nh(n,r):n});function n$(){return xe(r$)}var ku=1;function lO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ku||Math.abs(o.left-t.left)>ku||Math.abs(o.top-t.top)>ku||Math.abs(o.width-t.width)>ku)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Qt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var a$=typeof Symbol=="function"&&Symbol.observable||"@@observable",T_=a$,tm=()=>Math.random().toString(36).substring(7).split("").join("."),s$={INIT:`@@redux/INIT${tm()}`,REPLACE:`@@redux/REPLACE${tm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tm()}`},Bd=s$;function ox(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function cO(e,t,r){if(typeof e!="function")throw new Error(Qt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Qt(1));return r(cO)(e,t)}let n=e,s=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,y)=>{o.set(y,g)}))}function u(){if(c)throw new Error(Qt(3));return s}function f(g){if(typeof g!="function")throw new Error(Qt(4));if(c)throw new Error(Qt(5));let y=!0;d();const x=l++;return o.set(x,g),function(){if(y){if(c)throw new Error(Qt(6));y=!1,d(),o.delete(x),i=null}}}function h(g){if(!ox(g))throw new Error(Qt(7));if(typeof g.type>"u")throw new Error(Qt(8));if(typeof g.type!="string")throw new Error(Qt(17));if(c)throw new Error(Qt(9));try{c=!0,s=n(s,g)}finally{c=!1}return(i=o).forEach(x=>{x()}),g}function p(g){if(typeof g!="function")throw new Error(Qt(10));n=g,h({type:Bd.REPLACE})}function m(){const g=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Qt(11));function x(){const j=y;j.next&&j.next(u())}return x(),{unsubscribe:g(x)}},[T_](){return this}}}return h({type:Bd.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[T_]:m}}function i$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Bd.INIT})>"u")throw new Error(Qt(12));if(typeof r(void 0,{type:Bd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qt(13))})}function uO(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let s;try{i$(r)}catch(i){s=i}return function(o={},l){if(s)throw s;let c=!1;const d={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],p=o[f],m=h(p,l);if(typeof m>"u")throw l&&l.type,new Error(Qt(14));d[f]=m,c=c||m!==p}return c=c||n.length!==Object.keys(o).length,c?d:o}}function qd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function o$(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(Qt(15))};const o={getState:s.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=qd(...l)(s.dispatch),{...s,dispatch:i}}}function dO(e){return ox(e)&&"type"in e&&typeof e.type=="string"}var fO=Symbol.for("immer-nothing"),M_=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function An(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wo=Object.getPrototypeOf;function Ni(e){return!!e&&!!e[Qr]}function Ia(e){var t;return e?hO(e)||Array.isArray(e)||!!e[M_]||!!((t=e.constructor)!=null&&t[M_])||Fc(e)||kh(e):!1}var l$=Object.prototype.constructor.toString();function hO(e){if(!e||typeof e!="object")return!1;const t=wo(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===l$}function Ud(e,t){_h(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function _h(e){const t=e[Qr];return t?t.type_:Array.isArray(e)?1:Fc(e)?2:kh(e)?3:0}function $v(e,t){return _h(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pO(e,t,r){const n=_h(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function c$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fc(e){return e instanceof Map}function kh(e){return e instanceof Set}function Xs(e){return e.copy_||e.base_}function Fv(e,t){if(Fc(e))return new Map(e);if(kh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=hO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Qr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const o=s[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(wo(e),n)}else{const n=wo(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function lx(e,t=!1){return Sh(e)||Ni(e)||!Ia(e)||(_h(e)>1&&Object.defineProperties(e,{set:{value:Su},add:{value:Su},clear:{value:Su},delete:{value:Su}}),Object.freeze(e),t&&Object.values(e).forEach(r=>lx(r,!0))),e}function Su(){An(2)}function Sh(e){return Object.isFrozen(e)}var u$={};function _i(e){const t=u$[e];return t||An(0,e),t}var xc;function mO(){return xc}function d$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function D_(e,t){t&&(_i("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Bv(e){qv(e),e.drafts_.forEach(f$),e.drafts_=null}function qv(e){e===xc&&(xc=e.parent_)}function R_(e){return xc=d$(xc,e)}function f$(e){const t=e[Qr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function L_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Qr].modified_&&(Bv(t),An(4)),Ia(e)&&(e=Hd(t,e),t.parent_||Wd(t,e)),t.patches_&&_i("Patches").generateReplacementPatches_(r[Qr].base_,e,t.patches_,t.inversePatches_)):e=Hd(t,r,[]),Bv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fO?e:void 0}function Hd(e,t,r){if(Sh(t))return t;const n=t[Qr];if(!n)return Ud(t,(s,i)=>I_(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Wd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,o=!1;n.type_===3&&(i=new Set(s),s.clear(),o=!0),Ud(i,(l,c)=>I_(e,n,s,l,c,r,o)),Wd(e,s,!1),r&&e.patches_&&_i("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function I_(e,t,r,n,s,i,o){if(Ni(s)){const l=i&&t&&t.type_!==3&&!$v(t.assigned_,n)?i.concat(n):void 0,c=Hd(e,s,l);if(pO(r,n,c),Ni(c))e.canAutoFreeze_=!1;else return}else o&&r.add(s);if(Ia(s)&&!Sh(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Hd(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Fc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Wd(e,s)}}function Wd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lx(t,r)}function h$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:mO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=cx;r&&(s=[n],i=bc);const{revoke:o,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=o,l}var cx={get(e,t){if(t===Qr)return e;const r=Xs(e);if(!$v(r,t))return p$(e,r,t);const n=r[t];return e.finalized_||!Ia(n)?n:n===rm(e.base_,t)?(nm(e),e.copy_[t]=Hv(n,e)):n},has(e,t){return t in Xs(e)},ownKeys(e){return Reflect.ownKeys(Xs(e))},set(e,t,r){const n=vO(Xs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=rm(Xs(e),t),i=s==null?void 0:s[Qr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(c$(r,s)&&(r!==void 0||$v(e.base_,t)))return!0;nm(e),Uv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return rm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nm(e),Uv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Xs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){An(11)},getPrototypeOf(e){return wo(e.base_)},setPrototypeOf(){An(12)}},bc={};Ud(cx,(e,t)=>{bc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bc.deleteProperty=function(e,t){return bc.set.call(this,e,t,void 0)};bc.set=function(e,t,r){return cx.set.call(this,e[0],t,r,e[0])};function rm(e,t){const r=e[Qr];return(r?Xs(r):e)[t]}function p$(e,t,r){var s;const n=vO(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function vO(e,t){if(!(t in e))return;let r=wo(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=wo(r)}}function Uv(e){e.modified_||(e.modified_=!0,e.parent_&&Uv(e.parent_))}function nm(e){e.copy_||(e.copy_=Fv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...d){return o.produce(c,u=>r.call(this,u,...d))}}typeof r!="function"&&An(6),n!==void 0&&typeof n!="function"&&An(7);let s;if(Ia(t)){const i=R_(this),o=Hv(t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?Bv(i):qv(i)}return D_(i,n),L_(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===fO&&(s=void 0),this.autoFreeze_&&lx(s,!0),n){const i=[],o=[];_i("Patches").generateReplacementPatches_(t,s,i,o),n(i,o)}return s}else An(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let n,s;return[this.produce(t,r,(o,l)=>{n=o,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ia(e)||An(8),Ni(e)&&(e=Ca(e));const t=R_(this),r=Hv(e,void 0);return r[Qr].isManual_=!0,qv(t),r}finishDraft(e,t){const r=e&&e[Qr];(!r||!r.isManual_)&&An(9);const{scope_:n}=r;return D_(n,t),L_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=_i("Patches").applyPatches_;return Ni(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Hv(e,t){const r=Fc(e)?_i("MapSet").proxyMap_(e,t):kh(e)?_i("MapSet").proxySet_(e,t):h$(e,t);return(t?t.scope_:mO()).drafts_.push(r),r}function Ca(e){return Ni(e)||An(10,e),gO(e)}function gO(e){if(!Ia(e)||Sh(e))return e;const t=e[Qr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Fv(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Fv(e,!0);return Ud(r,(n,s)=>{pO(r,n,gO(s))}),t&&(t.finalized_=!1),r}var v$=new m$,yO=v$.produce;function xO(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var g$=xO(),y$=xO,x$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qd:qd.apply(null,arguments)};function jn(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Xr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>dO(n)&&n.type===e,r}var bO=class Ll extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ll.prototype)}static get[Symbol.species](){return Ll}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ll(...t[0].concat(this)):new Ll(...t.concat(this))}};function z_(e){return Ia(e)?yO(e,()=>{}):e}function Eu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function b$(e){return typeof e=="boolean"}var j$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new bO;return r&&(b$(r)?o.push(g$):o.push(y$(r.extraArgument))),o},w$="RTK_autoBatch",$_=e=>t=>{setTimeout(t,e)},N$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$_(10):e.type==="callback"?e.queueNotification:$_(e.timeout),d=()=>{o=!1,i&&(i=!1,l.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>s&&u(),h=n.subscribe(f);return l.add(u),()=>{h(),l.delete(u)}},dispatch(u){var f;try{return s=!((f=u==null?void 0:u.meta)!=null&&f[w$]),i=!s,i&&(o||(o=!0,c(d))),n.dispatch(u)}finally{s=!0}}})},_$=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new bO(e);return n&&s.push(N$(typeof n=="object"?n:void 0)),s};function k$(e){const t=j$(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(ox(r))l=uO(r);else throw new Error(Xr(1));let c;typeof n=="function"?c=n(t):c=t();let d=qd;s&&(d=x$({trace:!1,...typeof s=="object"&&s}));const u=o$(...c),f=_$(u);let h=typeof o=="function"?o(f):f();const p=d(...h);return cO(l,i,p)}function jO(e){const t={},r=[];let n;const s={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(Xr(28));if(l in t)throw new Error(Xr(29));return t[l]=o,s},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),s},addMatcher(i,o){return r.push({matcher:i,reducer:o}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function S$(e){return typeof e=="function"}function E$(e,t){let[r,n,s]=jO(t),i;if(S$(e))i=()=>z_(e());else{const l=z_(e);i=()=>l}function o(l=i(),c){let d=[r[c.type],...n.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return d.filter(u=>!!u).length===0&&(d=[s]),d.reduce((u,f)=>{if(f)if(Ni(u)){const p=f(u,c);return p===void 0?u:p}else{if(Ia(u))return yO(u,h=>f(h,c));{const h=f(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},l)}return o.getInitialState=i,o}var C$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",P$=(e=21)=>{let t="",r=e;for(;r--;)t+=C$[Math.random()*64|0];return t},A$=Symbol.for("rtk-slice-createasyncthunk");function O$(e,t){return`${e}/${t}`}function T$({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[A$];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Xr(11));const l=(typeof s.reducers=="function"?s.reducers(D$()):s.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,N){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(Xr(12));if(S in d.sliceCaseReducersByType)throw new Error(Xr(13));return d.sliceCaseReducersByType[S]=N,u},addMatcher(j,N){return d.sliceMatchers.push({matcher:j,reducer:N}),u},exposeAction(j,N){return d.actionCreators[j]=N,u},exposeCaseReducer(j,N){return d.sliceCaseReducersByName[j]=N,u}};c.forEach(j=>{const N=l[j],S={reducerName:j,type:O$(i,j),createNotation:typeof s.reducers=="function"};L$(N)?z$(S,N,u,t):R$(S,N,u)});function f(){const[j={},N=[],S=void 0]=typeof s.extraReducers=="function"?jO(s.extraReducers):[s.extraReducers],_={...j,...d.sliceCaseReducersByType};return E$(s.initialState,k=>{for(let P in _)k.addCase(P,_[P]);for(let P of d.sliceMatchers)k.addMatcher(P.matcher,P.reducer);for(let P of N)k.addMatcher(P.matcher,P.reducer);S&&k.addDefaultCase(S)})}const h=j=>j,p=new Map,m=new WeakMap;let v;function g(j,N){return v||(v=f()),v(j,N)}function y(){return v||(v=f()),v.getInitialState()}function x(j,N=!1){function S(k){let P=k[j];return typeof P>"u"&&N&&(P=Eu(m,S,y)),P}function _(k=h){const P=Eu(p,N,()=>new WeakMap);return Eu(P,k,()=>{const E={};for(const[C,A]of Object.entries(s.selectors??{}))E[C]=M$(A,k,()=>Eu(m,k,y),N);return E})}return{reducerPath:j,getSelectors:_,get selectors(){return _(S)},selectSlice:S}}const w={name:i,reducer:g,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(j,{reducerPath:N,...S}={}){const _=N??o;return j.inject({reducerPath:_,reducer:g},S),{...w,...x(_,!0)}}};return w}}function M$(e,t,r,n){function s(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return s.unwrapped=e,s}var rn=T$();function D$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function R$({type:e,reducerName:t,createNotation:r},n,s){let i,o;if("reducer"in n){if(r&&!I$(n))throw new Error(Xr(17));i=n.reducer,o=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?jn(e,o):jn(e))}function L$(e){return e._reducerDefinitionType==="asyncThunk"}function I$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function z$({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Xr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=r,f=s(e,i,u);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),d&&n.addMatcher(f.settled,d),n.exposeCaseReducer(t,{fulfilled:o||Cu,pending:l||Cu,rejected:c||Cu,settled:d||Cu})}function Cu(){}var $$="task",wO="listener",NO="completed",ux="cancelled",F$=`task-${ux}`,B$=`task-${NO}`,Wv=`${wO}-${ux}`,q$=`${wO}-${NO}`,Eh=class{constructor(e){up(this,"name","TaskAbortError");up(this,"message");this.code=e,this.message=`${$$} ${ux} (reason: ${e})`}},dx=(e,t)=>{if(typeof e!="function")throw new TypeError(Xr(32))},Kd=()=>{},_O=(e,t=Kd)=>(e.catch(t),e),kO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},hi=e=>{if(e.aborted){const{reason:t}=e;throw new Eh(t)}};function SO(e,t){let r=Kd;return new Promise((n,s)=>{const i=()=>s(new Eh(e.reason));if(e.aborted){i();return}r=kO(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Kd})}var U$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Eh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vd=e=>t=>_O(SO(e,t).then(r=>(hi(e),r))),EO=e=>{const t=Vd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:io}=Object,F_={},Ch="listenerMiddleware",H$=(e,t)=>{const r=n=>kO(e,()=>fi(n,e.reason));return(n,s)=>{dx(n);const i=new AbortController;r(i);const o=U$(async()=>{hi(e),hi(i.signal);const l=await n({pause:Vd(i.signal),delay:EO(i.signal),signal:i.signal});return hi(i.signal),l},()=>fi(i,B$));return s!=null&&s.autoJoin&&t.push(o.catch(Kd)),{result:Vd(e)(o),cancel(){fi(i,F$)}}}},W$=(e,t)=>{const r=async(n,s)=>{hi(t);let i=()=>{};const l=[new Promise((c,d)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),d()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await SO(t,Promise.race(l));return hi(t),c}finally{i()}};return(n,s)=>_O(r(n,s))},CO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=jn(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Xr(21));return dx(i),{predicate:s,type:t,effect:i}},PO=io(e=>{const{type:t,predicate:r,effect:n}=CO(e);return{id:P$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Xr(22))}}},{withTypes:()=>PO}),B_=(e,t)=>{const{type:r,effect:n,predicate:s}=CO(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Kv=e=>{e.pending.forEach(t=>{fi(t,Wv)})},K$=e=>()=>{e.forEach(Kv),e.clear()},q_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},AO=io(jn(`${Ch}/add`),{withTypes:()=>AO}),V$=jn(`${Ch}/removeAll`),OO=io(jn(`${Ch}/remove`),{withTypes:()=>OO}),G$=(...e)=>{console.error(`${Ch}/error`,...e)},Bc=(e={})=>{const t=new Map,{extra:r,onError:n=G$}=e;dx(n);const s=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&Kv(u)}),i=u=>{const f=B_(t,u)??PO(u);return s(f)};io(i,{withTypes:()=>i});const o=u=>{const f=B_(t,u);return f&&(f.unsubscribe(),u.cancelActive&&Kv(f)),!!f};io(o,{withTypes:()=>o});const l=async(u,f,h,p)=>{const m=new AbortController,v=W$(i,m.signal),g=[];try{u.pending.add(m),await Promise.resolve(u.effect(f,io({},h,{getOriginalState:p,condition:(y,x)=>v(y,x).then(Boolean),take:v,delay:EO(m.signal),pause:Vd(m.signal),extra:r,signal:m.signal,fork:H$(m.signal,g),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,x,w)=>{y!==m&&(fi(y,Wv),w.delete(y))})},cancel:()=>{fi(m,Wv),u.pending.delete(m)},throwIfCancelled:()=>{hi(m.signal)}})))}catch(y){y instanceof Eh||q_(n,y,{raisedBy:"effect"})}finally{await Promise.all(g),fi(m,q$),u.pending.delete(m)}},c=K$(t);return{middleware:u=>f=>h=>{if(!dO(h))return f(h);if(AO.match(h))return i(h.payload);if(V$.match(h)){c();return}if(OO.match(h))return o(h.payload);let p=u.getState();const m=()=>{if(p===F_)throw new Error(Xr(23));return p};let v;try{if(v=f(h),t.size>0){const g=u.getState(),y=Array.from(t.values());for(const x of y){let w=!1;try{w=x.predicate(h,g,p)}catch(j){w=!1,q_(n,j,{raisedBy:"predicate"})}w&&l(x,h,u,m)}}}finally{p=F_}return v},startListening:i,stopListening:o,clearListeners:c}};function Xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Y$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TO=rn({name:"chartLayout",initialState:Y$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:X$,setLayout:Z$,setChartSize:Q$,setScale:J$}=TO.actions,eF=TO.reducer;function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){tF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tF(e,t,r){return(t=rF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd=Math.PI/180,aF=e=>e*180/Math.PI,At=(e,t,r,n)=>({x:e+Math.cos(-Gd*n)*r,y:t+Math.sin(-Gd*n)*r}),MO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sF=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},iF=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,o=sF({x:r,y:n},{x:s,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-s)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:aF(c),angleInRadian:c}},oF=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},lF=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return e+o*360},cF=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=iF({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(s<o||s>l||s===0)return null;var{startAngle:c,endAngle:d}=oF(t),u=i,f;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;f=u>=d&&u<=c}return f?H_(H_({},t),{},{radius:s,angle:lF(u,t)}):null};function DO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=fF(e,"string");return typeof t=="symbol"?t:t+""}function fF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return at(e)||at(t)?r:sa(t)?wi(e,t,r):typeof t=="function"?t(e):r}var hF=(e,t,r,n,s)=>{var i,o=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var d=c>0?r[c-1].coordinate:r[l-1].coordinate,u=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Kt(u-d)!==Kt(f-u)){var p=[];if(Kt(f-u)===Kt(s[1]-s[0])){h=f;var m=u+s[1]-s[0];p[0]=Math.min(m,(m+d)/2),p[1]=Math.max(m,(m+d)/2)}else{h=d;var v=f+s[1]-s[0];p[0]=Math.min(u,(v+u)/2),p[1]=Math.max(u,(v+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){({index:o}=r[c]);break}}else{var y=Math.min(d,f),x=Math.max(d,f);if(e>(y+u)/2&&e<=(x+u)/2){({index:o}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},pF=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&be(e[i]))return pn(pn({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&be(e[o]))return pn(pn({},e),{},{[o]:e[o]+(s||0)})}return e},ca=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",RO=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,o=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||o.push(t),i||o.push(r),o},LO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:d,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var m=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=s==="category"&&o.bandwidth?o.bandwidth()/m:0;if(v=p==="angleAxis"&&i&&i.length>=2?Kt(i[0]-i[1])*2*v:v,f||h){var g=(f||h||[]).map((y,x)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:x}});return g.filter(y=>!Lr(y.coordinate))}return c&&d?d.map((y,x)=>({coordinate:o(y)+v,value:y,index:x,offset:v})):o.ticks&&u!=null?o.ticks(u).map((y,x)=>({coordinate:o(y)+v,value:y,offset:v,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+v,value:n?n[y]:y,index:x,offset:v}))},K_=1e-4,mF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-K_,i=Math.max(n[0],n[1])+K_,o=e(t[0]),l=e(t[r-1]);(o<s||o>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},vF=(e,t)=>{if(!t||t.length!==2||!be(t[0])||!be(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!be(e[0])||e[0]<r)&&(s[0]=r),(!be(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},gF=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,o=0;o<t;++o){var l=Lr(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},yF=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var o=Lr(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},xF={sign:gF,expand:nz,none:bo,silhouette:az,wiggle:sz,positive:yF},bF=(e,t,r)=>{var n=xF[r],s=rz().keys(t).value((i,o)=>+Ye(i,o,0)).order(Lv).offset(n);return s(e)};function IO(e){return e==null?void 0:String(e)}function Yd(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!at(s[t.dataKey])){var l=hA(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ye(s,at(o)?t.dataKey:o);return at(c)?null:t.scale(c)}var V_=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Ye(i,t.dataKey,t.scale.domain()[o]);return at(l)?null:t.scale(l)-s/2+n},jF=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},wF=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},NF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_F=(e,t,r)=>{if(e!=null)return NF(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:o}=i,l=o.reduce((c,d)=>{var u=DO(d,t,r),f=wF(u);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},G_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ki=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Nh(t,u=>u.coordinate),i=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];i=Math.min((c.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function X_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return pn(pn({},t),{},{dataKey:r,payload:n,value:s,name:i})}function $s(e,t){if(e)return String(e);if(typeof t=="string")return t}function kF(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?cF({x:e,y:t},n):null}var SF=(e,t,r,n)=>{var s=t.find(d=>d&&d.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:o}=n;return pn(pn(pn({},n),At(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=s.coordinate,{angle:c}=n;return pn(pn(pn({},n),At(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},EF=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ga=e=>e.layout.width,Ya=e=>e.layout.height,CF=e=>e.layout.scale,zO=e=>e.layout.margin,Ph=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ah=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),$O="data-recharts-item-index",FO="data-recharts-item-data-key",qc=60;function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){PF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PF(e,t,r){return(t=AF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TF=e=>e.brush.height;function MF(e){var t=Ah(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:qc;return r+s}return r},0)}function DF(e){var t=Ah(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:qc;return r+s}return r},0)}function RF(e){var t=Ph(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function LF(e){var t=Ph(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Lt=te([Ga,Ya,zO,TF,MF,DF,RF,LF,oO,e$],(e,t,r,n,s,i,o,l,c,d)=>{var u={left:(r.left||0)+s,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=Pu(Pu({},f),u),p=h.bottom;h.bottom+=n,h=pF(h,c,d);var m=e-h.left-h.right,v=t-h.top-h.bottom;return Pu(Pu({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(v,0)})}),IF=te(Lt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fx=te(Ga,Ya,(e,t)=>({x:0,y:0,width:e,height:t})),zF=b.createContext(null),mr=()=>b.useContext(zF)!=null,Oh=e=>e.brush,Th=te([Oh,Lt,zO],(e,t,r)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:be(e.width)?e.width:t.width})),hx=()=>{var e,t=mr(),r=xe(IF),n=xe(Th),s=(e=xe(Oh))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},$F={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BO=()=>{var e;return(e=xe(Lt))!==null&&e!==void 0?e:$F},px=()=>xe(Ga),mx=()=>xe(Ya),FF=()=>xe(e=>e.layout.margin),Re=e=>e.layout.layoutType,Uc=()=>xe(Re),BF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qO=rn({name:"legend",initialState:BF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Ca(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Q_,setLegendSettings:qF,addLegendPayload:UO,removeLegendPayload:HO}=qO.actions,UF=qO.reducer,HF=["contextPayload"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(null,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){vx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vx(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=KF(e,"string");return typeof t=="symbol"?t:t+""}function KF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VF(e,t){if(e==null)return{};var r,n,s=GF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YF(e){return e.value}function XF(e){var{contextPayload:t}=e,r=VF(e,HF),n=XA(t,e.payloadUniqBy,YF),s=No(No({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,s):typeof e.content=="function"?b.createElement(e.content,s):b.createElement(Gy,s)}function ZF(e,t,r,n,s,i){var{layout:o,align:l,verticalAlign:c}=t,d,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?d={left:((n||0)-i.width)/2}:d=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((s||0)-i.height)/2}:u=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),No(No({},d),u)}function QF(e){var t=yt();return b.useEffect(()=>{t(qF(e))},[t,e]),null}function JF(e){var t=yt();return b.useEffect(()=>(t(Q_(e)),()=>{t(Q_({width:0,height:0}))}),[t,e]),null}function e9(e){var t=n$(),r=S8(),n=FF(),{width:s,height:i,wrapperStyle:o,portal:l}=e,[c,d]=lO([t]),u=px(),f=mx();if(u==null||f==null)return null;var h=u-(n.left||0)-(n.right||0),p=za.getWidthOrHeight(e.layout,i,s,h),m=l?o:No(No({position:"absolute",width:(p==null?void 0:p.width)||s||"auto",height:(p==null?void 0:p.height)||i||"auto"},ZF(o,e,n,u,f,c)),o),v=l??r;if(v==null)return null;var g=b.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:d},b.createElement(QF,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),b.createElement(JF,{width:c.width,height:c.height}),b.createElement(XF,Vv({},e,p,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return Hf.createPortal(g,v)}class za extends b.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&be(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return b.createElement(e9,this.props)}}vx(za,"displayName","Legend");vx(za,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return(t=r9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a9(e){return Array.isArray(e)&&sa(e[0])&&sa(e[1])?e.join(" ~ "):e}var s9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:d,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var N={padding:0,margin:0},S=(l?Nh(i,l):i).map((_,k)=>{if(_.type==="none")return null;var P=_.formatter||o||a9,{value:E,name:C}=_,A=E,D=C;if(P){var M=P(E,C,_,k,i);if(Array.isArray(M))[A,D]=M;else if(M!=null)A=M;else return null}var O=am({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:O},sa(D)?b.createElement("span",{className:"recharts-tooltip-item-name"},D):null,sa(D)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},A),b.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},m=am({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=am({margin:0},s),g=!at(u),y=g?u:"",x=ze("recharts-default-tooltip",c),w=ze("recharts-tooltip-label",d);g&&f&&i!==void 0&&i!==null&&(y=f(u,i));var j=h?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Gv({className:x,style:m},j),b.createElement("p",{className:w,style:v},b.isValidElement(y)?y:"".concat(y)),p())},wl="recharts-tooltip-wrapper",i9={visibility:"hidden"};function o9(e){var{coordinate:t,translateX:r,translateY:n}=e;return ze(wl,{["".concat(wl,"-right")]:be(r)&&t&&be(t.x)&&r>=t.x,["".concat(wl,"-left")]:be(r)&&t&&be(t.x)&&r<t.x,["".concat(wl,"-bottom")]:be(n)&&t&&be(t.y)&&n>=t.y,["".concat(wl,"-top")]:be(n)&&t&&be(t.y)&&n<t.y})}function tk(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=e;if(i&&be(i[n]))return i[n];var u=r[n]-l-(s>0?s:0),f=r[n]+s;if(t[n])return o[n]?u:f;var h=c[n];if(h==null)return 0;if(o[n]){var p=u,m=h;return p<m?Math.max(f,h):Math.max(u,h)}if(d==null)return 0;var v=f+l,g=h+d;return v>g?Math.max(u,h):Math.max(f,h)}function l9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function c9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:c}=e,d,u,f;return o.height>0&&o.width>0&&r?(u=tk({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=tk({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=l9({translateX:u,translateY:f,useTranslate3d:l})):d=i9,{cssProperties:d,cssClasses:o9({translateX:u,translateY:f,coordinate:r})}}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){Yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yv(e,t,r){return(t=u9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u9(e){var t=d9(e,"string");return typeof t=="symbol"?t:t+""}function d9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class f9 extends b.PureComponent{constructor(){super(...arguments),Yv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Yv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:o,hasPayload:l,isAnimationActive:c,offset:d,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:v,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=c9({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),j=y?{}:Au(Au({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Au(Au({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},m);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:N,ref:g},i)}}var h9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Xa={devToolsEnabled:!1,isSsr:h9()},WO=()=>xe(e=>e.rootProps.accessibilityLayer);function ar(e){return Number.isFinite(e)}function _o(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ak(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){p9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p9(e,t,r){return(t=m9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sk={curveBasisClosed:W8,curveBasisOpen:K8,curveBasis:H8,curveBumpX:A8,curveBumpY:O8,curveLinearClosed:V8,curveLinear:xh,curveMonotoneX:G8,curveMonotoneY:Y8,curveNatural:X8,curveStep:Z8,curveStepAfter:J8,curveStepBefore:Q8},Ou=e=>ar(e.x)&&ar(e.y),Nl=e=>e.x,_l=e=>e.y,g9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(zc(e));return(r==="curveMonotone"||r==="curveBump")&&t?sk["".concat(r).concat(t==="vertical"?"Y":"X")]:sk[r]||xh},y9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,o=g9(t,s),l=i?r.filter(Ou):r,c;if(Array.isArray(n)){var d=i?n.filter(f=>Ou(f)):n,u=l.map((f,h)=>ak(ak({},f),{},{base:d[h]}));return s==="vertical"?c=Nu().y(_l).x1(Nl).x0(f=>f.base.x):c=Nu().x(Nl).y1(_l).y0(f=>f.base.y),c.defined(Ou).curve(o),c(u)}return s==="vertical"&&be(n)?c=Nu().y(_l).x1(Nl).x0(n):be(n)?c=Nu().x(Nl).y1(_l).y0(n):c=wA().x(Nl).y(_l),c.defined(Ou).curve(o),c(l)},oo=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?y9(e):n;return b.createElement("path",Xv({},_n(e),Fy(e),{className:ze("recharts-curve",t),d:i===null?void 0:i,ref:s}))},x9=["x","y","top","left","width","height","className"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function b9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){j9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j9(e,t,r){return(t=w9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=N9(e,"string");return typeof t=="symbol"?t:t+""}function N9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _9(e,t){if(e==null)return{};var r,n,s=k9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function k9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S9=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),E9=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:o=0,className:l}=e,c=_9(e,x9),d=b9({x:t,y:r,top:n,left:s,width:i,height:o},c);return!be(t)||!be(r)||!be(i)||!be(o)||!be(n)||!be(s)?null:b.createElement("path",Zv({},st(d,!0),{className:ze("recharts-cross",l),d:S9(t,r,i,o,n,s)}))};function C9(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function P9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){A9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A9(e,t,r){return(t=O9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t){var r=P9({},e),n=t,s=Object.keys(t),i=s.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}function M9(){}function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){D9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KO=(e,t,r)=>e.map(n=>"".concat(I9(n)," ").concat(t,"ms ").concat(r)).join(","),z9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),jc=(e,t)=>Object.keys(t).reduce((r,n)=>ck(ck({},r),{},{[n]:e(n,t[n])}),{});function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){$9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t,r){return(t=F9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=(e,t,r)=>e+(t-e)*r,Qv=e=>{var{from:t,to:r}=e;return t!==r},VO=(e,t,r)=>{var n=jc((s,i)=>{if(Qv(i)){var[o,l]=e(i.from,i.to,i.velocity);return tr(tr({},i),{},{from:o,velocity:l})}return i},t);return r<1?jc((s,i)=>Qv(i)?tr(tr({},i),{},{velocity:Xd(i.velocity,n[s].velocity,r),from:Xd(i.from,n[s].from,r)}):i,t):VO(e,n,r-1)};function q9(e,t,r,n,s,i){var o,l=n.reduce((h,p)=>tr(tr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>jc((h,p)=>p.from,l),d=()=>!Object.values(l).filter(Qv).length,u=null,f=h=>{o||(o=h);var p=h-o,m=p/r.dt;l=VO(r,l,m),s(tr(tr(tr({},e),t),c())),o=h,d()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function U9(e,t,r,n,s,i,o){var l=null,c=s.reduce((f,h)=>tr(tr({},f),{},{[h]:[e[h],t[h]]}),{}),d,u=f=>{d||(d=f);var h=(f-d)/n,p=jc((v,g)=>Xd(...g,r(h)),c);if(i(tr(tr(tr({},e),t),p)),h<1)l=o.setTimeout(u);else{var m=jc((v,g)=>Xd(...g,r(1)),c);i(tr(tr(tr({},e),t),m))}};return()=>(l=o.setTimeout(u),()=>{l()})}const H9=(e,t,r,n,s,i)=>{var o=z9(e,t);return r.isStepper===!0?q9(e,t,r,o,s,i):U9(e,t,r,n,o,s,i)};var Zd=1e-4,GO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],YO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),dk=(e,t)=>r=>{var n=GO(e,t);return YO(n,r)},W9=(e,t)=>r=>{var n=GO(e,t),s=[...n.map((i,o)=>i*o).slice(1),0];return YO(s,r)},fk=function(){for(var t,r,n,s,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=o[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,n,r,s]=o);var d=dk(t,r),u=dk(n,s),f=W9(t,r),h=m=>m>1?1:m<0?0:m,p=m=>{for(var v=m>1?1:m,g=v,y=0;y<8;++y){var x=d(g)-v,w=f(g);if(Math.abs(x-v)<Zd||w<Zd)return u(g);g=h(g-x/w)}return u(g)};return p.isStepper=!1,p},K9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(o,l,c)=>{var d=-(o-l)*r,u=c*n,f=c+(d-u)*s/1e3,h=c*s/1e3+o;return Math.abs(h-l)<Zd&&Math.abs(f)<Zd?[l,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},V9=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fk(e);case"spring":return K9();default:if(e.split("(")[0]==="cubic-bezier")return fk(e)}return typeof e=="function"?e:null};function G9(e){var t,r=()=>null,n=!1,s=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...d]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,d),c);return}i(c),s=e.setTimeout(i.bind(null,d));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,s&&(s(),s=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Y9{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function X9(){return G9(new Y9)}var Z9=b.createContext(X9);function Q9(e,t){var r=b.useContext(Z9);return b.useMemo(()=>t??r(e),[e,t,r])}var J9={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hk={t:0},sm={t:1};function zo(e){var t=It(e,J9),{isActive:r,canBegin:n,duration:s,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:c,children:d}=t,u=Q9(t.animationId,t.animationManager),[f,h]=b.useState(r?hk:sm),p=b.useRef(null);return b.useEffect(()=>{r||h(sm)},[r]),b.useEffect(()=>{if(!r||!n)return M9;var m=H9(hk,sm,V9(i),s,h,u.getTimeoutController()),v=()=>{p.current=m()};return u.start([c,o,v,s,l]),()=>{u.stop(),p.current&&p.current(),l()}},[r,n,s,i,o,c,l,u]),d(f.t)}function $o(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(yc(t)),n=b.useRef(e);return n.current!==e&&(r.current=yc(t),n.current=e),r.current}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){eB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qd.apply(null,arguments)}var vk=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,d;if(i>0&&s instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=s[f]>i?i:s[f];d="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),d+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*u[1])),d+="L ".concat(e+r,",").concat(t+n-o*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(t+n)),d+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*u[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var p=Math.min(i,s);d="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+r-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*p,`
            L `).concat(e+r,",").concat(t+n-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,`
            L `).concat(e+l*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*p," Z")}else d="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return d},nB={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XO=e=>{var t=It(e,nB),r=b.useRef(null),[n,s]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&s(M)}catch{}},[]);var{x:i,y:o,width:l,height:c,radius:d,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:v}=t,g=b.useRef(l),y=b.useRef(c),x=b.useRef(i),w=b.useRef(o),j=b.useMemo(()=>({x:i,y:o,width:l,height:c,radius:d}),[i,o,l,c,d]),N=$o(j,"rectangle-");if(i!==+i||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var S=ze("recharts-rectangle",u);if(!v)return b.createElement("path",Qd({},st(t,!0),{className:S,d:vk(i,o,l,c,d)}));var _=g.current,k=y.current,P=x.current,E=w.current,C="0px ".concat(n===-1?1:n,"px"),A="".concat(n,"px 0px"),D=KO(["strokeDasharray"],h,typeof f=="string"?f:void 0);return b.createElement(zo,{animationId:N,key:N,canBegin:n>0,duration:h,easing:f,isActive:v,begin:p},M=>{var O=Ve(_,l,M),z=Ve(k,c,M),$=Ve(P,i,M),q=Ve(E,o,M);r.current&&(g.current=O,y.current=z,x.current=$,w.current=q);var R;return m?M>0?R={transition:D,strokeDasharray:A}:R={strokeDasharray:C}:R={strokeDasharray:A},b.createElement("path",Qd({},st(t,!0),{className:S,d:vk($,q,O,z,d),ref:r,style:mk(mk({},R),t.style)}))})};function ZO(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,o=At(t,r,n,s),l=At(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}var aB=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tu=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:c}=e,d=l*(o?1:-1)+n,u=Math.asin(l/d)/Gd,f=c?s:s+i*u,h=At(t,r,d,f),p=At(t,r,n,f),m=c?s-i*u:s,v=At(t,r,d*Math.cos(u*Gd),m);return{center:h,circleTangency:p,lineTangency:v,theta:u}},QO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:o}=e,l=aB(i,o),c=i+l,d=At(t,r,s,i),u=At(t,r,s,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=At(t,r,n,i),p=At(t,r,n,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},sB=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}=e,u=Kt(d-c),{circleTangency:f,lineTangency:h,theta:p}=Tu({cx:t,cy:r,radius:s,angle:c,sign:u,cornerRadius:i,cornerIsExternal:l}),{circleTangency:m,lineTangency:v,theta:g}=Tu({cx:t,cy:r,radius:s,angle:d,sign:-u,cornerRadius:i,cornerIsExternal:l}),y=l?Math.abs(c-d):Math.abs(c-d)-p-g;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):QO({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:d});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:N}=Tu({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:_,theta:k}=Tu({cx:t,cy:r,radius:n,angle:d,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),P=l?Math.abs(c-d):Math.abs(c-d)-N-k;if(P<0&&i===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},iB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JO=e=>{var t=It(e,iB),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u,className:f}=t;if(i<s||d===u)return null;var h=ze("recharts-sector",f),p=i-s,m=hr(o,p,0,!0),v;return m>0&&Math.abs(d-u)<360?v=sB({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):v=QO({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),b.createElement("path",Jv({},st(t,!0),{className:h,d:v}))};function oB(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:d,outerRadius:u,angle:f}=t,h=At(l,c,d,f),p=At(l,c,u,f);n=h.x,s=h.y,i=p.x,o=p.y}else return ZO(t);return[{x:n,y:s},{x:i,y:o}]}var eT={},tT={},rT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rT;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix,r=tT;function n(s,i,o){o&&typeof o!="number"&&t.isIterateeCall(s,i,o)&&(i=o=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),o=o===void 0?s<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-s)/(o||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=s,s+=o;return c}e.range=n})(eT);var lB=eT.range;const nT=zn(lB);function Es(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cB(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gx(e){let t,r,n;e.length!==2?(t=Es,r=(l,c)=>Es(e(l),c),n=(l,c)=>e(l)-c):(t=e===Es||e===cB?e:uB,r=e,n=e);function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=s(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function uB(){return 0}function aT(e){return e===null?NaN:+e}function*dB(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fB=gx(Es),Hc=fB.right;gx(aT).center;class gk extends Map{constructor(t,r=mB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(yk(this,t))}has(t){return super.has(yk(this,t))}set(t,r){return super.set(hB(this,t),r)}delete(t){return super.delete(pB(this,t))}}function yk({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pB({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function vB(e=Es){if(e===Es)return sT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gB=Math.sqrt(50),yB=Math.sqrt(10),xB=Math.sqrt(2);function Jd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=gB?10:i>=yB?5:i>=xB?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Jd(e,t,r*2):[l,c,d]}function eg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?Jd(t,e,r):Jd(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function tg(e,t,r){return t=+t,e=+e,r=+r,Jd(e,t,r)[2]}function rg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?tg(t,e,r):tg(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function xk(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bk(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iT(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?sT:vB(s);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/c+h)),m=Math.min(n,Math.floor(t+(c-d)*f/c+h));iT(e,t,p,m,s)}const i=e[t];let o=r,l=n;for(kl(e,r,t),s(e[n],i)>0&&kl(e,r,n);o<l;){for(kl(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?kl(e,r,l):(++l,kl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function kl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bB(e,t,r){if(e=Float64Array.from(dB(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bk(e);if(t>=1)return xk(e);var n,s=(n-1)*t,i=Math.floor(s),o=xk(iT(e,i).subarray(0,i+1)),l=bk(e.subarray(i+1));return o+(l-o)*(s-i)}}function jB(e,t,r=aT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function wB(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Za(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ng=Symbol("implicit");function yx(){var e=new gk,t=[],r=[],n=ng;function s(i){let o=e.get(i);if(o===void 0){if(n!==ng)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new gk;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return yx(t,r).unknown(n)},kn.apply(s,arguments),s}function xx(){var e=yx().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=s<n,m=p?s:n,v=p?n:s;i=(v-m)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),m+=(v-m-i*(h-c))*u,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var g=wB(h).map(function(y){return m+i*y});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return xx(t(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},kn.apply(f(),arguments)}function oT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oT(t())},e}function NB(){return oT(xx.apply(null,arguments).paddingInner(1))}function bx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wc(){}var wc=.7,ef=1/wc,lo="\\s*([+-]?\\d+)\\s*",Nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_B=/^#([0-9a-f]{3,8})$/,kB=new RegExp(`^rgb\\(${lo},${lo},${lo}\\)$`),SB=new RegExp(`^rgb\\(${ra},${ra},${ra}\\)$`),EB=new RegExp(`^rgba\\(${lo},${lo},${lo},${Nc}\\)$`),CB=new RegExp(`^rgba\\(${ra},${ra},${ra},${Nc}\\)$`),PB=new RegExp(`^hsl\\(${Nc},${ra},${ra}\\)$`),AB=new RegExp(`^hsla\\(${Nc},${ra},${ra},${Nc}\\)$`),jk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bx(Wc,_c,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wk,formatHex:wk,formatHex8:OB,formatHsl:TB,formatRgb:Nk,toString:Nk});function wk(){return this.rgb().formatHex()}function OB(){return this.rgb().formatHex8()}function TB(){return cT(this).formatHsl()}function Nk(){return this.rgb().formatRgb()}function _c(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_B.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_k(t):r===3?new Pr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kB.exec(e))?new Pr(t[1],t[2],t[3],1):(t=SB.exec(e))?new Pr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=EB.exec(e))?Mu(t[1],t[2],t[3],t[4]):(t=CB.exec(e))?Mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PB.exec(e))?Ek(t[1],t[2]/100,t[3]/100,1):(t=AB.exec(e))?Ek(t[1],t[2]/100,t[3]/100,t[4]):jk.hasOwnProperty(e)?_k(jk[e]):e==="transparent"?new Pr(NaN,NaN,NaN,0):null}function _k(e){return new Pr(e>>16&255,e>>8&255,e&255,1)}function Mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pr(e,t,r,n)}function MB(e){return e instanceof Wc||(e=_c(e)),e?(e=e.rgb(),new Pr(e.r,e.g,e.b,e.opacity)):new Pr}function ag(e,t,r,n){return arguments.length===1?MB(e):new Pr(e,t,r,n??1)}function Pr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}bx(Pr,ag,lT(Wc,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wc:Math.pow(wc,e),new Pr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pr(pi(this.r),pi(this.g),pi(this.b),tf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kk,formatHex:kk,formatHex8:DB,formatRgb:Sk,toString:Sk}));function kk(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function DB(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sk(){const e=tf(this.opacity);return`${e===1?"rgb(":"rgba("}${pi(this.r)}, ${pi(this.g)}, ${pi(this.b)}${e===1?")":`, ${e})`}`}function tf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function si(e){return e=pi(e),(e<16?"0":"")+e.toString(16)}function Ek(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new On(e,t,r,n)}function cT(e){if(e instanceof On)return new On(e.h,e.s,e.l,e.opacity);if(e instanceof Wc||(e=_c(e)),!e)return new On;if(e instanceof On)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new On(o,l,c,e.opacity)}function RB(e,t,r,n){return arguments.length===1?cT(e):new On(e,t,r,n??1)}function On(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}bx(On,RB,lT(Wc,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new On(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wc:Math.pow(wc,e),new On(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Pr(im(e>=240?e-240:e+120,s,n),im(e,s,n),im(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new On(Ck(this.h),Du(this.s),Du(this.l),tf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tf(this.opacity);return`${e===1?"hsl(":"hsla("}${Ck(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ck(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function im(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jx=e=>()=>e;function LB(e,t){return function(r){return e+r*t}}function IB(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function zB(e){return(e=+e)==1?uT:function(t,r){return r-t?IB(t,r,e):jx(isNaN(t)?r:t)}}function uT(e,t){var r=t-e;return r?LB(e,r):jx(isNaN(e)?t:e)}const Pk=function e(t){var r=zB(t);function n(s,i){var o=r((s=ag(s)).r,(i=ag(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=uT(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return n.gamma=e,n}(1);function $B(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function FB(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BB(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Fo(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function qB(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function rf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function UB(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Fo(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var sg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,om=new RegExp(sg.source,"g");function HB(e){return function(){return e}}function WB(e){return function(t){return e(t)+""}}function KB(e,t){var r=sg.lastIndex=om.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=sg.exec(e))&&(s=om.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:rf(n,s)})),r=om.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?WB(c[0].x):HB(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Fo(e,t){var r=typeof t,n;return t==null||r==="boolean"?jx(t):(r==="number"?rf:r==="string"?(n=_c(t))?(t=n,Pk):KB:t instanceof _c?Pk:t instanceof Date?qB:FB(t)?$B:Array.isArray(t)?BB:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UB:rf)(e,t)}function wx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function VB(e,t){t===void 0&&(t=e,e=Fo);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function GB(e){return function(){return e}}function nf(e){return+e}var Ak=[0,1];function xr(e){return e}function ig(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:GB(isNaN(t)?NaN:.5)}function YB(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function XB(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=ig(s,n),i=r(o,i)):(n=ig(n,s),i=r(i,o)),function(l){return i(n(l))}}function ZB(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=ig(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Hc(e,l,1,n)-1;return i[c](s[c](l))}}function Kc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mh(){var e=Ak,t=Ak,r=Fo,n,s,i,o=xr,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==xr&&(o=YB(e[0],e[h-1])),l=h>2?ZB:XB,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((d||(d=l(t,e.map(n),rf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,nf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=wx,u()},f.clamp=function(h){return arguments.length?(o=h?!0:xr,u()):o!==xr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,s=p,u()}}function Nx(){return Mh()(xr,xr)}function QB(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function af(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ko(e){return e=af(Math.abs(e)),e?e[1]:NaN}function JB(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function e7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var t7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kc(e){if(!(t=t7.exec(e)))throw new Error("invalid format: "+e);var t;return new _x({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kc.prototype=_x.prototype;function _x(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_x.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r7(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var dT;function n7(e,t){var r=af(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(dT=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+af(e,Math.max(0,t+i-1))[0]}function Ok(e,t){var r=af(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Tk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:QB,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ok(e*100,t),r:Ok,s:n7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mk(e){return e}var Dk=Array.prototype.map,Rk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function a7(e){var t=e.grouping===void 0||e.thousands===void 0?Mk:JB(Dk.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Mk:e7(Dk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=kc(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,g=f.zero,y=f.width,x=f.comma,w=f.precision,j=f.trim,N=f.type;N==="n"?(x=!0,N="g"):Tk[N]||(w===void 0&&(w=12),j=!0,N="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=v==="$"?n:/[%p]/.test(N)?o:"",k=Tk[N],P=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(C){var A=S,D=_,M,O,z;if(N==="c")D=k(C)+D,C="";else{C=+C;var $=C<0||1/C<0;if(C=isNaN(C)?c:k(Math.abs(C),w),j&&(C=r7(C)),$&&+C==0&&m!=="+"&&($=!1),A=($?m==="("?m:l:m==="-"||m==="("?"":m)+A,D=(N==="s"?Rk[8+dT/3]:"")+D+($&&m==="("?")":""),P){for(M=-1,O=C.length;++M<O;)if(z=C.charCodeAt(M),48>z||z>57){D=(z===46?s+C.slice(M+1):C.slice(M))+D,C=C.slice(0,M);break}}}x&&!g&&(C=t(C,1/0));var q=A.length+C.length+D.length,R=q<y?new Array(y-q+1).join(h):"";switch(x&&g&&(C=t(R+C,R.length?y-D.length:1/0),R=""),p){case"<":C=A+C+D+R;break;case"=":C=A+R+C+D;break;case"^":C=R.slice(0,q=R.length>>1)+A+C+D+R.slice(q);break;default:C=R+A+C+D;break}return i(C)}return E.toString=function(){return f+""},E}function u(f,h){var p=d((f=kc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ko(h)/3)))*3,v=Math.pow(10,-m),g=Rk[8+m/3];return function(y){return p(v*y)+g}}return{format:d,formatPrefix:u}}var Ru,kx,fT;s7({thousands:",",grouping:[3],currency:["$",""]});function s7(e){return Ru=a7(e),kx=Ru.format,fT=Ru.formatPrefix,Ru}function i7(e){return Math.max(0,-ko(Math.abs(e)))}function o7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ko(t)/3)))*3-ko(Math.abs(e)))}function l7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ko(t)-ko(e))+1}function hT(e,t,r,n){var s=rg(e,t,r),i;switch(n=kc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=o7(s,o))&&(n.precision=i),fT(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=l7(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=i7(s))&&(n.precision=i-(n.type==="%")*2);break}}return kx(n)}function Fs(e){var t=e.domain;return e.ticks=function(r){var n=t();return eg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return hT(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=tg(o,l,r),d===c)return n[s]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function pT(){var e=Nx();return e.copy=function(){return Kc(e,pT())},kn.apply(e,arguments),Fs(e)}function mT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,nf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mT(e).unknown(t)},e=arguments.length?Array.from(e,nf):[0,1],Fs(r)}function vT(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function Lk(e){return Math.log(e)}function Ik(e){return Math.exp(e)}function c7(e){return-Math.log(-e)}function u7(e){return-Math.exp(-e)}function d7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function f7(e){return e===10?d7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function h7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function zk(e){return(t,r)=>-e(-t,r)}function Sx(e){const t=e(Lk,Ik),r=t.domain;let n=10,s,i;function o(){return s=h7(n),i=f7(n),r()[0]<0?(s=zk(s),i=zk(i),e(c7,u7)):e(Lk,Ik),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=s(d),p=s(u),m,v;const g=l==null?10:+l;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/i(-h):m*i(h),!(v<d)){if(v>u)break;y.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/i(-h):m*i(h),!(v<d)){if(v>u)break;y.push(v)}y.length*2<g&&(y=eg(d,u,g))}else y=eg(h,p,Math.min(p-h,g)).map(i);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=kc(c)).precision==null&&(c.trim=!0),c=kx(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/i(Math.round(s(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(vT(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function gT(){const e=Sx(Mh()).domain([1,10]);return e.copy=()=>Kc(e,gT()).base(e.base()),kn.apply(e,arguments),e}function $k(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Fk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ex(e){var t=1,r=e($k(t),Fk(t));return r.constant=function(n){return arguments.length?e($k(t=+n),Fk(t)):t},Fs(r)}function yT(){var e=Ex(Mh());return e.copy=function(){return Kc(e,yT()).constant(e.constant())},kn.apply(e,arguments)}function Bk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function p7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function m7(e){return e<0?-e*e:e*e}function Cx(e){var t=e(xr,xr),r=1;function n(){return r===1?e(xr,xr):r===.5?e(p7,m7):e(Bk(r),Bk(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Fs(t)}function Px(){var e=Cx(Mh());return e.copy=function(){return Kc(e,Px()).exponent(e.exponent())},kn.apply(e,arguments),e}function v7(){return Px.apply(null,arguments).exponent(.5)}function qk(e){return Math.sign(e)*e*e}function g7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xT(){var e=Nx(),t=[0,1],r=!1,n;function s(i){var o=g7(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(qk(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,nf)).map(qk)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return xT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},kn.apply(s,arguments),Fs(s)}function bT(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=jB(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Hc(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Es),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return bT().domain(e).range(t).unknown(n)},kn.apply(i,arguments)}function jT(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[Hc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return jT().domain([e,t]).range(s).unknown(i)},kn.apply(Fs(o),arguments)}function wT(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[Hc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return wT().domain(e).range(t).unknown(r)},kn.apply(s,arguments)}const lm=new Date,cm=new Date;function zt(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},s.filter=i=>zt(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(lm.setTime(+i),cm.setTime(+o),e(lm),e(cm),Math.floor(r(lm,cm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const sf=zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):sf);sf.range;const Na=1e3,gn=Na*60,_a=gn*60,$a=_a*24,Ax=$a*7,Uk=$a*30,um=$a*365,ii=zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Na)},(e,t)=>(t-e)/Na,e=>e.getUTCSeconds());ii.range;const Ox=zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getMinutes());Ox.range;const Tx=zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCMinutes());Tx.range;const Mx=zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Na-e.getMinutes()*gn)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getHours());Mx.range;const Dx=zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_a)},(e,t)=>(t-e)/_a,e=>e.getUTCHours());Dx.range;const Vc=zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gn)/$a,e=>e.getDate()-1);Vc.range;const Dh=zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>e.getUTCDate()-1);Dh.range;const NT=zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$a,e=>Math.floor(e/$a));NT.range;function Oi(e){return zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gn)/Ax)}const Rh=Oi(0),of=Oi(1),y7=Oi(2),x7=Oi(3),So=Oi(4),b7=Oi(5),j7=Oi(6);Rh.range;of.range;y7.range;x7.range;So.range;b7.range;j7.range;function Ti(e){return zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Ax)}const Lh=Ti(0),lf=Ti(1),w7=Ti(2),N7=Ti(3),Eo=Ti(4),_7=Ti(5),k7=Ti(6);Lh.range;lf.range;w7.range;N7.range;Eo.range;_7.range;k7.range;const Rx=zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Rx.range;const Lx=zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lx.range;const Fa=zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fa.range;const Ba=zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ba.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ba.range;function _T(e,t,r,n,s,i){const o=[[ii,1,Na],[ii,5,5*Na],[ii,15,15*Na],[ii,30,30*Na],[i,1,gn],[i,5,5*gn],[i,15,15*gn],[i,30,30*gn],[s,1,_a],[s,3,3*_a],[s,6,6*_a],[s,12,12*_a],[n,1,$a],[n,2,2*$a],[r,1,Ax],[t,1,Uk],[t,3,3*Uk],[e,1,um]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),m=p?p.range(d,+u+1):[];return h?m.reverse():m}function c(d,u,f){const h=Math.abs(u-d)/f,p=gx(([,,g])=>g).right(o,h);if(p===o.length)return e.every(rg(d/um,u/um,f));if(p===0)return sf.every(Math.max(rg(d,u,f),1));const[m,v]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(v)}return[l,c]}const[S7,E7]=_T(Ba,Lx,Lh,NT,Dx,Tx),[C7,P7]=_T(Fa,Rx,Rh,Vc,Mx,Ox);function dm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function A7(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=El(s),u=Cl(s),f=El(i),h=Cl(i),p=El(o),m=Cl(o),v=El(l),g=Cl(l),y=El(c),x=Cl(c),w={a:$,A:q,b:R,B:L,c:null,d:Yk,e:Yk,f:J7,g:cq,G:dq,H:X7,I:Z7,j:Q7,L:kT,m:eq,M:tq,p:T,q:I,Q:Qk,s:Jk,S:rq,u:nq,U:aq,V:sq,w:iq,W:oq,x:null,X:null,y:lq,Y:uq,Z:fq,"%":Zk},j={a:U,A:K,b:H,B,c:null,d:Xk,e:Xk,f:vq,g:Sq,G:Cq,H:hq,I:pq,j:mq,L:ET,m:gq,M:yq,p:F,q:V,Q:Qk,s:Jk,S:xq,u:bq,U:jq,V:wq,w:Nq,W:_q,x:null,X:null,y:kq,Y:Eq,Z:Pq,"%":Zk},N={a:E,A:C,b:A,B:D,c:M,d:Vk,e:Vk,f:K7,g:Kk,G:Wk,H:Gk,I:Gk,j:q7,L:W7,m:B7,M:U7,p:P,q:F7,Q:G7,s:Y7,S:H7,u:R7,U:L7,V:I7,w:D7,W:z7,x:O,X:z,y:Kk,Y:Wk,Z:$7,"%":V7};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(W,Y){return function(ie){var ee=[],ue=-1,re=0,de=W.length,ve,me,Z;for(ie instanceof Date||(ie=new Date(+ie));++ue<de;)W.charCodeAt(ue)===37&&(ee.push(W.slice(re,ue)),(me=Hk[ve=W.charAt(++ue)])!=null?ve=W.charAt(++ue):me=ve==="e"?" ":"0",(Z=Y[ve])&&(ve=Z(ie,me)),ee.push(ve),re=ue+1);return ee.push(W.slice(re,ue)),ee.join("")}}function _(W,Y){return function(ie){var ee=Sl(1900,void 0,1),ue=k(ee,W,ie+="",0),re,de;if(ue!=ie.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Y&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(re=fm(Sl(ee.y,0,1)),de=re.getUTCDay(),re=de>4||de===0?lf.ceil(re):lf(re),re=Dh.offset(re,(ee.V-1)*7),ee.y=re.getUTCFullYear(),ee.m=re.getUTCMonth(),ee.d=re.getUTCDate()+(ee.w+6)%7):(re=dm(Sl(ee.y,0,1)),de=re.getDay(),re=de>4||de===0?of.ceil(re):of(re),re=Vc.offset(re,(ee.V-1)*7),ee.y=re.getFullYear(),ee.m=re.getMonth(),ee.d=re.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),de="Z"in ee?fm(Sl(ee.y,0,1)).getUTCDay():dm(Sl(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(de+5)%7:ee.w+ee.U*7-(de+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,fm(ee)):dm(ee)}}function k(W,Y,ie,ee){for(var ue=0,re=Y.length,de=ie.length,ve,me;ue<re;){if(ee>=de)return-1;if(ve=Y.charCodeAt(ue++),ve===37){if(ve=Y.charAt(ue++),me=N[ve in Hk?Y.charAt(ue++):ve],!me||(ee=me(W,ie,ee))<0)return-1}else if(ve!=ie.charCodeAt(ee++))return-1}return ee}function P(W,Y,ie){var ee=d.exec(Y.slice(ie));return ee?(W.p=u.get(ee[0].toLowerCase()),ie+ee[0].length):-1}function E(W,Y,ie){var ee=p.exec(Y.slice(ie));return ee?(W.w=m.get(ee[0].toLowerCase()),ie+ee[0].length):-1}function C(W,Y,ie){var ee=f.exec(Y.slice(ie));return ee?(W.w=h.get(ee[0].toLowerCase()),ie+ee[0].length):-1}function A(W,Y,ie){var ee=y.exec(Y.slice(ie));return ee?(W.m=x.get(ee[0].toLowerCase()),ie+ee[0].length):-1}function D(W,Y,ie){var ee=v.exec(Y.slice(ie));return ee?(W.m=g.get(ee[0].toLowerCase()),ie+ee[0].length):-1}function M(W,Y,ie){return k(W,t,Y,ie)}function O(W,Y,ie){return k(W,r,Y,ie)}function z(W,Y,ie){return k(W,n,Y,ie)}function $(W){return o[W.getDay()]}function q(W){return i[W.getDay()]}function R(W){return c[W.getMonth()]}function L(W){return l[W.getMonth()]}function T(W){return s[+(W.getHours()>=12)]}function I(W){return 1+~~(W.getMonth()/3)}function U(W){return o[W.getUTCDay()]}function K(W){return i[W.getUTCDay()]}function H(W){return c[W.getUTCMonth()]}function B(W){return l[W.getUTCMonth()]}function F(W){return s[+(W.getUTCHours()>=12)]}function V(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Y=S(W+="",w);return Y.toString=function(){return W},Y},parse:function(W){var Y=_(W+="",!1);return Y.toString=function(){return W},Y},utcFormat:function(W){var Y=S(W+="",j);return Y.toString=function(){return W},Y},utcParse:function(W){var Y=_(W+="",!0);return Y.toString=function(){return W},Y}}}var Hk={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,O7=/^%/,T7=/[\\^$*+?|[\]().{}]/g;function Be(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function M7(e){return e.replace(T7,"\\$&")}function El(e){return new RegExp("^(?:"+e.map(M7).join("|")+")","i")}function Cl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function D7(e,t,r){var n=Yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function R7(e,t,r){var n=Yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function L7(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function I7(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function z7(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Wk(e,t,r){var n=Yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Kk(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function F7(e,t,r){var n=Yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function B7(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Vk(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function q7(e,t,r){var n=Yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Gk(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function U7(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function H7(e,t,r){var n=Yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function W7(e,t,r){var n=Yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function K7(e,t,r){var n=Yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function V7(e,t,r){var n=O7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function G7(e,t,r){var n=Yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Y7(e,t,r){var n=Yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Yk(e,t){return Be(e.getDate(),t,2)}function X7(e,t){return Be(e.getHours(),t,2)}function Z7(e,t){return Be(e.getHours()%12||12,t,2)}function Q7(e,t){return Be(1+Vc.count(Fa(e),e),t,3)}function kT(e,t){return Be(e.getMilliseconds(),t,3)}function J7(e,t){return kT(e,t)+"000"}function eq(e,t){return Be(e.getMonth()+1,t,2)}function tq(e,t){return Be(e.getMinutes(),t,2)}function rq(e,t){return Be(e.getSeconds(),t,2)}function nq(e){var t=e.getDay();return t===0?7:t}function aq(e,t){return Be(Rh.count(Fa(e)-1,e),t,2)}function ST(e){var t=e.getDay();return t>=4||t===0?So(e):So.ceil(e)}function sq(e,t){return e=ST(e),Be(So.count(Fa(e),e)+(Fa(e).getDay()===4),t,2)}function iq(e){return e.getDay()}function oq(e,t){return Be(of.count(Fa(e)-1,e),t,2)}function lq(e,t){return Be(e.getFullYear()%100,t,2)}function cq(e,t){return e=ST(e),Be(e.getFullYear()%100,t,2)}function uq(e,t){return Be(e.getFullYear()%1e4,t,4)}function dq(e,t){var r=e.getDay();return e=r>=4||r===0?So(e):So.ceil(e),Be(e.getFullYear()%1e4,t,4)}function fq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Be(t/60|0,"0",2)+Be(t%60,"0",2)}function Xk(e,t){return Be(e.getUTCDate(),t,2)}function hq(e,t){return Be(e.getUTCHours(),t,2)}function pq(e,t){return Be(e.getUTCHours()%12||12,t,2)}function mq(e,t){return Be(1+Dh.count(Ba(e),e),t,3)}function ET(e,t){return Be(e.getUTCMilliseconds(),t,3)}function vq(e,t){return ET(e,t)+"000"}function gq(e,t){return Be(e.getUTCMonth()+1,t,2)}function yq(e,t){return Be(e.getUTCMinutes(),t,2)}function xq(e,t){return Be(e.getUTCSeconds(),t,2)}function bq(e){var t=e.getUTCDay();return t===0?7:t}function jq(e,t){return Be(Lh.count(Ba(e)-1,e),t,2)}function CT(e){var t=e.getUTCDay();return t>=4||t===0?Eo(e):Eo.ceil(e)}function wq(e,t){return e=CT(e),Be(Eo.count(Ba(e),e)+(Ba(e).getUTCDay()===4),t,2)}function Nq(e){return e.getUTCDay()}function _q(e,t){return Be(lf.count(Ba(e)-1,e),t,2)}function kq(e,t){return Be(e.getUTCFullYear()%100,t,2)}function Sq(e,t){return e=CT(e),Be(e.getUTCFullYear()%100,t,2)}function Eq(e,t){return Be(e.getUTCFullYear()%1e4,t,4)}function Cq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Eo(e):Eo.ceil(e),Be(e.getUTCFullYear()%1e4,t,4)}function Pq(){return"+0000"}function Zk(){return"%"}function Qk(e){return+e}function Jk(e){return Math.floor(+e/1e3)}var Li,PT,AT;Aq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aq(e){return Li=A7(e),PT=Li.format,Li.parse,AT=Li.utcFormat,Li.utcParse,Li}function Oq(e){return new Date(e)}function Tq(e){return e instanceof Date?+e:+new Date(+e)}function Ix(e,t,r,n,s,i,o,l,c,d){var u=Nx(),f=u.invert,h=u.domain,p=d(".%L"),m=d(":%S"),v=d("%I:%M"),g=d("%I %p"),y=d("%a %d"),x=d("%b %d"),w=d("%B"),j=d("%Y");function N(S){return(c(S)<S?p:l(S)<S?m:o(S)<S?v:i(S)<S?g:n(S)<S?s(S)<S?y:x:r(S)<S?w:j)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?h(Array.from(S,Tq)):h().map(Oq)},u.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?N:d(_)},u.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(vT(_,S)):u},u.copy=function(){return Kc(u,Ix(e,t,r,n,s,i,o,l,c,d))},u}function Mq(){return kn.apply(Ix(C7,P7,Fa,Rx,Rh,Vc,Mx,Ox,ii,PT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dq(){return kn.apply(Ix(S7,E7,Ba,Lx,Lh,Dh,Dx,Tx,ii,AT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ih(){var e=0,t=1,r,n,s,i,o=xr,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),d):[o(0),o(1)]}}return d.range=u(Fo),d.rangeRound=u(wx),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),d}}function Bs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OT(){var e=Fs(Ih()(xr));return e.copy=function(){return Bs(e,OT())},Za.apply(e,arguments)}function TT(){var e=Sx(Ih()).domain([1,10]);return e.copy=function(){return Bs(e,TT()).base(e.base())},Za.apply(e,arguments)}function MT(){var e=Ex(Ih());return e.copy=function(){return Bs(e,MT()).constant(e.constant())},Za.apply(e,arguments)}function zx(){var e=Cx(Ih());return e.copy=function(){return Bs(e,zx()).exponent(e.exponent())},Za.apply(e,arguments)}function Rq(){return zx.apply(null,arguments).exponent(.5)}function DT(){var e=[],t=xr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Hc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Es),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>bB(e,i/n))},r.copy=function(){return DT(t).domain(e)},Za.apply(r,arguments)}function zh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,d=xr,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-i)*(n*v<n*i?l:c),d(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,s=u(e=+e),i=u(t=+t),o=u(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(d=v,p):d};function m(v){return function(g){var y,x,w;return arguments.length?([y,x,w]=g,d=VB(v,[y,x,w]),p):[d(0),d(.5),d(1)]}}return p.range=m(Fo),p.rangeRound=m(wx),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,s=v(e),i=v(t),o=v(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function RT(){var e=Fs(zh()(xr));return e.copy=function(){return Bs(e,RT())},Za.apply(e,arguments)}function LT(){var e=Sx(zh()).domain([.1,1,10]);return e.copy=function(){return Bs(e,LT()).base(e.base())},Za.apply(e,arguments)}function IT(){var e=Ex(zh());return e.copy=function(){return Bs(e,IT()).constant(e.constant())},Za.apply(e,arguments)}function $x(){var e=Cx(zh());return e.copy=function(){return Bs(e,$x()).exponent(e.exponent())},Za.apply(e,arguments)}function Lq(){return $x.apply(null,arguments).exponent(.5)}const Il=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xx,scaleDiverging:RT,scaleDivergingLog:LT,scaleDivergingPow:$x,scaleDivergingSqrt:Lq,scaleDivergingSymlog:IT,scaleIdentity:mT,scaleImplicit:ng,scaleLinear:pT,scaleLog:gT,scaleOrdinal:yx,scalePoint:NB,scalePow:Px,scaleQuantile:bT,scaleQuantize:jT,scaleRadial:xT,scaleSequential:OT,scaleSequentialLog:TT,scaleSequentialPow:zx,scaleSequentialQuantile:DT,scaleSequentialSqrt:Rq,scaleSequentialSymlog:MT,scaleSqrt:v7,scaleSymlog:yT,scaleThreshold:wT,scaleTime:Mq,scaleUtc:Dq,tickFormat:hT},Symbol.toStringTag,{value:"Module"}));var qs=e=>e.chartData,Fx=te([qs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Gc=(e,t,r,n)=>n?Fx(e):qs(e);function Co(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ar(t)&&ar(r))return!0}return!1}function eS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Iq(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(ar(r))s=r;else if(typeof r=="function")return;if(ar(n))i=n;else if(typeof n=="function")return;var o=[s,i];if(Co(o))return o}}function zq(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Co(n))return eS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,o,l;if(s==="auto")t!=null&&(o=Math.min(...t));else if(be(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&G_.test(s)){var c=G_.exec(s);if(c==null||t==null)o=void 0;else{var d=+c[1];o=t[0]-d}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Y_.test(i)){var u=Y_.exec(i);if(u==null||t==null)l=void 0;else{var f=+u[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(Co(h))return t==null?h:eS(h,t,r)}}}var Bo=1e9,$q={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qx,ct=!0,wn="[DecimalError] ",mi=wn+"Invalid argument: ",Bx=wn+"Exponent out of range: ",qo=Math.floor,Zs=Math.pow,Fq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,Ht=1e7,rt=7,zT=9007199254740991,cf=qo(zT/rt),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(e){return Pa(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,r=t.constructor;return Xe(Pa(t,new r(e),0,1),r.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return Ot(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Hr))throw Error(wn+"NaN");if(r.s<1)throw Error(wn+(r.s?"NaN":"-Infinity"));return r.eq(Hr)?new n(0):(ct=!1,t=Pa(Sc(r,i),Sc(e,i),i),ct=!0,Xe(t,s))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BT(t,e):$T(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(wn+"NaN");return r.s?(ct=!1,t=Pa(r,e,0,1).times(e),ct=!0,r.minus(t)):Xe(new n(r),s)};ye.naturalExponential=ye.exp=function(){return FT(this)};ye.naturalLogarithm=ye.ln=function(){return Sc(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$T(t,e):BT(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mi+e);if(t=Ot(s)+1,n=s.d.length-1,r=n*rt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ye.squareRoot=ye.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wn+"NaN")}for(e=Ot(l),ct=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Qn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=qo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Pa(l,i,o+2)).times(.5),Qn(i.d).slice(0,o)===(t=Qn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Xe(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ct=!0,Xe(n,r)};ye.times=ye.mul=function(e){var t,r,n,s,i,o,l,c,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=p.length,c<d&&(i=h,h=p,p=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%Ht|0,t=l/Ht|0;i[s]=(i[s]+t)%Ht|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ct?Xe(e,f.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ia(e,0,Bo),t===void 0?t=n.rounding:ia(t,0,8),Xe(r,e+Ot(r)+1,t))};ye.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Si(n,!0):(ia(e,0,Bo),t===void 0?t=s.rounding:ia(t,0,8),n=Xe(new s(n),e+1,t),r=Si(n,!0,e+1)),r};ye.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Si(s):(ia(e,0,Bo),t===void 0?t=i.rounding:ia(t,0,8),n=Xe(new i(s),e+Ot(s)+1,t),r=Si(n.abs(),!1,e+Ot(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return Xe(new t(e),Ot(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Hr);if(l=new c(l),!l.s){if(e.s<1)throw Error(wn+"Infinity");return l}if(l.eq(Hr))return l;if(n=c.precision,e.eq(Hr))return Xe(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=zT){for(s=new c(Hr),t=Math.ceil(n/rt+4),ct=!1;r%2&&(s=s.times(l),rS(s.d,t)),r=qo(r/2),r!==0;)l=l.times(l),rS(l.d,t);return ct=!0,e.s<0?new c(Hr).div(s):Xe(s,n)}}else if(i<0)throw Error(wn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ct=!1,s=e.times(Sc(l,n+d)),ct=!0,s=FT(s),s.s=i,s};ye.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ot(s),n=Si(s,r<=i.toExpNeg||r>=i.toExpPos)):(ia(e,1,Bo),t===void 0?t=i.rounding:ia(t,0,8),s=Xe(new i(s),e,t),r=Ot(s),n=Si(s,e<=r||r<=i.toExpNeg,e)),n};ye.toSignificantDigits=ye.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ia(e,1,Bo),t===void 0?t=n.rounding:ia(t,0,8)),Xe(new n(r),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ot(e),r=e.constructor;return Si(e,t<=r.toExpNeg||t>=r.toExpPos)};function $T(e,t){var r,n,s,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ct?Xe(t,f):t;if(c=e.d,d=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(f/rt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ht|0,c[i]%=Ht;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ct?Xe(t,f):t}function ia(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mi+e)}function Qn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=rt-n.length,r&&(i+=cs(r)),i+=n;o=e[t],n=o+"",r=rt-n.length,r&&(i+=cs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pa=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ht|0,o=i/Ht|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ht+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,u,f,h,p,m,v,g,y,x,w,j,N,S,_,k,P=n.constructor,E=n.s==s.s?1:-1,C=n.d,A=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(wn+"Division by zero");for(c=n.e-s.e,_=A.length,N=C.length,p=new P(E),m=p.d=[],d=0;A[d]==(C[d]||0);)++d;if(A[d]>(C[d]||0)&&--c,i==null?x=i=P.precision:o?x=i+(Ot(n)-Ot(s))+1:x=i,x<0)return new P(0);if(x=x/rt+2|0,d=0,_==1)for(u=0,A=A[0],x++;(d<N||u)&&x--;d++)w=u*Ht+(C[d]||0),m[d]=w/A|0,u=w%A|0;else{for(u=Ht/(A[0]+1)|0,u>1&&(A=e(A,u),C=e(C,u),_=A.length,N=C.length),j=_,v=C.slice(0,_),g=v.length;g<_;)v[g++]=0;k=A.slice(),k.unshift(0),S=A[0],A[1]>=Ht/2&&++S;do u=0,l=t(A,v,_,g),l<0?(y=v[0],_!=g&&(y=y*Ht+(v[1]||0)),u=y/S|0,u>1?(u>=Ht&&(u=Ht-1),f=e(A,u),h=f.length,g=v.length,l=t(f,v,h,g),l==1&&(u--,r(f,_<h?k:A,h))):(u==0&&(l=u=1),f=A.slice()),h=f.length,h<g&&f.unshift(0),r(v,f,g),l==-1&&(g=v.length,l=t(A,v,_,g),l<1&&(u++,r(v,_<g?k:A,g))),g=v.length):l===0&&(u++,v=[0]),m[d++]=u,l&&v[0]?v[g++]=C[j]||0:(v=[C[j]],g=1);while((j++<N||v[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=c,Xe(p,o?i+Ot(p)+1:i)}}();function FT(e,t){var r,n,s,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(Ot(e)>16)throw Error(Bx+Ot(e));if(!e.s)return new u(Hr);for(ct=!1,l=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Zs(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new u(Hr),u.precision=l;;){if(s=Xe(s.times(e),l),r=r.times(++c),o=i.plus(Pa(s,r,l)),Qn(o.d).slice(0,l)===Qn(i.d).slice(0,l)){for(;d--;)i=Xe(i.times(i),l);return u.precision=f,t==null?(ct=!0,Xe(i,f)):i}i=o}}function Ot(e){for(var t=e.e*rt,r=e.d[0];r>=10;r/=10)t++;return t}function hm(e,t,r){if(t>e.LN10.sd())throw ct=!0,r&&(e.precision=r),Error(wn+"LN10 precision limit exceeded");return Xe(new e(e.LN10),t)}function cs(e){for(var t="";e--;)t+="0";return t}function Sc(e,t){var r,n,s,i,o,l,c,d,u,f=1,h=10,p=e,m=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(wn+(p.s?"NaN":"-Infinity"));if(p.eq(Hr))return new v(0);if(t==null?(ct=!1,d=g):d=t,p.eq(10))return t==null&&(ct=!0),hm(v,d);if(d+=h,v.precision=d,r=Qn(m),n=r.charAt(0),i=Ot(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Qn(p.d),n=r.charAt(0),f++;i=Ot(p),n>1?(p=new v("0."+r),i++):p=new v(n+"."+r.slice(1))}else return c=hm(v,d+2,g).times(i+""),p=Sc(new v(n+"."+r.slice(1)),d-h).plus(c),v.precision=g,t==null?(ct=!0,Xe(p,g)):p;for(l=o=p=Pa(p.minus(Hr),p.plus(Hr),d),u=Xe(p.times(p),d),s=3;;){if(o=Xe(o.times(u),d),c=l.plus(Pa(o,new v(s),d)),Qn(c.d).slice(0,d)===Qn(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(hm(v,d+2,g).times(i+""))),l=Pa(l,new v(f),d),v.precision=g,t==null?(ct=!0,Xe(l,g)):l;l=c,s+=2}}function tS(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=qo(r/rt),e.d=[],n=(r+1)%rt,r<0&&(n+=rt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=rt;n<s;)e.d.push(+t.slice(n,n+=rt));t=t.slice(n),n=rt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ct&&(e.e>cf||e.e<-cf))throw Error(Bx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xe(e,t,r){var n,s,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=rt,s=t,d=f[u=0];else{if(u=Math.ceil((n+1)/rt),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;n%=rt,s=n-rt+o}if(r!==void 0&&(i=Zs(10,o-s-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/Zs(10,o-s):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ot(e),f.length=1,t=t-i-1,f[0]=Zs(10,(rt-t%rt)%rt),e.e=qo(-t/rt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Zs(10,rt-n),f[u]=s>0?(d/Zs(10,o-s)%Zs(10,s)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Ht&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ht)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ct&&(e.e>cf||e.e<-cf))throw Error(Bx+Ot(e));return e}function BT(e,t){var r,n,s,i,o,l,c,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ct?Xe(t,p):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),s=Math.max(Math.ceil(p/rt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){u=c[s]<f[s];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Ht-1;--c[i],c[s]+=Ht}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ct?Xe(t,p):t):new h(0)}function Si(e,t,r){var n,s=Ot(e),i=Qn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+cs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+cs(-s-1)+i,r&&(n=r-o)>0&&(i+=cs(n))):s>=o?(i+=cs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+cs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=cs(n))),e.s<0?"-"+i:i}function rS(e,t){if(e.length>t)return e.length=t,!0}function qT(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return tS(o,i.toString())}else if(typeof i!="string")throw Error(mi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Fq.test(i))tS(o,i);else throw Error(mi+i)}if(s.prototype=ye,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=qT,s.config=s.set=Bq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Bq(e){if(!e||typeof e!="object")throw Error(wn+"Object expected");var t,r,n,s=["precision",1,Bo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(qo(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(mi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mi+r+": "+n);return this}var qx=qT($q);Hr=new qx(1);const Ue=qx;var qq=e=>e,UT={},HT=e=>e===UT,nS=e=>function t(){return arguments.length===0||arguments.length===1&&HT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},WT=(e,t)=>e===1?t:nS(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(o=>o!==UT).length;return i>=e?t(...n):WT(e-i,nS(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=n.map(u=>HT(u)?l.shift():u);return t(...d,...l)}))}),$h=e=>WT(e.length,e),og=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Uq=$h((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Hq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return qq;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce((l,c)=>c(l),i(...arguments))}},lg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),KT=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((o,l)=>{var c;return o===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function VT(e){var t;return e===0?t=1:t=Math.floor(new Ue(e).abs().log(10).toNumber())+1,t}function GT(e,t,r){for(var n=new Ue(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}$h((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});$h((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});$h((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var YT=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},XT=(e,t,r)=>{if(e.lte(0))return new Ue(0);var n=VT(e.toNumber()),s=new Ue(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ue(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?new Ue(c.toNumber()):new Ue(Math.ceil(c.toNumber()))},Wq=(e,t,r)=>{var n=new Ue(1),s=new Ue(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ue(10).pow(VT(e)-1),s=new Ue(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ue(Math.floor(e)))}else e===0?s=new Ue(Math.floor((t-1)/2)):r||(s=new Ue(Math.floor(e)));var o=Math.floor((t-1)/2),l=Hq(Uq(c=>s.add(new Ue(c-o).mul(n)).toNumber()),og);return l(0,t)},ZT=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var o=XT(new Ue(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new Ue(0):(l=new Ue(t).add(r).div(2),l=l.sub(new Ue(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),d=Math.ceil(new Ue(r).sub(l).div(o).toNumber()),u=c+d+1;return u>n?ZT(t,r,n,s,i+1):(u<n&&(d=r>0?d+(n-u):d,c=r>0?c:c+(n-u)),{step:o,tickMin:l.sub(new Ue(c).mul(o)),tickMax:l.add(new Ue(d).mul(o))})};function Kq(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[o,l]=YT([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...og(0,n-1).map(()=>1/0)]:[...og(0,n-1).map(()=>-1/0),l];return t>r?lg(c):c}if(o===l)return Wq(o,n,s);var{step:d,tickMin:u,tickMax:f}=ZT(o,l,i,s,0),h=GT(u,f.add(new Ue(.1).mul(d)),d);return t>r?lg(h):h}function Vq(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=YT([r,n]);if(i===-1/0||o===1/0)return[r,n];if(i===o)return[i];var l=Math.max(t,2),c=XT(new Ue(o).sub(i).div(l-1),s,0),d=[...GT(new Ue(i),new Ue(o),c),o];return s===!1&&(d=d.map(u=>Math.round(u))),r>n?lg(d):d}var Gq=KT(Kq),Yq=KT(Vq),QT=e=>e.rootProps.maxBarSize,Xq=e=>e.rootProps.barGap,JT=e=>e.rootProps.barCategoryGap,Zq=e=>e.rootProps.barSize,Yc=e=>e.rootProps.stackOffset,Ux=e=>e.options.chartName,Hx=e=>e.rootProps.syncId,eM=e=>e.rootProps.syncMethod,Wx=e=>e.options.eventEmitter,va={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Fh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Qq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:va.type,unit:void 0},Jq={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:qr.type,unit:void 0},eU={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},tU={allowDataOverflow:qr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qr.scale,tick:qr.tick,tickCount:qr.tickCount,ticks:void 0,type:"category",unit:void 0},Kx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?eU:Qq,Vx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?tU:Jq,Bh=e=>e.polarOptions,Gx=te([Ga,Ya,Lt],MO),tM=te([Bh,Gx],(e,t)=>{if(e!=null)return hr(e.innerRadius,t,0)}),rM=te([Bh,Gx],(e,t)=>{if(e!=null)return hr(e.outerRadius,t,t*.8)}),rU=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},nM=te([Bh],rU);te([Kx,nM],Fh);var aM=te([Gx,tM,rM],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});te([Vx,aM],Fh);var sM=te([Re,Bh,tM,rM,Ga,Ya],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:c,endAngle:d}=t;return{cx:hr(o,s,s/2),cy:hr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),dt=(e,t)=>t,Xc=(e,t,r)=>r;function qh(e){return e==null?void 0:e.id}var $t=e=>{var t=Re(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Uo=e=>e.tooltip.settings.axisId,Xt=e=>{var t=$t(e),r=Uo(e);return Zc(e,t,r)},iM=te([Xt],e=>e==null?void 0:e.dataKey);function oM(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,o=new Map;return e.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var u=qh(l);d.forEach((f,h)=>{var p=i==null||s?h:String(Ye(f,i,null)),m=Ye(f,l.dataKey,0),v;o.has(p)?v=o.get(p):v={},Object.assign(v,{[u]:m}),o.set(p,v)})}}),Array.from(o.values())}function Uh(e){return e.stackId!=null&&e.dataKey!=null}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nU(e,t,r){return(t=aU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=sU(e,"string");return typeof t=="symbol"?t:t+""}function sU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cg=[0,"auto"],zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lM=(e,t)=>e.cartesianAxis.xAxis[t],Qa=(e,t)=>{var r=lM(e,t);return r??zr},$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:qc},cM=(e,t)=>e.cartesianAxis.yAxis[t],Ja=(e,t)=>{var r=cM(e,t);return r??$r},iU={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Yx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??iU},St=(e,t,r)=>{switch(t){case"xAxis":return Qa(e,r);case"yAxis":return Ja(e,r);case"zAxis":return Yx(e,r);case"angleAxis":return Kx(e,r);case"radiusAxis":return Vx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oU=(e,t,r)=>{switch(t){case"xAxis":return Qa(e,r);case"yAxis":return Ja(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Zc=(e,t,r)=>{switch(t){case"xAxis":return Qa(e,r);case"yAxis":return Ja(e,r);case"angleAxis":return Kx(e,r);case"radiusAxis":return Vx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uM=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Xx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Qc=e=>e.graphicalItems.cartesianItems,lU=te([dt,Xc],Xx),Zx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Jc=te([Qc,St,lU],Zx),dM=te([Jc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uh)),fM=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),hM=te([Jc],fM),Qx=e=>e.map(t=>t.data).filter(Boolean).flat(1),cU=te([Jc],Qx),Jx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},e0=te([cU,Gc],Jx),t0=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Ye(s,n)}))):e.map(n=>({value:n})),Hh=te([e0,St,Jc],t0);function pM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Mi(e){return e.filter(t=>sa(t)||t instanceof Date).map(Number).filter(t=>Lr(t)===!1)}function uU(e,t,r){return!r||typeof t!="number"||Lr(t)?[]:r.length?Mi(r.flatMap(n=>{var s=Ye(e,n.dataKey),i,o;if(Array.isArray(s)?[i,o]=s:i=o=s,!(!ar(i)||!ar(o)))return[t-i,t+o]})):[]}var dU=te([dM,Gc,Xt],oM),mM=(e,t,r)=>{var n={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=l.map(qh);return[o,{stackedData:bF(e,c,r),graphicalItems:l}]}))},Ec=te([dU,dM,Yc],mM),vM=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=_F(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},fU=te([Ec,qs,dt],vM),gM=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(o=>{var l,c,d=(l=n[o.id])===null||l===void 0?void 0:l.filter(f=>pM(s,f)),u=Ye(i,(c=t.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:u,errorDomain:uU(i,u,d)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ye(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Wh=e=>e.errorBars,yM=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>pM(r,n));te([hM,Wh,dt],yM);var hU=te([e0,St,hM,Wh,dt],gM);function pU(e){var{value:t}=e;if(sa(t)||t instanceof Date)return t}var sS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Mi(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},mU=(e,t,r)=>{var n=e.map(pU).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&fA(n))?nT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},r0=e=>{var t;if(e==null||!("domain"in e))return cg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Mi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:cg},df=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},xM=e=>e.referenceElements.dots,Ho=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),vU=te([xM,dt,Xc],Ho),bM=e=>e.referenceElements.areas,gU=te([bM,dt,Xc],Ho),jM=e=>e.referenceElements.lines,yU=te([jM,dt,Xc],Ho),wM=(e,t)=>{var r=Mi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xU=te(vU,dt,wM),NM=(e,t)=>{var r=Mi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bU=te([gU,dt],NM),_M=(e,t)=>{var r=Mi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},jU=te(yU,dt,_M),wU=te(xU,jU,bU,(e,t,r)=>df(e,r,t)),kM=te([St],r0),n0=(e,t,r,n,s,i,o)=>{var l=Iq(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",d=c?df(r,s,sS(n)):df(s,sS(n));return zq(t,d,e.allowDataOverflow)},NU=te([St,kM,fU,hU,wU,Re,dt],n0),_U=[0,1],a0=(e,t,r,n,s,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:c}=e,d=ca(t,i);return d&&l==null?nT(0,r.length):c==="category"?mU(n,e,d):s==="expand"?_U:o}},s0=te([St,Re,e0,Hh,Yc,dt,NU],a0),SM=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(zc(i));return l in Il?l:"point"}}},Wo=te([St,Re,uM,Ux,dt],SM);function kU(e){if(e!=null){if(e in Il)return Il[e]();var t="scale".concat(zc(e));if(t in Il)return Il[t]()}}function i0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=kU(t);if(s!=null){var i=s.domain(r).range(n);return mF(i),i}}}var o0=(e,t,r)=>{var n=r0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Co(e))return Gq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Co(e))return Yq(e,t.tickCount,t.allowDecimals)}},l0=te([s0,Zc,Wo],o0),c0=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Co(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(o,l)]}return t},SU=te([St,s0,l0,dt],c0),EU=te(Hh,St,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mi(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var o=n[i+1]-n[i];r=Math.min(r,o)}return r/s}}),EM=te(EU,Re,JT,Lt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!ar(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var o=hr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),CU=(e,t)=>{var r=Qa(e,t);return r==null||typeof r.padding!="string"?0:EM(e,"xAxis",t,r.padding)},PU=(e,t)=>{var r=Ja(e,t);return r==null||typeof r.padding!="string"?0:EM(e,"yAxis",t,r.padding)},AU=te(Qa,CU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),OU=te(Ja,PU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),TU=te([Lt,AU,Th,Oh,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),MU=te([Lt,Re,OU,Th,Oh,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:o}=s;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),eu=(e,t,r,n)=>{var s;switch(t){case"xAxis":return TU(e,r,n);case"yAxis":return MU(e,r,n);case"zAxis":return(s=Yx(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return nM(e);case"radiusAxis":return aM(e,r);default:return}},CM=te([St,eu],Fh),Ko=te([St,Wo,SU,CM],i0);te([Jc,Wh,dt],yM);function PM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Kh=(e,t)=>t,Vh=(e,t,r)=>r,DU=te(Ph,Kh,Vh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(PM)),RU=te(Ah,Kh,Vh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(PM)),AM=(e,t)=>({width:e.width,height:t.height}),LU=(e,t)=>{var r=typeof t.width=="number"?t.width:qc;return{width:r,height:e.height}},OM=te(Lt,Qa,AM),IU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},zU=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},$U=te(Ya,Lt,DU,Kh,Vh,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=AM(t,l);o==null&&(o=IU(t,n,e));var d=n==="top"&&!s||n==="bottom"&&s;i[l.id]=o-Number(d)*c.height,o+=(d?-1:1)*c.height}),i}),FU=te(Ga,Lt,RU,Kh,Vh,(e,t,r,n,s)=>{var i={},o;return r.forEach(l=>{var c=LU(t,l);o==null&&(o=zU(t,n,e));var d=n==="left"&&!s||n==="right"&&s;i[l.id]=o-Number(d)*c.width,o+=(d?-1:1)*c.width}),i}),BU=(e,t)=>{var r=Qa(e,t);if(r!=null)return $U(e,r.orientation,r.mirror)},qU=te([Lt,Qa,BU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),UU=(e,t)=>{var r=Ja(e,t);if(r!=null)return FU(e,r.orientation,r.mirror)},HU=te([Lt,Ja,UU,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r==null?void 0:r[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),TM=te(Lt,Ja,(e,t)=>{var r=typeof t.width=="number"?t.width:qc;return{width:r,height:e.height}}),iS=(e,t,r)=>{switch(t){case"xAxis":return OM(e,r).width;case"yAxis":return TM(e,r).height;default:return}},MM=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:o}=r,l=ca(e,n),c=t.map(d=>d.value);if(o&&l&&i==="category"&&s&&fA(c))return c}},u0=te([Re,Hh,St,dt],MM),DM=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,o=ca(e,n);if(o&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},d0=te([Re,Hh,Zc,dt],DM),oS=te([Re,oU,Wo,Ko,u0,d0,eu,l0,dt],(e,t,r,n,s,i,o,l,c)=>{if(t==null)return null;var d=ca(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:d,niceTicks:l,range:o,realScaleType:r,scale:n}}),WU=(e,t,r,n,s,i,o,l,c)=>{if(!(t==null||n==null)){var d=ca(e,c),{type:u,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=c==="angleAxis"&&i!=null&&i.length>=2?Kt(i[0]-i[1])*2*m:m;var v=f||s;if(v){var g=v.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:n(w)+m,value:y,offset:m}});return g.filter(y=>!Lr(y.coordinate))}return d&&l?l.map((y,x)=>({coordinate:n(y)+m,value:y,index:x,offset:m})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,x)=>({coordinate:n(y)+m,value:o?o[y]:y,index:x,offset:m}))}},RM=te([Re,Zc,Wo,Ko,l0,eu,u0,d0,dt],WU),KU=(e,t,r,n,s,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=ca(e,o),{tickCount:c}=t,d=0;return d=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Kt(n[0]-n[1])*2*d:d,l&&i?i.map((u,f)=>({coordinate:r(u)+d,value:u,index:f,offset:d})):r.ticks?r.ticks(c).map(u=>({coordinate:r(u)+d,value:u,offset:d})):r.domain().map((u,f)=>({coordinate:r(u)+d,value:s?s[u]:u,index:f,offset:d}))}},oa=te([Re,Zc,Ko,eu,u0,d0,dt],KU),la=te(St,Ko,(e,t)=>{if(!(e==null||t==null))return uf(uf({},e),{},{scale:t})}),VU=te([St,Wo,s0,CM],i0);te((e,t,r)=>Yx(e,r),VU,(e,t)=>{if(!(e==null||t==null))return uf(uf({},e),{},{scale:t})});var GU=te([Re,Ph,Ah],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LM=e=>e.options.defaultTooltipEventType,IM=e=>e.options.validateTooltipEventTypes;function zM(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function f0(e,t){var r=LM(e),n=IM(e);return zM(t,r,n)}function YU(e){return xe(t=>f0(t,e))}var $M=(e,t)=>{var r,n=Number(t);if(!(Lr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},XU=e=>e.tooltip.settings,hs={active:!1,index:null,dataKey:void 0,coordinate:void 0},ZU={itemInteraction:{click:hs,hover:hs},axisInteraction:{click:hs,hover:hs},keyboardInteraction:hs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},FM=rn({name:"tooltip",initialState:ZU,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Ca(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:QU,removeTooltipEntrySettings:JU,setTooltipSettingsState:eH,setActiveMouseOverItemIndex:BM,mouseLeaveItem:tH,mouseLeaveChart:qM,setActiveClickItemIndex:rH,setMouseOverAxisIndex:UM,setMouseClickAxisIndex:nH,setSyncInteraction:ug,setKeyboardInteraction:dg}=FM.actions,aH=FM.reducer;function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){sH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sH(e,t,r){return(t=iH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cH(e){return e.index!=null}var HM=(e,t,r,n)=>{if(t==null)return hs;var s=lH(e,t,r);if(s==null)return hs;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(cH(s)){if(i)return Lu(Lu({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Lu(Lu({},hs),{},{coordinate:s.coordinate})},h0=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!ar(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},WM=(e,t,r,n,s,i,o,l)=>{if(!(i==null||l==null)){var c=o[0],d=c==null?void 0:l(c.positions,i);if(d!=null)return d;var u=s==null?void 0:s[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},KM=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var o;return((o=i.settings)===null||o===void 0?void 0:o.dataKey)===s})},tu=e=>e.options.tooltipPayloadSearcher,Vo=e=>e.tooltip;function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e,t){return e??t}var VM=(e,t,r,n,s,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:u}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:v,settings:g}=p,y=hH(v,l),x=Array.isArray(y)?DO(y,d,u):y,w=(m=g==null?void 0:g.dataKey)!==null&&m!==void 0?m:n,j=g==null?void 0:g.nameKey,N;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?N=hA(x,n,s):N=i(x,t,c,j),Array.isArray(N))N.forEach(_=>{var k=uS(uS({},g),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(X_({tooltipEntrySettings:k,dataKey:_.dataKey,payload:_.payload,value:Ye(_.payload,_.dataKey),name:_.name}))});else{var S;h.push(X_({tooltipEntrySettings:g,dataKey:w,payload:N,value:Ye(N,w),name:(S=Ye(N,j))!==null&&S!==void 0?S:g==null?void 0:g.name}))}return h},f)}},p0=te([Xt,Re,uM,Ux,$t],SM),pH=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),mH=te([$t,Uo],Xx),ru=te([pH,Xt,mH],Zx),vH=te([ru],e=>e.filter(Uh)),gH=te([ru],Qx),Go=te([gH,qs],Jx),yH=te([vH,qs,Xt],oM),m0=te([Go,Xt,ru],t0),xH=te([Xt],r0),bH=te([ru],e=>e.filter(Uh)),jH=te([yH,bH,Yc],mM),wH=te([jH,qs,$t],vM),NH=te([ru],fM),_H=te([Go,Xt,NH,Wh,$t],gM),kH=te([xM,$t,Uo],Ho),SH=te([kH,$t],wM),EH=te([bM,$t,Uo],Ho),CH=te([EH,$t],NM),PH=te([jM,$t,Uo],Ho),AH=te([PH,$t],_M),OH=te([SH,AH,CH],df),TH=te([Xt,xH,wH,_H,OH,Re,$t],n0),GM=te([Xt,Re,Go,m0,Yc,$t,TH],a0),MH=te([GM,Xt,p0],o0),DH=te([Xt,GM,MH,$t],c0),YM=e=>{var t=$t(e),r=Uo(e),n=!1;return eu(e,t,r,n)},XM=te([Xt,YM],Fh),ZM=te([Xt,p0,DH,XM],i0),RH=te([Re,m0,Xt,$t],MM),LH=te([Re,m0,Xt,$t],DM),IH=(e,t,r,n,s,i,o,l)=>{if(t){var{type:c}=t,d=ca(e,l);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Kt(s[0]-s[1])*2*f:f,d&&o?o.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},es=te([Re,Xt,p0,ZM,YM,RH,LH,$t],IH),v0=te([LM,IM,XU],(e,t,r)=>zM(r.shared,e,t)),QM=e=>e.tooltip.settings.trigger,g0=e=>e.tooltip.settings.defaultIndex,Gh=te([Vo,v0,QM,g0],HM),As=te([Gh,Go],h0),JM=te([es,As],$M),e4=te([Gh],e=>{if(e)return e.dataKey}),t4=te([Vo,v0,QM,g0],KM),zH=te([Ga,Ya,Re,Lt,es,g0,t4,tu],WM),$H=te([Gh,zH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),FH=te([Gh],e=>e.active),BH=te([t4,As,qs,iM,JM,tu,v0],VM),qH=te([BH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return(t=HH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=()=>xe(Xt),VH=()=>{var e=KH(),t=xe(es),r=xe(ZM);return ki(fS(fS({},e),{},{scale:r}),t)},r4=()=>xe(Ux),y0=(e,t)=>t,n4=(e,t,r)=>r,x0=(e,t,r,n)=>n,GH=te(es,e=>Nh(e,t=>t.coordinate)),b0=te([Vo,y0,n4,x0],HM),a4=te([b0,Go],h0),YH=(e,t,r)=>{if(t!=null){var n=Vo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},s4=te([Vo,y0,n4,x0],KM),ff=te([Ga,Ya,Re,Lt,es,x0,s4,tu],WM),XH=te([b0,ff],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),i4=te(es,a4,$M),ZH=te([s4,a4,qs,iM,i4,tu,y0],VM),QH=te([b0],e=>({isActive:e.active,activeIndex:e.index})),JH=(e,t,r,n,s,i,o,l)=>{if(!(!e||!t||!n||!s||!i)){var c=kF(e.chartX,e.chartY,t,r,l);if(c){var d=EF(c,t),u=hF(d,o,i,n,s),f=SF(t,i,u,c);return{activeIndex:String(u),activeCoordinate:f}}}};function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(null,arguments)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){eW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eW(e,t,r){return(t=tW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nW(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,u=t,f=r,h=n;if(!l||!u||d!=="ScatterChart"&&c!=="axis")return null;var p,m;if(d==="ScatterChart")p=u,m=E9;else if(d==="BarChart")p=C9(o,u,s,i),m=XO;else if(o==="radial"){var{cx:v,cy:g,radius:y,startAngle:x,endAngle:w}=ZO(u);p={cx:v,cy:g,startAngle:x,endAngle:w,innerRadius:y,outerRadius:y},m=JO}else p={points:oB(o,u,s)},m=oo;var j=typeof l=="object"&&"className"in l?l.className:void 0,N=Iu(Iu(Iu(Iu({stroke:"#ccc",pointerEvents:"none"},s),p),st(l,!1)),{},{payload:f,payloadIndex:h,className:ze("recharts-tooltip-cursor",j)});return b.isValidElement(l)?b.cloneElement(l,N):b.createElement(m,N)}function aW(e){var t=VH(),r=BO(),n=Uc(),s=r4();return b.createElement(nW,fg({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var o4=b.createContext(null),sW=()=>b.useContext(o4),l4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new s(u,f||c,h),m=r?r+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,p,m){var v=r?r+d:d;if(!this._events[v])return!1;var g=this._events[v],y=arguments.length,x,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,m),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];g.fn.apply(g.context,x)}else{var j=g.length,N;for(w=0;w<j;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,f);break;case 4:g[w].fn.call(g[w].context,u,f,h);break;default:if(!x)for(N=1,x=new Array(y-1);N<y;N++)x[N-1]=arguments[N];g[w].fn.apply(g[w].context,x)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var v=0,g=[],y=m.length;v<y;v++)(m[v].fn!==u||h&&!m[v].once||f&&m[v].context!==f)&&g.push(m[v]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(l4);var iW=l4.exports;const oW=zn(iW);var Cc=new oW,hg="recharts.syncEvent.tooltip",pS="recharts.syncEvent.brush";function Yh(e,t){if(t){var r=Number.parseInt(t,10);if(!Lr(r))return e==null?void 0:e[r]}}var lW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},c4=rn({name:"options",initialState:lW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cW=c4.reducer,{createEventEmitter:uW}=c4.actions;function dW(e){return e.tooltip.syncInteraction}var fW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},u4=rn({name:"chartData",initialState:fW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:mS,setDataStartEndIndexes:hW,setComputedData:soe}=u4.actions,pW=u4.reducer,mW=["x","y"];function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xW(e,t){if(e==null)return{};var r,n,s=bW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d4=()=>{};function jW(){var e=xe(Hx),t=xe(Wx),r=yt(),n=xe(eM),s=xe(es),i=Uc(),o=hx(),l=xe(c=>c.rootProps.className);b.useEffect(()=>{if(e==null)return d4;var c=(d,u,f)=>{if(t!==f&&e===d){if(n==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var p=u.payload.coordinate,{x:m,y:v}=p,g=xW(p,mW),y=Hs(Hs(Hs({},g),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof v=="number"&&{y:Math.max(o.y,Math.min(v,o.y+o.height))}),x=Hs(Hs({},u),{},{payload:Hs(Hs({},u.payload),{},{coordinate:y})});r(x)}else r(u);return}if(s!=null){var w;if(typeof n=="function"){var j={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},N=n(s,j);w=s[N]}else n==="value"&&(w=s.find(D=>String(D.value)===u.payload.label));var{coordinate:S}=u.payload;if(w==null||u.payload.active===!1||S==null||o==null){r(ug({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:k}=S,P=Math.min(_,o.x+o.width),E=Math.min(k,o.y+o.height),C={x:i==="horizontal"?w.coordinate:P,y:i==="horizontal"?E:w.coordinate},A=ug({active:u.payload.active,coordinate:C,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});r(A)}}};return Cc.on(hg,c),()=>{Cc.off(hg,c)}},[l,r,t,e,n,s,i,o])}function wW(){var e=xe(Hx),t=xe(Wx),r=yt();b.useEffect(()=>{if(e==null)return d4;var n=(s,i,o)=>{t!==o&&e===s&&r(hW(i))};return Cc.on(pS,n),()=>{Cc.off(pS,n)}},[r,t,e])}function NW(){var e=yt();b.useEffect(()=>{e(uW())},[e]),jW(),wW()}function _W(e,t,r,n,s,i){var o=xe(h=>YH(h,e,t)),l=xe(Wx),c=xe(Hx),d=xe(eM),u=xe(dW),f=u==null?void 0:u.active;b.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=ug({active:i,coordinate:r,dataKey:o,index:s,label:typeof n=="number"?String(n):n});Cc.emit(hg,c,h,l)}},[f,r,o,s,n,l,c,d,i])}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return(t=SW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CW(e){return e.dataKey}function PW(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(s9,t)}var xS=[],AW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Xa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dn(e){var t=It(e,AW),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:o,filterNull:l,isAnimationActive:c,offset:d,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:v,shared:g,trigger:y,defaultIndex:x,portal:w,axisId:j}=t,N=yt(),S=typeof x=="number"?String(x):x;b.useEffect(()=>{N(eH({shared:g,trigger:y,axisId:j,active:r,defaultIndex:S}))},[N,g,y,j,r,S]);var _=hx(),k=WO(),P=YU(g),{activeIndex:E,isActive:C}=xe(H=>QH(H,P,y,S)),A=xe(H=>ZH(H,P,y,S)),D=xe(H=>i4(H,P,y,S)),M=xe(H=>XH(H,P,y,S)),O=A,z=sW(),$=r??C,[q,R]=lO([O,$]),L=P==="axis"?D:void 0;_W(P,y,M,L,E,$);var T=w??z;if(T==null)return null;var I=O??xS;$||(I=xS),l&&I.length&&(I=XA(O.filter(H=>H.value!=null&&(H.hide!==!0||t.includeHidden)),u,CW));var U=I.length>0,K=b.createElement(f9,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:$,coordinate:M,hasPayload:U,offset:d,position:f,reverseDirection:h,useTranslate3d:p,viewBox:_,wrapperStyle:m,lastBoundingBox:q,innerRef:R,hasPortalFromProps:!!w},PW(o,yS(yS({},t),{},{payload:I,label:L,active:$,coordinate:M,accessibilityLayer:k})));return b.createElement(b.Fragment,null,Hf.createPortal(K,T),$&&b.createElement(aW,{cursor:v,tooltipEventType:P,coordinate:M,payload:O,index:E}))}var f4={},h4={},p4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let o,l=null;const c=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),u=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{d&&u(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{m(),o=void 0,l=null},g=()=>{u()},y=function(...x){if(s!=null&&s.aborted)return;o=this,l=x;const w=h==null;p(),c&&w&&u()};return y.schedule=p,y.cancel=v,y.flush=g,s==null||s.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(p4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p4;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:c}=i,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let u,f=null;const h=t.debounce(function(...v){u=n.apply(this,v),f=null},s,{edges:d}),p=function(...v){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,v),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(h4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h4;function r(n,s=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:o,maxWait:s,trailing:l})}e.throttle=r})(f4);var OW=f4.throttle;const TW=zn(OW);var Xl=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){MW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MW(e,t,r){return(t=DW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:o=0,minHeight:l,maxHeight:c,children:d,debounce:u=0,id:f,className:h,onResize:p,style:m={}}=e,v=b.useRef(null),g=b.useRef();g.current=p,b.useImperativeHandle(t,()=>v.current);var[y,x]=b.useState({containerWidth:n.width,containerHeight:n.height}),w=b.useCallback((N,S)=>{x(_=>{var k=Math.round(N),P=Math.round(S);return _.containerWidth===k&&_.containerHeight===P?_:{containerWidth:k,containerHeight:P}})},[]);b.useEffect(()=>{var N=P=>{var E,{width:C,height:A}=P[0].contentRect;w(C,A),(E=g.current)===null||E===void 0||E.call(g,C,A)};u>0&&(N=TW(N,u,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:_,height:k}=v.current.getBoundingClientRect();return w(_,k),S.observe(v.current),()=>{S.disconnect()}},[w,u]);var j=b.useMemo(()=>{var{containerWidth:N,containerHeight:S}=y;if(N<0||S<0)return null;Xl(ai(s)||ai(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Xl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=ai(s)?N:s,k=ai(i)?S:i;return r&&r>0&&(_?k=_/r:k&&(_=k*r),c&&k>c&&(k=c)),Xl(_>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,k,s,i,o,l,r),b.Children.map(d,P=>b.cloneElement(P,{width:_,height:k,style:pm({width:_,height:k},P.props.style)}))},[r,d,i,c,l,o,y,s]);return b.createElement("div",{id:f?"".concat(f):void 0,className:ze("recharts-responsive-container",h),style:pm(pm({},m),{},{width:s,height:i,minWidth:o,minHeight:l,maxHeight:c}),ref:v},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),Os=e=>null;Os.displayName="Cell";function LW(e,t,r){return(t=IW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $W{constructor(t){LW(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){BW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HW={cacheSize:2e3,enableCache:!0},m4=FW({},HW),wS=new $W(m4.cacheSize),WW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NS="recharts_measurement_span";function KW(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(l)}var _S=(e,t)=>{try{var r=document.getElementById(NS);r||(r=document.createElement("span"),r.setAttribute("id",NS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,WW,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Zl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xa.isSsr)return{width:0,height:0};if(!m4.enableCache)return _S(t,r);var n=KW(t,r),s=wS.get(n);if(s)return s;var i=_S(t,r);return wS.set(n,i),i},kS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,v4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YW=Object.keys(v4),Qi="NaN";function XW(e,t){return e*v4[t]}class kr{static parse(t){var r,[,n,s]=(r=GW.exec(t))!==null&&r!==void 0?r:[];return new kr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Lr(t)&&(this.unit=""),r!==""&&!VW.test(r)&&(this.num=NaN,this.unit=""),YW.includes(r)&&(this.num=XW(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Lr(this.num)}}function g4(e){if(e.includes(Qi))return Qi;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=kS.exec(t))!==null&&r!==void 0?r:[],o=kr.parse(n??""),l=kr.parse(i??""),c=s==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return Qi;t=t.replace(kS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,u,f,h]=(d=SS.exec(t))!==null&&d!==void 0?d:[],p=kr.parse(u??""),m=kr.parse(h??""),v=f==="+"?p.add(m):p.subtract(m);if(v.isNaN())return Qi;t=t.replace(SS,v.toString())}return t}var ES=/\(([^()]*)\)/;function ZW(e){for(var t=e,r;(r=ES.exec(t))!=null;){var[,n]=r;t=t.replace(ES,g4(n))}return t}function QW(e){var t=e.replace(/\s+/g,"");return t=ZW(t),t=g4(t),t}function JW(e){try{return QW(e)}catch{return Qi}}function mm(e){var t=JW(e.slice(5,-1));return t===Qi?"":t}var eK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tK=["dx","dy","angle","className","breakAll"];function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(null,arguments)}function CS(e,t){if(e==null)return{};var r,n,s=rK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y4=/[ \f\n\r\t\v\u2028\u2029]+/,x4=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];at(t)||(r?s=t.toString().split(""):s=t.toString().split(y4));var i=s.map(l=>({word:l,width:Zl(l,n).width})),o=r?0:Zl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},nK=(e,t,r,n,s)=>{var{maxLines:i,children:o,style:l,breakAll:c}=e,d=be(i),u=o,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((A,D)=>{var{word:M,width:O}=D,z=A[A.length-1];if(z&&(n==null||s||z.width+O+r<Number(n)))z.words.push(M),z.width+=O+r;else{var $={words:[M],width:O};A.push($)}return A},[])},h=f(t),p=E=>E.reduce((C,A)=>C.width>A.width?C:A);if(!d||s)return h;var m=h.length>i||p(h).width>Number(n);if(!m)return h;for(var v="",g=E=>{var C=u.slice(0,E),A=x4({breakAll:c,style:l,children:C+v}).wordsWithComputedWidth,D=f(A),M=D.length>i||p(D).width>Number(n);return[M,D]},y=0,x=u.length-1,w=0,j;y<=x&&w<=u.length-1;){var N=Math.floor((y+x)/2),S=N-1,[_,k]=g(S),[P]=g(N);if(!_&&!P&&(y=N+1),_&&P&&(x=N-1),!_&&P){j=k;break}w++}return j||h},PS=e=>{var t=at(e)?[]:e.toString().split(y4);return[{words:t}]},aK=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:o}=e;if((t||r)&&!Xa.isSsr){var l,c,d=x4({breakAll:i,children:n,style:s});if(d){var{wordsWithComputedWidth:u,spaceWidth:f}=d;l=u,c=f}else return PS(n);return nK({breakAll:i,children:n,maxLines:o,style:s},l,c,t,r)}return PS(n)},AS="#808080",Xh=b.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:c="end",fill:d=AS}=e,u=CS(e,eK),f=b.useMemo(()=>aK({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:p,angle:m,className:v,breakAll:g}=u,y=CS(u,tK);if(!sa(r)||!sa(n)||f.length===0)return null;var x=r+(be(h)?h:0),w=n+(be(p)?p:0),j;switch(c){case"start":j=mm("calc(".concat(i,")"));break;case"middle":j=mm("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:j=mm("calc(".concat(f.length-1," * -").concat(s,")"));break}var N=[];if(o){var S=f[0].width,{width:_}=u;N.push("scale(".concat(be(_)?_/S:1,")"))}return m&&N.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),N.length&&(y.transform=N.join(" ")),b.createElement("text",pg({},st(y,!0),{ref:t,x,y:w,className:ze("recharts-text",v),textAnchor:l,fill:d.includes("url")?AS:d}),f.map((k,P)=>{var E=k.words.join(g?"":" ");return b.createElement("tspan",{x,dy:P===0?j:s,key:"".concat(E,"-").concat(P)},E)}))});Xh.displayName="Text";var sK=["labelRef"];function iK(e,t){if(e==null)return{};var r,n,s=oK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function oK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){lK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lK(e,t,r){return(t=cK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}var b4=b.createContext(null),dK=e=>{var{x:t,y:r,width:n,height:s,children:i}=e,o=b.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return b.createElement(b4.Provider,{value:o},i)},j4=()=>{var e=b.useContext(b4),t=hx();return e||t},fK=b.createContext(null),hK=()=>{var e=b.useContext(fK),t=xe(sM);return e||t},pK=e=>{var{value:t,formatter:r}=e,n=at(e.children)?t:e.children;return typeof r=="function"?r(n):n},j0=e=>e!=null&&typeof e=="function",mK=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},vK=(e,t,r,n,s)=>{var{offset:i,className:o}=e,{cx:l,cy:c,innerRadius:d,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=s,m=(d+u)/2,v=mK(f,h),g=v>=0?1:-1,y,x;switch(t){case"insideStart":y=f+g*i,x=p;break;case"insideEnd":y=h-g*i,x=!p;break;case"end":y=h+g*i,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=At(l,c,m,y),j=At(l,c,m,y+(x?1:-1)*359),N="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(j.x,",").concat(j.y),S=at(e.id)?yc("recharts-radial-line-"):e.id;return b.createElement("text",ga({},n,{dominantBaseline:"central",className:ze("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:S,d:N})),b.createElement("textPath",{xlinkHref:"#".concat(S)},r))},gK=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c}=e,d=(l+c)/2;if(r==="outside"){var{x:u,y:f}=At(n,s,o+t,d);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:p,y:m}=At(n,s,h,d);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},w4=e=>"cx"in e&&be(e.cx),yK=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,i;r!=null&&!w4(r)&&(i=r);var{x:o,y:l,width:c,height:d}=t,u=d>=0?1:-1,f=u*n,h=u>0?"end":"start",p=u>0?"start":"end",m=c>=0?1:-1,v=m*n,g=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var x={x:o+c/2,y:l-u*n,textAnchor:"middle",verticalAnchor:h};return wt(wt({},x),i?{height:Math.max(l-i.y,0),width:c}:{})}if(s==="bottom"){var w={x:o+c/2,y:l+d+f,textAnchor:"middle",verticalAnchor:p};return wt(wt({},w),i?{height:Math.max(i.y+i.height-(l+d),0),width:c}:{})}if(s==="left"){var j={x:o-v,y:l+d/2,textAnchor:g,verticalAnchor:"middle"};return wt(wt({},j),i?{width:Math.max(j.x-i.x,0),height:d}:{})}if(s==="right"){var N={x:o+c+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return wt(wt({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:d}:{})}var S=i?{width:c,height:d}:{};return s==="insideLeft"?wt({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideRight"?wt({x:o+c-v,y:l+d/2,textAnchor:g,verticalAnchor:"middle"},S):s==="insideTop"?wt({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:p},S):s==="insideBottom"?wt({x:o+c/2,y:l+d-f,textAnchor:"middle",verticalAnchor:h},S):s==="insideTopLeft"?wt({x:o+v,y:l+f,textAnchor:y,verticalAnchor:p},S):s==="insideTopRight"?wt({x:o+c-v,y:l+f,textAnchor:g,verticalAnchor:p},S):s==="insideBottomLeft"?wt({x:o+v,y:l+d-f,textAnchor:y,verticalAnchor:h},S):s==="insideBottomRight"?wt({x:o+c-v,y:l+d-f,textAnchor:g,verticalAnchor:h},S):s&&typeof s=="object"&&(be(s.x)||ai(s.x))&&(be(s.y)||ai(s.y))?wt({x:o+hr(s.x,c),y:l+hr(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):wt({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},xK={offset:5};function us(e){var t=It(e,xK),{viewBox:r,position:n,value:s,children:i,content:o,className:l="",textBreakAll:c,labelRef:d}=t,u=hK(),f=j4(),h=n==="center"?f:u??f,p=r||h;if(!p||at(s)&&at(i)&&!b.isValidElement(o)&&typeof o!="function")return null;var m=wt(wt({},t),{},{viewBox:p});if(b.isValidElement(o)){var{labelRef:v}=m,g=iK(m,sK);return b.cloneElement(o,g)}var y;if(typeof o=="function"){if(y=b.createElement(o,m),b.isValidElement(y))return y}else y=pK(t);var x=w4(p),w=st(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return vK(t,n,y,w,p);var j=x?gK(p,t.offset,t.position):yK(t,p);return b.createElement(Xh,ga({ref:d,className:ze("recharts-label",l)},w,j,{breakAll:c}),y)}us.displayName="Label";var bK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(us,ga({key:"label-implicit"},n)):sa(e)?b.createElement(us,ga({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===us?b.cloneElement(e,wt({key:"label-implicit"},n)):b.createElement(us,ga({key:"label-implicit",content:e},n)):j0(e)?b.createElement(us,ga({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(us,ga({},e,{key:"label-implicit"},n)):null};function jK(e){var{label:t}=e,r=j4();return bK(t,r)||null}var N4={},_4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(_4);var k4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(k4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_4,r=k4,n=jh;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(N4);var wK=N4.last;const NK=zn(wK);var _K=["valueAccessor"],kK=["dataKey","clockWise","id","textBreakAll"];function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hf.apply(null,arguments)}function TS(e,t){if(e==null)return{};var r,n,s=SK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EK=e=>Array.isArray(e.value)?NK(e.value):e.value,S4=b.createContext(void 0),w0=S4.Provider,E4=b.createContext(void 0),CK=E4.Provider;function PK(){return b.useContext(S4)}function AK(){return b.useContext(E4)}function ad(e){var{valueAccessor:t=EK}=e,r=TS(e,_K),{dataKey:n,clockWise:s,id:i,textBreakAll:o}=r,l=TS(r,kK),c=PK(),d=AK(),u=c||d;return!u||!u.length?null:b.createElement(bt,{className:"recharts-label-list"},u.map((f,h)=>{var p,m=at(n)?t(f,h):Ye(f&&f.payload,n),v=at(i)?{}:{id:"".concat(i,"-").concat(h)};return b.createElement(us,hf({},st(f,!0),l,v,{fill:(p=r.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:m,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}ad.displayName="LabelList";function Zh(e){var{label:t}=e;return t?t===!0?b.createElement(ad,{key:"labelList-implicit"}):b.isValidElement(t)||j0(t)?b.createElement(ad,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(ad,hf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(null,arguments)}var N0=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=ze("recharts-dot",s);return t===+t&&r===+r&&n===+n?b.createElement("circle",mg({},_n(e),Fy(e),{className:i,cx:t,cy:r,r:n})):null},C4=e=>e.graphicalItems.polarItems,OK=te([dt,Xc],Xx),_0=te([C4,St,OK],Zx),TK=te([_0],Qx),k0=te([TK,Fx],Jx),MK=te([k0,St,_0],t0),DK=te([k0,St,_0],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,o=Ye(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),MS=()=>{},RK=te([St,kM,MS,DK,MS,Re,dt],n0),P4=te([St,Re,k0,MK,Yc,dt,RK],a0),LK=te([P4,St,Wo],o0);te([St,P4,LK,dt],c0);var IK={radiusAxis:{},angleAxis:{}},A4=rn({name:"polarAxis",initialState:IK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ioe,removeRadiusAxis:ooe,addAngleAxis:loe,removeAngleAxis:coe}=A4.actions,zK=A4.reducer;function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){$K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $K(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qK=(e,t)=>t,S0=te([C4,qK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),UK=[],E0=(e,t,r)=>(r==null?void 0:r.length)===0?UK:r,O4=te([Fx,S0,E0],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>RS(RS({},t.presentationProps),i.props))),s!=null)return s}}),HK=te([O4,S0,E0],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,o=Ye(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:$s(o,t.dataKey),color:l,payload:n,type:t.legendType}})}),WK=te([O4,S0,E0,Lt],(e,t,r,n)=>{if(!(t==null||e==null))return FV({offset:n,pieSettings:t,displayedData:e,cells:r})}),T4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(T4);var KK=T4.isPlainObject;const VK=zn(KK);function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){GK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(null,arguments)}var zS=(e,t,r,n,s)=>{var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+s),o+="L ".concat(e+r-i/2-n,",").concat(t+s),o+="L ".concat(e,",").concat(t," Z"),o},ZK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QK=e=>{var t=It(e,ZK),{x:r,y:n,upperWidth:s,lowerWidth:i,height:o,className:l}=t,{animationEasing:c,animationDuration:d,animationBegin:u,isUpdateAnimationActive:f}=t,h=b.useRef(),[p,m]=b.useState(-1),v=b.useRef(s),g=b.useRef(i),y=b.useRef(o),x=b.useRef(r),w=b.useRef(n),j=$o(e,"trapezoid-");if(b.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var M=h.current.getTotalLength();M&&m(M)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||o!==+o||s===0&&i===0||o===0)return null;var N=ze("recharts-trapezoid",l);if(!f)return b.createElement("g",null,b.createElement("path",pf({},st(t,!0),{className:N,d:zS(r,n,s,i,o)})));var S=v.current,_=g.current,k=y.current,P=x.current,E=w.current,C="0px ".concat(p===-1?1:p,"px"),A="".concat(p,"px 0px"),D=KO(["strokeDasharray"],d,c);return b.createElement(zo,{animationId:j,key:j,canBegin:p>0,duration:d,easing:c,isActive:f,begin:u},M=>{var O=Ve(S,s,M),z=Ve(_,i,M),$=Ve(k,o,M),q=Ve(P,r,M),R=Ve(E,n,M);h.current&&(v.current=O,g.current=z,y.current=$,x.current=q,w.current=R);var L=M>0?{transition:D,strokeDasharray:A}:{strokeDasharray:C};return b.createElement("path",pf({},st(t,!0),{className:N,d:zS(q,R,O,z,$),ref:h,style:IS(IS({},L),t.style)}))})},JK=["option","shapeType","propTransformer","activeClassName","isActive"];function eV(e,t){if(e==null)return{};var r,n,s=tV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function tV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){rV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rV(e,t,r){return(t=nV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=aV(e,"string");return typeof t=="symbol"?t:t+""}function aV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sV(e,t){return mf(mf({},t),e)}function iV(e,t){return e==="symbols"}function FS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(XO,r);case"trapezoid":return b.createElement(QK,r);case"sector":return b.createElement(JO,r);case"symbols":if(iV(t))return b.createElement(Ky,r);break;default:return null}}function oV(e){return b.isValidElement(e)?e.props:e}function M4(e){var{option:t,shapeType:r,propTransformer:n=sV,activeClassName:s="recharts-active-shape",isActive:i}=e,o=eV(e,JK),l;if(b.isValidElement(t))l=b.cloneElement(t,mf(mf({},o),oV(t)));else if(typeof t=="function")l=t(o);else if(VK(t)&&typeof t!="boolean"){var c=n(t,o);l=b.createElement(FS,{shapeType:r,elementProps:c})}else{var d=o;l=b.createElement(FS,{shapeType:r,elementProps:d})}return i?b.createElement(bt,{className:s},l):l}var C0=(e,t)=>{var r=yt();return(n,s)=>i=>{e==null||e(n,s,i),r(BM({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},P0=e=>{var t=yt();return(r,n)=>s=>{e==null||e(r,n,s),t(tH())}},A0=(e,t)=>{var r=yt();return(n,s)=>i=>{e==null||e(n,s,i),r(rH({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Qh(e){var{fn:t,args:r}=e,n=yt(),s=mr();return b.useEffect(()=>{if(!s){var i=t(r);return n(QU(i)),()=>{n(JU(i))}}},[t,r,n,s]),null}var D4=()=>{};function O0(e){var{legendPayload:t}=e,r=yt(),n=mr();return b.useEffect(()=>n?D4:(r(UO(t)),()=>{r(HO(t))}),[r,n,t]),null}function lV(e){var{legendPayload:t}=e,r=yt(),n=xe(Re);return b.useEffect(()=>n!=="centric"&&n!=="radial"?D4:(r(UO(t)),()=>{r(HO(t))}),[r,n,t]),null}var vm,cV=()=>{var[e]=b.useState(()=>yc("uid-"));return e},uV=(vm=Z2.useId)!==null&&vm!==void 0?vm:cV;function dV(e,t){var r=uV();return t||(e?"".concat(e,"-").concat(r):r)}var fV=b.createContext(void 0),Jh=e=>{var{id:t,type:r,children:n}=e,s=dV("recharts-".concat(r),t);return b.createElement(fV.Provider,{value:s},n(s))},hV={cartesianItems:[],polarItems:[]},R4=rn({name:"graphicalItems",initialState:hV,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=Ca(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=Ca(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Ca(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:pV,replaceCartesianGraphicalItem:mV,removeCartesianGraphicalItem:vV,addPolarGraphicalItem:gV,removePolarGraphicalItem:yV}=R4.actions,xV=R4.reducer;function T0(e){var t=yt(),r=b.useRef(null);return b.useEffect(()=>{r.current===null?t(pV(e)):r.current!==e&&t(mV({prev:r.current,next:e})),r.current=e},[t,e]),b.useEffect(()=>()=>{r.current&&(t(vV(r.current)),r.current=null)},[t]),null}function bV(e){var t=yt();return b.useEffect(()=>(t(gV(e)),()=>{t(yV(e))}),[t,e]),null}var jV=["onMouseEnter","onClick","onMouseLeave"],wV=["id"],NV=["id"];function M0(e,t){if(e==null)return{};var r,n,s=_V(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){kV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kV(e,t,r){return(t=SV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}function CV(e){var t=b.useMemo(()=>By(e.children,Os),[e.children]),r=xe(n=>HK(n,e.id,t));return r==null?null:b.createElement(lV,{legendPayload:r})}function PV(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:o,name:l,hide:c,tooltipType:d}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:o,dataKey:t,nameKey:r,name:$s(l,t),hide:c,type:d,color:o,unit:""}}}var AV=(e,t)=>e>t?"start":e<t?"end":"middle",OV=(e,t,r)=>hr(typeof t=="function"?t(e):t,r,r*.8),TV=(e,t,r)=>{var{top:n,left:s,width:i,height:o}=t,l=MO(i,o),c=s+hr(e.cx,i,i/2),d=n+hr(e.cy,o,o/2),u=hr(e.innerRadius,l,0),f=OV(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:d,innerRadius:u,outerRadius:f,maxRadius:h}},MV=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function DV(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var RV=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ze("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return b.createElement(oo,Ts({},t,{type:"linear",className:r}))},LV=(e,t,r)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),b.isValidElement(n)))return n;var s=ze("recharts-pie-label-text",DV(e));return b.createElement(Xh,Ts({},t,{alignmentBaseline:"middle",className:s}),n)};function IV(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:o}=r;if(!n||!s||!t)return null;var l=_n(r),c=st(s,!1),d=st(i,!1),u=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,v=At(h.cx,h.cy,h.outerRadius+u,m),g=ot(ot(ot(ot({},l),h),{},{stroke:"none"},c),{},{index:p,textAnchor:AV(v.x,h.cx)},v),y=ot(ot(ot(ot({},l),h),{},{fill:"none",stroke:h.fill},d),{},{index:p,points:[At(h.cx,h.cy,h.outerRadius,m),v],key:"line"});return b.createElement(bt,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},i&&RV(i,y),LV(s,g,Ye(h,o)))});return b.createElement(bt,{className:"recharts-pie-labels"},f)}function zV(e){var{sectors:t,props:r,showLabels:n}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?b.createElement(Zh,{label:s}):b.createElement(IV,{sectors:t,props:r,showLabels:n})}function $V(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s}=e,i=xe(As),{onMouseEnter:o,onClick:l,onMouseLeave:c}=s,d=M0(s,jV),u=C0(o,s.dataKey),f=P0(c),h=A0(l,s.dataKey);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((p,m)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var v=r&&String(m)===i,g=i?n:null,y=v?r:g,x=ot(ot({},p),{},{stroke:p.stroke,tabIndex:-1,[$O]:m,[FO]:s.dataKey});return b.createElement(bt,Ts({tabIndex:-1,className:"recharts-pie-sector"},$c(d,p,m),{onMouseEnter:u(p,m),onMouseLeave:f(p,m),onClick:h(p,m),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(m)}),b.createElement(M4,Ts({option:y,isActive:v,shapeType:"sector"},x)))}))}function FV(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:d,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),p=MV(l,c),m=Math.abs(p),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(S=>Ye(S,d,0)!==0).length,y=(m>=360?g:g-1)*v,x=m-g*h-y,w=n.reduce((S,_)=>{var k=Ye(_,d,0);return S+(be(k)?k:0)},0),j;if(w>0){var N;j=n.map((S,_)=>{var k=Ye(S,d,0),P=Ye(S,u,_),E=TV(r,i,S),C=(be(k)?k:0)/w,A,D=ot(ot({},S),s&&s[_]&&s[_].props);_?A=N.endAngle+Kt(p)*v*(k!==0?1:0):A=l;var M=A+Kt(p)*((k!==0?h:0)+C*x),O=(A+M)/2,z=(E.innerRadius+E.outerRadius)/2,$=[{name:P,value:k,payload:D,dataKey:d,type:f}],q=At(E.cx,E.cy,z,O);return N=ot(ot(ot(ot({},r.presentationProps),{},{percent:C,cornerRadius:o,name:P,tooltipPayload:$,midAngle:O,middleRadius:z,tooltipPosition:q},D),E),{},{value:k,startAngle:A,endAngle:M,payload:D,paddingAngle:Kt(p)*v}),N})}return j}function BV(e){var{showLabels:t,sectors:r,children:n}=e,s=b.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return b.createElement(CK,{value:t?s:void 0},n)}function qV(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:f}=t,h=$o(t,"recharts-pie-"),p=r.current,[m,v]=b.useState(!1),g=b.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),y=b.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return b.createElement(BV,{showLabels:!m,sectors:n},b.createElement(zo,{animationId:h,begin:i,duration:o,isActive:s,easing:l,onAnimationStart:y,onAnimationEnd:g,key:h},x=>{var w=[],j=n&&n[0],N=j==null?void 0:j.startAngle;return n==null||n.forEach((S,_)=>{var k=p&&p[_],P=_>0?wi(S,"paddingAngle",0):0;if(k){var E=Ve(k.endAngle-k.startAngle,S.endAngle-S.startAngle,x),C=ot(ot({},S),{},{startAngle:N+P,endAngle:N+E+P});w.push(C),N=C.endAngle}else{var{endAngle:A,startAngle:D}=S,M=Ve(0,A-D,x),O=ot(ot({},S),{},{startAngle:N+P,endAngle:N+M+P});w.push(O),N=O.endAngle}}),r.current=w,b.createElement(bt,null,b.createElement($V,{sectors:w,activeShape:c,inactiveShape:d,allOtherPieProps:t}))}),b.createElement(zV,{showLabels:!m,sectors:n,props:t}),t.children)}var UV={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Xa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function HV(e){var{id:t}=e,r=M0(e,wV),{hide:n,className:s,rootTabIndex:i}=e,o=b.useMemo(()=>By(e.children,Os),[e.children]),l=xe(u=>WK(u,t,o)),c=b.useRef(null),d=ze("recharts-pie",s);return n||l==null?(c.current=null,b.createElement(bt,{tabIndex:i,className:d})):b.createElement(b.Fragment,null,b.createElement(Qh,{fn:PV,args:ot(ot({},e),{},{sectors:l})}),b.createElement(bt,{tabIndex:i,className:d},b.createElement(qV,{props:ot(ot({},r),{},{sectors:l}),previousSectorsRef:c})))}function ep(e){var t=It(e,UV),{id:r}=t,n=M0(t,NV),s=_n(n);return b.createElement(Jh,{id:r,type:"pie"},i=>b.createElement(b.Fragment,null,b.createElement(bV,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),b.createElement(CV,Ts({},n,{id:i})),b.createElement(HV,Ts({},n,{id:i}))))}ep.displayName="Pie";function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(n){WV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WV(e,t,r){return(t=KV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GV={xAxis:{},yAxis:{},zAxis:{}},L4=rn({name:"cartesianAxis",initialState:GV,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=US(US({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:YV,removeXAxis:XV,addYAxis:ZV,removeYAxis:QV,addZAxis:uoe,removeZAxis:doe,updateYAxisWidth:JV}=L4.actions,eG=L4.reducer,tG=te([Lt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),rG=te([tG,Ga,Ya],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),tp=()=>xe(rG),nG=()=>xe(qH);function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=iG(e,"string");return typeof t=="symbol"?t:t+""}function iG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oG=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var o=WS(WS({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},st(s,!1)),Fy(s)),l;return b.isValidElement(s)?l=b.cloneElement(s,o):typeof s=="function"?l=s(o):l=b.createElement(N0,o),b.createElement(bt,{className:"recharts-active-dot"},l)};function vg(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=xe(As),o=nG();if(t==null||o==null)return null;var l=t.find(c=>o.includes(c.payload));return at(l)?null:oG({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var lG="Invariant failed";function cG(e,t){throw new Error(lG)}var uG=["x","y"];function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(null,arguments)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pG(e,t){if(e==null)return{};var r,n,s=mG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vG(e,t){var{x:r,y:n}=e,s=pG(e,uG),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Pl(Pl(Pl(Pl(Pl({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function D0(e){return b.createElement(M4,gg({shapeType:"rectangle",propTransformer:vG,activeClassName:"recharts-active-bar"},e))}var gG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(be(t))return t;var i=be(n)||at(n);return i?t(n,s):(i||cG(),r)}},yG={},I4=rn({name:"errorBars",initialState:yG,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:foe,replaceErrorBar:hoe,removeErrorBar:poe}=I4.actions,xG=I4.reducer,bG=["children"];function jG(e,t){if(e==null)return{};var r,n,s=wG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_G=b.createContext(NG);function z4(e){var{children:t}=e,r=jG(e,bG);return b.createElement(_G.Provider,{value:r},t)}function rp(e,t){var r,n,s=xe(d=>Qa(d,e)),i=xe(d=>Ja(d,t)),o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:zr.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:$r.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function R0(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=tp(),{needClipX:i,needClipY:o,needClip:l}=rp(t,r);if(!l)return null;var{x:c,y:d,width:u,height:f}=s;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:i?c:c-u/2,y:o?d:d-f/2,width:i?u:u*2,height:o?f:f*2}))}var kG=["onMouseEnter","onMouseLeave","onClick"],SG=["value","background","tooltipPosition"],EG=["id"],CG=["onMouseEnter","onClick","onMouseLeave"];function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(null,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return(t=AG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vf(e,t){if(e==null)return{};var r,n,s=TG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function TG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MG=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:$s(r,t),payload:e}]};function DG(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:o,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:$s(i,t),hide:o,type:e.tooltipType,color:e.fill,unit:l}}}function RG(e){var t=xe(As),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=i,d=vf(i,kG),u=C0(o,n),f=P0(l),h=A0(c,n);if(!s||r==null)return null;var p=st(s,!1);return b.createElement(b.Fragment,null,r.map((m,v)=>{var{value:g,background:y,tooltipPosition:x}=m,w=vf(m,SG);if(!y)return null;var j=u(m,v),N=f(m,v),S=h(m,v),_=yr(yr(yr(yr(yr({option:s,isActive:String(v)===t},w),{},{fill:"#eee"},y),p),$c(d,m,v)),{},{onMouseEnter:j,onMouseLeave:N,onClick:S,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return b.createElement(D0,Ms({key:"background-bar-".concat(_.index)},_))}))}function LG(e){var{showLabels:t,children:r,rects:n}=e,s=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,height:i.height};return yr(yr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return b.createElement(w0,{value:t?s:void 0},r)}function IG(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:o}=e,l=xe(As),c=xe(e4),d=r&&String(i)===l&&(c==null||o===c),u=d?r:t;return b.createElement(D0,Ms({},n,s,{isActive:d,option:u,index:i,dataKey:o}))}function zG(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return b.createElement(D0,Ms({},r,n,{isActive:!1,option:t,index:s,dataKey:i}))}function $G(e){var{data:t,props:r}=e,n=_n(r),{id:s}=n,i=vf(n,EG),{shape:o,dataKey:l,activeBar:c}=r,{onMouseEnter:d,onClick:u,onMouseLeave:f}=r,h=vf(r,CG),p=C0(d,l),m=P0(f),v=A0(u,l);return t?b.createElement(b.Fragment,null,t.map((g,y)=>b.createElement(bt,Ms({className:"recharts-bar-rectangle"},$c(h,g,y),{onMouseEnter:p(g,y),onMouseLeave:m(g,y),onClick:v(g,y),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),c?b.createElement(IG,{shape:o,activeBar:c,baseProps:i,entry:g,index:y,dataKey:l}):b.createElement(zG,{shape:o,baseProps:i,entry:g,index:y,dataKey:l})))):null}function FG(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:u}=t,f=r.current,h=$o(t,"recharts-bar-"),[p,m]=b.useState(!1),v=!p,g=b.useCallback(()=>{typeof d=="function"&&d(),m(!1)},[d]),y=b.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return b.createElement(LG,{showLabels:v,rects:n},b.createElement(zo,{animationId:h,begin:o,duration:l,isActive:i,easing:c,onAnimationEnd:g,onAnimationStart:y,key:h},x=>{var w=x===1?n:n==null?void 0:n.map((j,N)=>{var S=f&&f[N];if(S)return yr(yr({},j),{},{x:Ve(S.x,j.x,x),y:Ve(S.y,j.y,x),width:Ve(S.width,j.width,x),height:Ve(S.height,j.height,x)});if(s==="horizontal"){var _=Ve(0,j.height,x);return yr(yr({},j),{},{y:j.y+j.height-_,height:_})}var k=Ve(0,j.width,x);return yr(yr({},j),{},{width:k})});return x>0&&(r.current=w??null),w==null?null:b.createElement(bt,null,b.createElement($G,{props:t,data:w}))}),b.createElement(Zh,{label:t.label}),t.children)}function BG(e){var t=b.useRef(null);return b.createElement(FG,{previousRectanglesRef:t,props:e})}var $4=0,qG=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ye(e,t)}};class UG extends b.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:o,needClip:l,background:c,id:d}=this.props;if(t||r==null)return null;var u=ze("recharts-bar",s),f=d;return b.createElement(bt,{className:u,id:d},l&&b.createElement("defs",null,b.createElement(R0,{clipPathId:f,xAxisId:i,yAxisId:o})),b.createElement(bt,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},b.createElement(RG,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),b.createElement(BG,this.props)))}}var HG={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Xa.isSsr,legendType:"rect",minPointSize:$4,xAxisId:0,yAxisId:0};function WG(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u}=e,{needClip:f}=rp(t,r),h=Uc(),p=mr(),m=By(e.children,Os),v=xe(x=>xY(x,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var g,y=v==null?void 0:v[0];return y==null||y.height==null||y.width==null?g=0:g=h==="vertical"?y.height/2:y.width/2,b.createElement(z4,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:qG,errorBarOffset:g},b.createElement(UG,Ms({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:d,isAnimationActive:u})))}function KG(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:d,stackedData:u,displayedData:f,offset:h,cells:p,parentViewBox:m}=e,v=t==="horizontal"?l:o,g=u?v.scale.domain():null,y=jF({numericAxis:v});return f.map((x,w)=>{var j,N,S,_,k,P;u?j=vF(u[w],g):(j=Ye(x,r),Array.isArray(j)||(j=[y,j]));var E=gG(n,$4)(j[1],w);if(t==="horizontal"){var C,[A,D]=[l.scale(j[0]),l.scale(j[1])];N=V_({axis:o,ticks:c,bandSize:i,offset:s.offset,entry:x,index:w}),S=(C=D??A)!==null&&C!==void 0?C:void 0,_=s.size;var M=A-D;if(k=Lr(M)?0:M,P={x:N,y:h.top,width:_,height:h.height},Math.abs(E)>0&&Math.abs(k)<Math.abs(E)){var O=Kt(k||E)*(Math.abs(E)-Math.abs(k));S-=O,k+=O}}else{var[z,$]=[o.scale(j[0]),o.scale(j[1])];if(N=z,S=V_({axis:l,ticks:d,bandSize:i,offset:s.offset,entry:x,index:w}),_=$-z,k=s.size,P={x:h.left,y:S,width:h.width,height:k},Math.abs(E)>0&&Math.abs(_)<Math.abs(E)){var q=Kt(_||E)*(Math.abs(E)-Math.abs(_));_+=q}}if(N==null||S==null||_==null||k==null)return null;var R=yr(yr({},x),{},{x:N,y:S,width:_,height:k,value:u?j:j[1],payload:x,background:P,tooltipPosition:{x:N+_/2,y:S+k/2},parentViewBox:m},p&&p[w]&&p[w].props);return R}).filter(Boolean)}function VG(e){var t=It(e,HG),r=mr();return b.createElement(Jh,{id:t.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(O0,{legendPayload:MG(t)}),b.createElement(Qh,{fn:DG,args:t}),b.createElement(T0,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:IO(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(WG,Ms({},t,{id:n}))))}var Aa=b.memo(VG);Aa.displayName="Bar";function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){GG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GG(e,t,r){return(t=YG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=XG(e,"string");return typeof t=="symbol"?t:t+""}function XG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZG=(e,t)=>t,QG=(e,t,r)=>r,JG=(e,t,r,n)=>n,eY=(e,t,r,n,s)=>s,nu=te([Qc,eY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),tY=te([nu],e=>e==null?void 0:e.maxBarSize),rY=(e,t,r,n,s,i)=>i,YS=(e,t,r)=>{var n=r??e;if(!at(n))return hr(n,t,0)},nY=te([Re,Qc,ZG,QG,JG],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),aY=(e,t,r,n)=>{var s=Re(e);return s==="horizontal"?Ec(e,"yAxis",r,n):Ec(e,"xAxis",t,n)},sY=(e,t,r)=>{var n=Re(e);return n==="horizontal"?iS(e,"xAxis",t):iS(e,"yAxis",r)},iY=(e,t,r)=>{var n={},s=e.filter(Uh),i=e.filter(d=>d.stackId==null),o=s.reduce((d,u)=>(d[u.stackId]||(d[u.stackId]=[]),d[u.stackId].push(u),d),n),l=Object.entries(o).map(d=>{var[u,f]=d,h=f.map(m=>m.dataKey),p=YS(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),c=i.map(d=>{var u=[d.dataKey].filter(h=>h!=null),f=YS(t,r,d.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...l,...c]},oY=te([nY,Zq,sY],iY),lY=(e,t,r,n,s)=>{var i,o,l=nu(e,t,r,n,s);if(l!=null){var c=Re(e),d=QT(e),{maxBarSize:u}=l,f=at(u)?d:u,h,p;return c==="horizontal"?(h=la(e,"xAxis",t,n),p=oa(e,"xAxis",t,n)):(h=la(e,"yAxis",r,n),p=oa(e,"yAxis",r,n)),(i=(o=ki(h,p,!0))!==null&&o!==void 0?o:f)!==null&&i!==void 0?i:0}},F4=(e,t,r,n)=>{var s=Re(e),i,o;return s==="horizontal"?(i=la(e,"xAxis",t,n),o=oa(e,"xAxis",t,n)):(i=la(e,"yAxis",r,n),o=oa(e,"yAxis",r,n)),ki(i,o)};function cY(e,t,r,n,s){var i=n.length;if(!(i<1)){var o=hr(e,r,0,!0),l,c=[];if(ar(n[0].barSize)){var d=!1,u=r/i,f=n.reduce((y,x)=>y+(x.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&u>0&&(d=!0,u*=.9,f=i*u);var h=(r-f)/2>>0,p={offset:h-o,size:0};l=n.reduce((y,x)=>{var w,j={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p.offset+p.size+o,size:d?u:(w=x.barSize)!==null&&w!==void 0?w:0}},N=[...y,j];return p=N[N.length-1].position,N},c)}else{var m=hr(t,r,0,!0);r-2*m-(i-1)*o<=0&&(o=0);var v=(r-2*m-(i-1)*o)/i;v>1&&(v>>=0);var g=ar(s)?Math.min(v,s):v;l=n.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m+(v+o)*w+(v-g)/2,size:g}}],c)}return l}}var uY=(e,t,r,n,s,i,o)=>{var l=at(o)?t:o,c=cY(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(d=>zu(zu({},d),{},{position:zu(zu({},d.position),{},{offset:d.position.offset-s/2})}))),c},dY=te([oY,QT,Xq,JT,lY,F4,tY],uY),fY=(e,t,r,n)=>la(e,"xAxis",t,n),hY=(e,t,r,n)=>la(e,"yAxis",r,n),pY=(e,t,r,n)=>oa(e,"xAxis",t,n),mY=(e,t,r,n)=>oa(e,"yAxis",r,n),vY=te([dY,nu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),gY=(e,t)=>{var r=qh(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(o=>o.key===r)}}}},yY=te([aY,nu],gY),xY=te([Lt,fx,fY,hY,pY,mY,vY,Re,Gc,F4,yY,nu,rY],(e,t,r,n,s,i,o,l,c,d,u,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=c;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||s==null||i==null||d==null)){var{data:g}=f,y;if(g!=null&&g.length>0?y=g:y=p==null?void 0:p.slice(m,v+1),y!=null)return KG({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:d,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:u,displayedData:y,offset:e,cells:h})}}),B4=e=>{var{chartData:t}=e,r=yt(),n=mr();return b.useEffect(()=>n?()=>{}:(r(mS(t)),()=>{r(mS(void 0))}),[t,r,n]),null},XS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q4=rn({name:"brush",initialState:XS,reducers:{setBrushSettings(e,t){return t.payload==null?XS:t.payload}}}),{setBrushSettings:moe}=q4.actions,bY=q4.reducer;function jY(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L0{static create(t){return new L0(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}jY(L0,"EPS",1e-4);function _Y(e){return(e%180+180)%180}var kY=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=_Y(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},SY={dots:[],areas:[],lines:[]},U4=rn({name:"referenceElements",initialState:SY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ca(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ca(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ca(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:voe,removeDot:goe,addArea:yoe,removeArea:xoe,addLine:boe,removeLine:joe}=U4.actions,EY=U4.reducer,CY=b.createContext(void 0),PY=e=>{var{children:t}=e,[r]=b.useState("".concat(yc("recharts"),"-clip")),n=tp();if(n==null)return null;var{x:s,y:i,width:o,height:l}=n;return b.createElement(CY.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:s,y:i,height:l,width:o}))),t)};function Po(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function H4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function AY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return kY(n,r)}function OY(e,t,r){var n=r==="width",{x:s,y:i,width:o,height:l}=e;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function gf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function TY(e,t){return H4(e,t+1)}function MY(e,t,r,n,s){for(var i=(n||[]).slice(),{start:o,end:l}=t,c=0,d=1,u=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:H4(n,d)};var v=c,g,y=()=>(g===void 0&&(g=r(m,v)),g),x=m.coordinate,w=c===0||gf(e,x,y,u,l);w||(c=0,u=o,d+=1),w&&(u=x+e*(y()/2+s),c+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){DY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t,r){return(t=RY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IY(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:c}=t,d=function(h){var p=i[h],m,v=()=>(m===void 0&&(m=r(p,h)),m);if(h===o-1){var g=e*(p.coordinate+e*v()/2-c);i[h]=p=lr(lr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=lr(lr({},p),{},{tickCoord:p.coordinate});var y=gf(e,p.tickCoord,v,l,c);y&&(c=p.tickCoord-e*(v()/2+s),i[h]=lr(lr({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function zY(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,{start:c,end:d}=t;if(i){var u=n[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=lr(lr({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=gf(e,u.tickCoord,()=>f,c,d);p&&(d=u.tickCoord-e*(f/2+s),o[l-1]=lr(lr({},u),{},{isShow:!0}))}for(var m=i?l-1:l,v=function(x){var w=o[x],j,N=()=>(j===void 0&&(j=r(w,x)),j);if(x===0){var S=e*(w.coordinate-e*N()/2-c);o[x]=w=lr(lr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[x]=w=lr(lr({},w),{},{tickCoord:w.coordinate});var _=gf(e,w.tickCoord,N,c,d);_&&(c=w.tickCoord+e*(N()/2+s),o[x]=lr(lr({},w),{},{isShow:!0}))},g=0;g<m;g++)v(g);return o}function I0(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:o,orientation:l,interval:c,tickFormatter:d,unit:u,angle:f}=e;if(!s||!s.length||!n)return[];if(be(c)||Xa.isSsr){var h;return(h=TY(s,be(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],m=l==="top"||l==="bottom"?"width":"height",v=u&&m==="width"?Zl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(w,j)=>{var N=typeof d=="function"?d(w.value,j):w.value;return m==="width"?AY(Zl(N,{fontSize:t,letterSpacing:r}),v,f):Zl(N,{fontSize:t,letterSpacing:r})[m]},y=s.length>=2?Kt(s[1].coordinate-s[0].coordinate):1,x=OY(i,y,m);return c==="equidistantPreserveStart"?MY(y,x,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=zY(y,x,g,s,o,c==="preserveStartEnd"):p=IY(y,x,g,s,o),p.filter(w=>w.isShow))}var $Y=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,o=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,d=o+c+l+(r?n:0);return Math.round(d)}return 0},FY=["axisLine","width","height","className","hide","ticks"],BY=["viewBox"],qY=["viewBox"];function yg(e,t){if(e==null)return{};var r,n,s=UY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function UY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(null,arguments)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){HY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function VY(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var d=Dt(Dt(Dt({},c),st(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);d=Dt(Dt({},d),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var f=+(i==="left"&&!o||i==="right"&&o);d=Dt(Dt({},d),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+s})}return b.createElement("line",Ei({},d,{className:ze("recharts-cartesian-axis-line",wi(l,"className"))}))}function GY(e,t,r,n,s,i,o,l,c){var d,u,f,h,p,m,v=l?-1:1,g=e.tickSize||o,y=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":d=u=e.coordinate,h=r+ +!l*s,f=h-v*g,m=f-v*c,p=y;break;case"left":f=h=e.coordinate,u=t+ +!l*n,d=u-v*g,p=d-v*c,m=y;break;case"right":f=h=e.coordinate,u=t+ +l*n,d=u+v*g,p=d+v*c,m=y;break;default:d=u=e.coordinate,h=r+ +l*s,f=h+v*g,m=f+v*c,p=y;break}return{line:{x1:d,y1:f,x2:u,y2:h},tick:{x:p,y:m}}}function YY(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function XY(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ZY(e){var{option:t,tickProps:r,value:n}=e,s,i=ze(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))s=b.cloneElement(t,Dt(Dt({},r),{},{className:i}));else if(typeof t=="function")s=t(Dt(Dt({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ze(o,t==null?void 0:t.className)),s=b.createElement(Xh,Ei({},r,{className:o}),n)}return s}function QY(e){var{ticks:t=[],tick:r,tickLine:n,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:u,x:f,y:h,width:p,height:m,tickSize:v,tickMargin:g,fontSize:y,letterSpacing:x,getTicksConfig:w,events:j}=e,N=I0(Dt(Dt({},w),{},{ticks:t}),y,x),S=YY(d,u),_=XY(d,u),k=_n(w),P=st(r,!1),E=Dt(Dt({},k),{},{fill:"none"},st(n,!1)),C=N.map((A,D)=>{var{line:M,tick:O}=GY(A,f,h,p,m,d,v,u,g),z=Dt(Dt(Dt(Dt({textAnchor:S,verticalAnchor:_},k),{},{stroke:"none",fill:s},P),O),{},{index:D,payload:A,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return b.createElement(bt,Ei({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},$c(j,A,D)),n&&b.createElement("line",Ei({},E,M,{className:ze("recharts-cartesian-axis-tick-line",wi(n,"className"))})),r&&b.createElement(ZY,{option:r,tickProps:z,value:"".concat(typeof i=="function"?i(A.value,D):A.value).concat(o||"")}))});return C.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}var JY=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:o,ticks:l}=e,c=yg(e,FY),[d,u]=b.useState(""),[f,h]=b.useState(""),p=b.useRef([]);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return $Y({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=b.useCallback(v=>{if(v){var g=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(g);var y=g[0];if(y){var x=window.getComputedStyle(y),w=x.fontSize,j=x.letterSpacing;(w!==d||j!==f)&&(u(w),h(j))}}},[d,f]);return o||n!=null&&n<=0||s!=null&&s<=0?null:b.createElement(bt,{className:ze("recharts-cartesian-axis",i),ref:m},b.createElement(VY,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:_n(e)}),b.createElement(QY,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:f,getTicksConfig:e,events:c}),b.createElement(dK,{x:e.x,y:e.y,width:e.width,height:e.height},b.createElement(jK,{label:e.label}),e.children))}),eX=b.memo(JY,(e,t)=>{var{viewBox:r}=e,n=yg(e,BY),{viewBox:s}=t,i=yg(t,qY);return Po(r,s)&&Po(n,i)}),$0=b.forwardRef((e,t)=>{var r=It(e,z0);return b.createElement(eX,Ei({},r,{ref:t}))});$0.displayName="CartesianAxis";var tX=["x1","y1","x2","y2","key"],rX=["offset"],nX=["xAxisId","yAxisId"],aX=["xAxisId","yAxisId"];function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t,r){return(t=iX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(null,arguments)}function yf(e,t){if(e==null)return{};var r,n,s=lX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cX=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:o,ry:l}=e;return b.createElement("rect",{x:n,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function W4(e,t){var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:o,key:l}=t,c=yf(t,tX),d=_n(c),{offset:u}=d,f=yf(d,rX);r=b.createElement("line",oi({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function uX(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=yf(e,nX),c=s.map((d,u)=>{var f=ur(ur({},l),{},{x1:t,y1:d,x2:t+r,y2:d,key:"line-".concat(u),index:u});return W4(n,f)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function dX(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:o}=e,l=yf(e,aX),c=s.map((d,u)=>{var f=ur(ur({},l),{},{x1:d,y1:t,x2:d,y2:t+r,key:"line-".concat(u),index:u});return W4(n,f)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function fX(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var d=l.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var p=!d[h+1],m=p?s+o-f:d[h+1]-f;if(m<=0)return null;var v=h%t.length;return b.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function hX(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:o,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var d=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==d[0]&&d.unshift(0);var u=d.map((f,h)=>{var p=!d[h+1],m=p?s+o-f:d[h+1]-f;if(m<=0)return null;var v=h%r.length;return b.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:m,height:l,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var pX=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return RO(I0(ur(ur(ur({},z0),r),{},{ticks:LO(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},mX=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return RO(I0(ur(ur(ur({},z0),r),{},{ticks:LO(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},vX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function qa(e){var t=px(),r=mx(),n=BO(),s=ur(ur({},It(e,vX)),{},{x:be(e.x)?e.x:n.left,y:be(e.y)?e.y:n.top,width:be(e.width)?e.width:n.width,height:be(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:c,width:d,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=s,m=mr(),v=xe(P=>oS(P,"xAxis",i,m)),g=xe(P=>oS(P,"yAxis",o,m));if(!be(d)||d<=0||!be(u)||u<=0||!be(l)||l!==+l||!be(c)||c!==+c)return null;var y=s.verticalCoordinatesGenerator||pX,x=s.horizontalCoordinatesGenerator||mX,{horizontalPoints:w,verticalPoints:j}=s;if((!w||!w.length)&&typeof x=="function"){var N=h&&h.length,S=x({yAxis:g?ur(ur({},g),{},{ticks:N?h:g.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);Xl(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!j||!j.length)&&typeof y=="function"){var _=p&&p.length,k=y({xAxis:v?ur(ur({},v),{},{ticks:_?p:v.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Xl(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(j=k)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(cX,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),b.createElement(fX,oi({},s,{horizontalPoints:w})),b.createElement(hX,oi({},s,{verticalPoints:j})),b.createElement(uX,oi({},s,{offset:n,horizontalPoints:w,xAxis:v,yAxis:g})),b.createElement(dX,oi({},s,{offset:n,verticalPoints:j,xAxis:v,yAxis:g})))}qa.displayName="CartesianGrid";var K4=(e,t,r,n)=>la(e,"xAxis",t,n),V4=(e,t,r,n)=>oa(e,"xAxis",t,n),G4=(e,t,r,n)=>la(e,"yAxis",r,n),Y4=(e,t,r,n)=>oa(e,"yAxis",r,n),gX=te([Re,K4,G4,V4,Y4],(e,t,r,n,s)=>ca(e,"xAxis")?ki(t,n,!1):ki(r,s,!1)),yX=(e,t,r,n,s)=>s;function xX(e){return e.type==="line"}var bX=te([Qc,yX],(e,t)=>e.filter(xX).find(r=>r.id===t)),jX=te([Re,K4,G4,V4,Y4,bX,gX,Gc],(e,t,r,n,s,i,o,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:u}=l;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||o==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=c==null?void 0:c.slice(d,u+1),p!=null)return UX({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:f,bandSize:o,displayedData:p})}}),wX=["id"],NX=["type","layout","connectNulls","needClip"],_X=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){kX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kX(e,t,r){return(t=SX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F0(e,t){if(e==null)return{};var r,n,s=CX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(null,arguments)}var PX=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:$s(r,t),payload:e}]};function AX(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:$s(o,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var X4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function OX(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var TX=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return X4(t,e);for(var s=Math.floor(e/n),i=e%n,o=t-e,l=[],c=0,d=0;c<r.length;d+=r[c],++c)if(d+r[c]>i){l=[...r.slice(0,c),i-d];break}var u=l.length%2===0?[0,o]:[o];return[...OX(r,s),...l,...u].map(f=>"".concat(f,"px")).join(", ")};function MX(e,t){var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ze("recharts-line-dot",typeof e!="boolean"?e.className:"");r=b.createElement(N0,Ci({},t,{className:n}))}return r}function DX(e,t){return e==null?!1:t?!0:e.length===1}function RX(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:o}=n;if(!DX(r,s))return null;var{id:l}=n,c=F0(n,wX),d=gh(s),u=_n(c),f=st(s,!0),h=r.map((m,v)=>{var g=Ur(Ur(Ur({key:"dot-".concat(v),r:3},u),f),{},{index:v,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return MX(s,g)}),p={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return b.createElement(bt,Ci({className:"recharts-line-dots",key:"dots"},p),h)}function LX(e){var{showLabels:t,children:r,points:n}=e,s=b.useMemo(()=>n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return Ur(Ur({},o),{},{value:i.value,payload:i.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[n]);return b.createElement(w0,{value:t?s:null},r)}function t2(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:o,layout:l,connectNulls:c,needClip:d}=i,u=F0(i,NX),f=Ur(Ur({},st(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:l,connectNulls:c,strokeDasharray:s??i.strokeDasharray});return b.createElement(b.Fragment,null,(n==null?void 0:n.length)>1&&b.createElement(oo,Ci({},f,{pathRef:r})),b.createElement(RX,{points:n,clipPathId:t,props:i}))}function IX(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zX(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:v,onAnimationStart:g}=r,y=s.current,x=$o(r,"recharts-line-"),[w,j]=b.useState(!1),N=!w,S=b.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),_=b.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]),k=IX(n.current),P=i.current;return b.createElement(LX,{points:o,showLabels:N},r.children,b.createElement(zo,{animationId:x,begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:S,onAnimationStart:_,key:x},E=>{var C=Ve(P,k+P,E),A=Math.min(C,k),D;if(c)if(l){var M="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));D=TX(A,k,M)}else D=X4(k,A);else D=l==null?void 0:String(l);if(y){var O=y.length/o.length,z=E===1?o:o.map(($,q)=>{var R=Math.floor(q*O);if(y[R]){var L=y[R];return Ur(Ur({},$),{},{x:Ve(L.x,$.x,E),y:Ve(L.y,$.y,E)})}return h?Ur(Ur({},$),{},{x:Ve(p*2,$.x,E),y:Ve(m/2,$.y,E)}):Ur(Ur({},$),{},{x:$.x,y:$.y})});return s.current=z,b.createElement(t2,{props:r,points:z,clipPathId:t,pathRef:n,strokeDasharray:D})}return E>0&&k>0&&(s.current=o,i.current=A),b.createElement(t2,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:D})}),b.createElement(Zh,{label:r.label}))}function $X(e){var{clipPathId:t,props:r}=e,n=b.useRef(null),s=b.useRef(0),i=b.useRef(null);return b.createElement(zX,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var FX=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ye(e.payload,t)});class BX extends b.Component{render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:o,yAxisId:l,top:c,left:d,width:u,height:f,id:h,needClip:p}=this.props;if(r)return null;var m=ze("recharts-line",i),v=h,{r:g=3,strokeWidth:y=2}=(t=st(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},x=gh(n),w=g*2+y;return b.createElement(b.Fragment,null,b.createElement(bt,{className:m},p&&b.createElement("defs",null,b.createElement(R0,{clipPathId:v,xAxisId:o,yAxisId:l}),!x&&b.createElement("clipPath",{id:"clipPath-dots-".concat(v)},b.createElement("rect",{x:d-w/2,y:c-w/2,width:u+w,height:f+w}))),b.createElement(z4,{xAxisId:o,yAxisId:l,data:s,dataPointFormatter:FX,errorBarOffset:0},b.createElement($X,{props:this.props,clipPathId:v}))),b.createElement(vg,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Z4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Xa.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function qX(e){var t=It(e,Z4),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,hide:d,isAnimationActive:u,label:f,legendType:h,xAxisId:p,yAxisId:m,id:v}=t,g=F0(t,_X),{needClip:y}=rp(p,m),x=tp(),w=Uc(),j=mr(),N=xe(E=>jX(E,p,m,j,v));if(w!=="horizontal"&&w!=="vertical"||N==null||x==null)return null;var{height:S,width:_,x:k,y:P}=x;return b.createElement(BX,Ci({},g,{id:v,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:d,label:f,legendType:h,xAxisId:p,yAxisId:m,points:N,layout:w,height:S,width:_,left:k,top:P,needClip:y}))}function UX(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:o,bandSize:l,displayedData:c}=e;return c.map((d,u)=>{var f=Ye(d,o);if(t==="horizontal"){var h=Yd({axis:r,ticks:s,bandSize:l,entry:d,index:u}),p=at(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:d}}var m=at(f)?null:r.scale(f),v=Yd({axis:n,ticks:i,bandSize:l,entry:d,index:u});return m==null||v==null?null:{x:m,y:v,value:f,payload:d}}).filter(Boolean)}function HX(e){var t=It(e,Z4),r=mr();return b.createElement(Jh,{id:t.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(O0,{legendPayload:PX(t)}),b.createElement(Qh,{fn:AX,args:t}),b.createElement(T0,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),b.createElement(qX,Ci({},t,{id:n}))))}var Q4=b.memo(HX);Q4.displayName="Line";var J4=(e,t,r,n)=>la(e,"xAxis",t,n),e5=(e,t,r,n)=>oa(e,"xAxis",t,n),t5=(e,t,r,n)=>la(e,"yAxis",r,n),r5=(e,t,r,n)=>oa(e,"yAxis",r,n),WX=te([Re,J4,t5,e5,r5],(e,t,r,n,s)=>ca(e,"xAxis")?ki(t,n,!1):ki(r,s,!1)),KX=(e,t,r,n,s)=>s,n5=te([Qc,KX],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),VX=(e,t,r,n,s)=>{var i,o=n5(e,t,r,n,s);if(o!=null){var l=Re(e),c=ca(l,"xAxis"),d;if(c?d=Ec(e,"yAxis",r,n):d=Ec(e,"xAxis",t,n),d!=null){var{stackId:u}=o,f=qh(o);if(!(u==null||f==null)){var h=(i=d[u])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},GX=te([Re,J4,t5,e5,r5,VX,Gc,WX,n5],(e,t,r,n,s,i,o,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:f}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{data:h}=c,p;if(h&&h.length>0?p=h:p=d==null?void 0:d.slice(u,f+1),p!=null){var m=void 0;return mZ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:u,areaSettings:c,stackedData:i,displayedData:p,chartBaseValue:m,bandSize:l})}}}),YX=["id"],XX=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function a5(e,t){if(e==null)return{};var r,n,s=ZX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(null,arguments)}function xf(e,t){return e&&e!=="none"?e:t}var tZ=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:xf(n,s),value:$s(r,t),payload:e}]};function rZ(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:o,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:$s(o,t),hide:l,type:e.tooltipType,color:xf(n,i),unit:c}}}var nZ=(e,t)=>{var r;if(b.isValidElement(e))r=b.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ze("recharts-area-dot",typeof e!="boolean"?e.className:"");r=b.createElement(N0,Oa({},t,{className:n}))}return r};function aZ(e,t){return e==null?!1:t?!0:e.length===1}function sZ(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:i,dataKey:o}=n;if(!aZ(r,i))return null;var l=gh(i),c=_n(n),d=st(i,!0),u=r.map((h,p)=>{var m=ka(ka(ka({key:"dot-".concat(p),r:3},c),d),{},{index:p,cx:h.x,cy:h.y,dataKey:o,value:h.value,payload:h.payload,points:r});return nZ(i,m)}),f={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(t,")"):void 0};return b.createElement(bt,Oa({className:"recharts-area-dots"},f),u)}function iZ(e){var{showLabels:t,children:r,points:n}=e,s=n.map(i=>{var o={x:i.x,y:i.y,width:0,height:0};return ka(ka({},o),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return b.createElement(w0,{value:t?s:null},r)}function n2(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:i}=e,{layout:o,type:l,stroke:c,connectNulls:d,isRange:u}=i,{id:f}=i,h=a5(i,YX),p=_n(h);return b.createElement(b.Fragment,null,(t==null?void 0:t.length)>1&&b.createElement(bt,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},b.createElement(oo,Oa({},p,{id:f,points:t,connectNulls:d,type:l,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&b.createElement(oo,Oa({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:t})),c!=="none"&&u&&b.createElement(oo,Oa({},p,{className:"recharts-area-curve",layout:o,type:l,connectNulls:d,fill:"none",points:r}))),b.createElement(sZ,{points:t,props:h,clipPathId:s}))}function oZ(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].y,o=n[n.length-1].y;if(!ar(i)||!ar(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.x||0));return be(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.x||0),c)),be(c)?b.createElement("rect",{x:0,y:i<o?i:i-l,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(l)}):null}function lZ(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,i=n[0].x,o=n[n.length-1].x;if(!ar(i)||!ar(o))return null;var l=t*Math.abs(i-o),c=Math.max(...n.map(d=>d.y||0));return be(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(d=>d.y||0),c)),be(c)?b.createElement("rect",{x:i<o?i:i-l,y:0,width:l,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function cZ(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:i}=e;return r==="vertical"?b.createElement(oZ,{alpha:t,points:n,baseLine:s,strokeWidth:i}):b.createElement(lZ,{alpha:t,points:n,baseLine:s,strokeWidth:i})}function uZ(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i}=e,{points:o,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=$o(n,"recharts-area-"),[v,g]=b.useState(!1),y=!v,x=b.useCallback(()=>{typeof p=="function"&&p(),g(!1)},[p]),w=b.useCallback(()=>{typeof h=="function"&&h(),g(!0)},[h]),j=s.current,N=i.current;return b.createElement(iZ,{showLabels:y,points:o},n.children,b.createElement(zo,{animationId:m,begin:d,duration:u,isActive:c,easing:f,onAnimationEnd:x,onAnimationStart:w,key:m},S=>{if(j){var _=j.length/o.length,k=S===1?o:o.map((E,C)=>{var A=Math.floor(C*_);if(j[A]){var D=j[A];return ka(ka({},E),{},{x:Ve(D.x,E.x,S),y:Ve(D.y,E.y,S)})}return E}),P;return be(l)?P=Ve(N,l,S):at(l)||Lr(l)?P=Ve(N,0,S):P=l.map((E,C)=>{var A=Math.floor(C*_);if(Array.isArray(N)&&N[A]){var D=N[A];return ka(ka({},E),{},{x:Ve(D.x,E.x,S),y:Ve(D.y,E.y,S)})}return E}),S>0&&(s.current=k,i.current=P),b.createElement(n2,{points:k,baseLine:P,needClip:t,clipPathId:r,props:n})}return S>0&&(s.current=o,i.current=l),b.createElement(bt,null,c&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(r)},b.createElement(cZ,{alpha:S,points:o,baseLine:l,layout:n.layout,strokeWidth:n.strokeWidth}))),b.createElement(bt,{clipPath:"url(#animationClipPath-".concat(r,")")},b.createElement(n2,{points:o,baseLine:l,needClip:t,clipPathId:r,props:n})))}),b.createElement(Zh,{label:n.label}))}function dZ(e){var{needClip:t,clipPathId:r,props:n}=e,s=b.useRef(null),i=b.useRef();return b.createElement(uZ,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:i})}class fZ extends b.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:i,top:o,left:l,needClip:c,xAxisId:d,yAxisId:u,width:f,height:h,id:p,baseLine:m}=this.props;if(r)return null;var v=ze("recharts-area",i),g=p,{r:y=3,strokeWidth:x=2}=(t=st(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=gh(n),j=y*2+x;return b.createElement(b.Fragment,null,b.createElement(bt,{className:v},c&&b.createElement("defs",null,b.createElement(R0,{clipPathId:g,xAxisId:d,yAxisId:u}),!w&&b.createElement("clipPath",{id:"clipPath-dots-".concat(g)},b.createElement("rect",{x:l-j/2,y:o-j/2,width:f+j,height:h+j}))),b.createElement(dZ,{needClip:c,clipPathId:g,props:this.props})),b.createElement(vg,{points:s,mainColor:xf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&b.createElement(vg,{points:m,mainColor:xf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var s5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Xa.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function hZ(e){var t,r=It(e,s5),{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,connectNulls:l,dot:c,fill:d,fillOpacity:u,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:v,yAxisId:g}=r,y=a5(r,XX),x=Uc(),w=r4(),{needClip:j}=rp(v,g),N=mr(),{points:S,isRange:_,baseLine:k}=(t=xe(M=>GX(M,v,g,N,e.id)))!==null&&t!==void 0?t:{},P=tp();if(x!=="horizontal"&&x!=="vertical"||P==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:E,width:C,x:A,y:D}=P;return!S||!S.length?null:b.createElement(fZ,Oa({},y,{activeDot:n,animationBegin:s,animationDuration:i,animationEasing:o,baseLine:k,connectNulls:l,dot:c,fill:d,fillOpacity:u,height:E,hide:f,layout:x,isAnimationActive:h,isRange:_,legendType:p,needClip:j,points:S,stroke:m,width:C,left:A,top:D,xAxisId:v,yAxisId:g}))}var pZ=(e,t,r,n,s)=>{var i=r??t;if(be(i))return i;var o=e==="horizontal"?s:n,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return i==="dataMin"?d:i==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return i==="dataMin"?l[0]:i==="dataMax"?l[1]:l[0]};function mZ(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:i,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=s&&s.length,v=pZ(i,o,r,l,c),g=i==="horizontal",y=!1,x=d.map((j,N)=>{var S;m?S=s[u+N]:(S=Ye(j,n),Array.isArray(S)?y=!0:S=[v,S]);var _=S[1]==null||m&&!t&&Ye(j,n)==null;return g?{x:Yd({axis:l,ticks:f,bandSize:p,entry:j,index:N}),y:_?null:c.scale(S[1]),value:S,payload:j}:{x:_?null:l.scale(S[1]),y:Yd({axis:c,ticks:h,bandSize:p,entry:j,index:N}),value:S,payload:j}}),w;return m||y?w=x.map(j=>{var N=Array.isArray(j.value)?j.value[0]:null;return g?{x:j.x,y:N!=null&&j.y!=null?c.scale(N):null,payload:j.payload}:{x:N!=null?l.scale(N):null,y:j.y,payload:j.payload}}):w=g?c.scale(v):l.scale(v),{points:x,baseLine:w,isRange:y}}function vZ(e){var t=It(e,s5),r=mr();return b.createElement(Jh,{id:t.id,type:"area"},n=>b.createElement(b.Fragment,null,b.createElement(O0,{legendPayload:tZ(t)}),b.createElement(Qh,{fn:rZ,args:t}),b.createElement(T0,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:IO(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),b.createElement(hZ,Oa({},t,{id:n}))))}var xg=b.memo(vZ);xg.displayName="Area";var gZ=["dangerouslySetInnerHTML","ticks"],yZ=["id"],xZ=["domain"],bZ=["domain"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function bf(e,t){if(e==null)return{};var r,n,s=jZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wZ(e){var t=yt();return b.useEffect(()=>(t(YV(e)),()=>{t(XV(e))}),[e,t]),null}var NZ=e=>{var{xAxisId:t,className:r}=e,n=xe(fx),s=mr(),i="xAxis",o=xe(g=>Ko(g,i,t,s)),l=xe(g=>RM(g,i,t,s)),c=xe(g=>OM(g,t)),d=xe(g=>qU(g,t)),u=xe(g=>lM(g,t));if(c==null||d==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=bf(e,gZ),{id:m}=u,v=bf(u,yZ);return b.createElement($0,bg({},p,v,{scale:o,x:d.x,y:d.y,width:c.width,height:c.height,className:ze("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},_Z={allowDataOverflow:zr.allowDataOverflow,allowDecimals:zr.allowDecimals,allowDuplicatedCategory:zr.allowDuplicatedCategory,height:zr.height,hide:!1,mirror:zr.mirror,orientation:zr.orientation,padding:zr.padding,reversed:zr.reversed,scale:zr.scale,tickCount:zr.tickCount,type:zr.type,xAxisId:0},kZ=e=>{var t,r,n,s,i,o=It(e,_Z);return b.createElement(b.Fragment,null,b.createElement(wZ,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),b.createElement(NZ,o))},SZ=(e,t)=>{var{domain:r}=e,n=bf(e,xZ),{domain:s}=t,i=bf(t,bZ);return Po(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:Po({domain:r},{domain:s}):!1},Ua=b.memo(kZ,SZ);Ua.displayName="XAxis";var EZ=["dangerouslySetInnerHTML","ticks"],CZ=["id"],PZ=["domain"],AZ=["domain"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}function jf(e,t){if(e==null)return{};var r,n,s=OZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TZ(e){var t=yt();return b.useEffect(()=>(t(ZV(e)),()=>{t(QV(e))}),[e,t]),null}var MZ=e=>{var{yAxisId:t,className:r,width:n,label:s}=e,i=b.useRef(null),o=b.useRef(null),l=xe(fx),c=mr(),d=yt(),u="yAxis",f=xe(N=>Ko(N,u,t,c)),h=xe(N=>TM(N,t)),p=xe(N=>HU(N,t)),m=xe(N=>RM(N,u,t,c)),v=xe(N=>cM(N,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!h||j0(s)||b.isValidElement(s)||v==null)){var N=i.current;if(N){var S=N.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&d(JV({id:t,width:S}))}}},[m,h,d,s,t,n,v]),h==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,x=jf(e,EZ),{id:w}=v,j=jf(v,CZ);return b.createElement($0,jg({},x,j,{ref:i,labelRef:o,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ze("recharts-".concat(u," ").concat(u),r),viewBox:l,ticks:m}))},DZ={allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,hide:!1,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tickCount:$r.tickCount,type:$r.type,width:$r.width,yAxisId:0},RZ=e=>{var t,r,n,s,i,o=It(e,DZ);return b.createElement(b.Fragment,null,b.createElement(TZ,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(r=o.includeHidden)!==null&&r!==void 0?r:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(n=o.angle)!==null&&n!==void 0?n:0,minTickGap:(s=o.minTickGap)!==null&&s!==void 0?s:5,tick:(i=o.tick)!==null&&i!==void 0?i:!0,tickFormatter:o.tickFormatter}),b.createElement(MZ,o))},LZ=(e,t)=>{var{domain:r}=e,n=jf(e,PZ),{domain:s}=t,i=jf(t,AZ);return Po(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(s)&&s.length===2?r[0]===s[0]&&r[1]===s[1]:Po({domain:r},{domain:s}):!1},Ha=b.memo(RZ,LZ);Ha.displayName="YAxis";var IZ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=b;function zZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $Z=typeof Object.is=="function"?Object.is:zZ,FZ=au.useSyncExternalStore,BZ=au.useRef,qZ=au.useEffect,UZ=au.useMemo,HZ=au.useDebugValue;IZ.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=BZ(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=UZ(function(){function c(p){if(!d){if(d=!0,u=p,p=n(p),s!==void 0&&o.hasValue){var m=o.value;if(s(m,p))return f=m}return f=p}if(m=f,$Z(u,p))return m;var v=n(p);return s!==void 0&&s(m,v)?(u=p,m):(u=p,f=v)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=FZ(e,i[0],i[1]);return qZ(function(){o.hasValue=!0,o.value=l},[l]),HZ(l),l};function WZ(e){e()}function KZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){WZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var a2={notify(){},get:()=>[]};function VZ(e,t){let r,n=a2,s=0,i=!1;function o(v){u();const g=n.subscribe(v);let y=!1;return()=>{y||(y=!0,g(),f())}}function l(){n.notify()}function c(){m.onStateChange&&m.onStateChange()}function d(){return i}function u(){s++,r||(r=e.subscribe(c),n=KZ())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=a2)}function h(){i||(i=!0,u())}function p(){i&&(i=!1,f())}const m={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var GZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YZ=GZ(),XZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZZ=XZ(),QZ=()=>YZ||ZZ?b.useLayoutEffect:b.useEffect,JZ=QZ(),gm=Symbol.for("react-redux-context"),ym=typeof globalThis<"u"?globalThis:{};function eQ(){if(!b.createContext)return{};const e=ym[gm]??(ym[gm]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var tQ=eQ();function rQ(e){const{children:t,context:r,serverState:n,store:s}=e,i=b.useMemo(()=>{const c=VZ(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),o=b.useMemo(()=>s.getState(),[s]);JZ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||tQ;return b.createElement(l.Provider,{value:i},t)}var nQ=rQ,aQ=(e,t)=>t,B0=te([aQ,Re,sM,$t,XM,es,GH,Lt],JH),q0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},i5=jn("mouseClick"),o5=Bc();o5.startListening({actionCreator:i5,effect:(e,t)=>{var r=e.payload,n=B0(t.getState(),q0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(nH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var wg=jn("mouseMove"),l5=Bc();l5.startListening({actionCreator:wg,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=f0(n,n.tooltip.settings.shared),i=B0(n,q0(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(UM({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(qM()))}});var s2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},c5=rn({name:"rootProps",initialState:s2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:s2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),sQ=c5.reducer,{updateOptions:iQ}=c5.actions,u5=rn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:oQ}=u5.actions,lQ=u5.reducer,d5=jn("keyDown"),f5=jn("focus"),U0=Bc();U0.startListening({actionCreator:d5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Number(h0(s,Go(r))),l=es(r);if(i==="Enter"){var c=ff(r,"axis","hover",String(s.index));t.dispatch(dg({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var d=GU(r),u=d==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=o+f*u;if(!(l==null||h>=l.length||h<0)){var p=ff(r,"axis","hover",String(h));t.dispatch(dg({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});U0.startListening({actionCreator:f5,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",o=ff(r,"axis","hover",String(i));t.dispatch(dg({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:o}))}}}});var dn=jn("externalEvent"),h5=Bc();h5.startListening({actionCreator:dn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:$H(r),activeDataKey:e4(r),activeIndex:As(r),activeLabel:JM(r),activeTooltipIndex:As(r),isTooltipActive:FH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var cQ=te([Vo],e=>e.tooltipItemPayloads),uQ=te([cQ,tu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var o=t(i,r);return o}}}),p5=jn("touchMove"),m5=Bc();m5.startListening({actionCreator:p5,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=f0(n,n.tooltip.settings.shared);if(s==="axis"){var i=B0(n,q0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(UM({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var o,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute($O),u=(o=c.getAttribute(FO))!==null&&o!==void 0?o:void 0,f=uQ(t.getState(),d,u);t.dispatch(BM({activeDataKey:u,activeIndex:d,activeCoordinate:f}))}}});var dQ=uO({brush:bY,cartesianAxis:eG,chartData:pW,errorBars:xG,graphicalItems:xV,layout:eF,legend:UF,options:cW,polarAxis:zK,polarOptions:lQ,referenceElements:EY,rootProps:sQ,tooltip:aH}),fQ=function(t){return k$({reducer:dQ,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([o5.middleware,l5.middleware,U0.middleware,h5.middleware,m5.middleware]),devTools:Xa.devToolsEnabled})};function v5(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=mr(),i=b.useRef(null);if(s)return r;i.current==null&&(i.current=fQ(t));var o=ax;return b.createElement(nQ,{context:o,store:i.current},r)}function g5(e){var{layout:t,width:r,height:n,margin:s}=e,i=yt(),o=mr();return b.useEffect(()=>{o||(i(Z$(t)),i(Q$({width:r,height:n})),i(X$(s)))},[i,o,t,r,n,s]),null}function y5(e){var t=yt();return b.useEffect(()=>{t(iQ(e))},[t,e]),null}var hQ=["children"];function pQ(e,t){if(e==null)return{};var r,n,s=mQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(null,arguments)}var vQ={width:"100%",height:"100%"},gQ=b.forwardRef((e,t)=>{var r=px(),n=mx(),s=WO();if(!_o(r)||!_o(n))return null;var{children:i,otherAttributes:o,title:l,desc:c}=e,d,u;return typeof o.tabIndex=="number"?d=o.tabIndex:d=s?0:void 0,typeof o.role=="string"?u=o.role:u=s?"application":void 0,b.createElement(qy,wf({},o,{title:l,desc:c,role:u,tabIndex:d,width:r,height:n,style:vQ,ref:t}),i)}),yQ=e=>{var{children:t}=e,r=xe(Th);if(!r)return null;var{width:n,height:s,y:i,x:o}=r;return b.createElement(qy,{width:n,height:s,x:o,y:i},t)},i2=b.forwardRef((e,t)=>{var{children:r}=e,n=pQ(e,hQ),s=mr();return s?b.createElement(yQ,null,r):b.createElement(gQ,wf({ref:t},n),r)});function xQ(){var e=yt(),[t,r]=b.useState(null),n=xe(CF);return b.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;ar(i)&&i!==n&&e(J$(i))}},[t,e,n]),r}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){jQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Q=b.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:v,style:g,width:y}=e,x=yt(),[w,j]=b.useState(null),[N,S]=b.useState(null);NW();var _=xQ(),k=b.useCallback(I=>{_(I),typeof t=="function"&&t(I),j(I),S(I)},[_,t,j,S]),P=b.useCallback(I=>{x(i5(I)),x(dn({handler:i,reactEvent:I}))},[x,i]),E=b.useCallback(I=>{x(wg(I)),x(dn({handler:d,reactEvent:I}))},[x,d]),C=b.useCallback(I=>{x(qM()),x(dn({handler:u,reactEvent:I}))},[x,u]),A=b.useCallback(I=>{x(wg(I)),x(dn({handler:f,reactEvent:I}))},[x,f]),D=b.useCallback(()=>{x(f5())},[x]),M=b.useCallback(I=>{x(d5(I.key))},[x]),O=b.useCallback(I=>{x(dn({handler:o,reactEvent:I}))},[x,o]),z=b.useCallback(I=>{x(dn({handler:l,reactEvent:I}))},[x,l]),$=b.useCallback(I=>{x(dn({handler:c,reactEvent:I}))},[x,c]),q=b.useCallback(I=>{x(dn({handler:h,reactEvent:I}))},[x,h]),R=b.useCallback(I=>{x(dn({handler:v,reactEvent:I}))},[x,v]),L=b.useCallback(I=>{x(p5(I)),x(dn({handler:m,reactEvent:I}))},[x,m]),T=b.useCallback(I=>{x(dn({handler:p,reactEvent:I}))},[x,p]);return b.createElement(o4.Provider,{value:w},b.createElement(vA.Provider,{value:N},b.createElement("div",{className:ze("recharts-wrapper",n),style:bQ({position:"relative",cursor:"default",width:y,height:s},g),onClick:P,onContextMenu:O,onDoubleClick:z,onFocus:D,onKeyDown:M,onMouseDown:$,onMouseEnter:E,onMouseLeave:C,onMouseMove:A,onMouseUp:q,onTouchEnd:T,onTouchMove:L,onTouchStart:R,ref:k},r)))}),kQ=["children","className","width","height","style","compact","title","desc"];function SQ(e,t){if(e==null)return{};var r,n,s=EQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var x5=b.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:o,compact:l,title:c,desc:d}=e,u=SQ(e,kQ),f=_n(u);return l?b.createElement(i2,{otherAttributes:f,title:c,desc:d},r):b.createElement(_Q,{className:n,style:o,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(i2,{otherAttributes:f,title:c,desc:d,ref:t},b.createElement(PY,null,r)))}),CQ=["width","height"];function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(null,arguments)}function PQ(e,t){if(e==null)return{};var r,n,s=AQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OQ={top:5,right:5,bottom:5,left:5},TQ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:OQ,reverseStackOrder:!1,syncMethod:"index"},H0=b.forwardRef(function(t,r){var n,s=It(t.categoricalChartProps,TQ),{width:i,height:o}=s,l=PQ(s,CQ);if(!_o(i)||!_o(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(v5,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},b.createElement(B4,{chartData:h.data}),b.createElement(g5,{width:i,height:o,layout:s.layout,margin:s.margin}),b.createElement(y5,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),b.createElement(x5,Ng({},l,{width:i,height:o,ref:r})))}),MQ=["axis"],DQ=b.forwardRef((e,t)=>b.createElement(H0,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MQ,tooltipPayloadSearcher:Yh,categoricalChartProps:e,ref:t})),RQ=["axis","item"],Yo=b.forwardRef((e,t)=>b.createElement(H0,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RQ,tooltipPayloadSearcher:Yh,categoricalChartProps:e,ref:t}));function LQ(e){var t=yt();return b.useEffect(()=>{t(oQ(e))},[t,e]),null}var IQ=["width","height","layout"];function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(null,arguments)}function zQ(e,t){if(e==null)return{};var r,n,s=$Q(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FQ={top:5,right:5,bottom:5,left:5},BQ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:FQ,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},qQ=b.forwardRef(function(t,r){var n,s=It(t.categoricalChartProps,BQ),{width:i,height:o,layout:l}=s,c=zQ(s,IQ);if(!_o(i)||!_o(o))return null;var{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return b.createElement(v5,{preloadedState:{options:p},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:d},b.createElement(B4,{chartData:s.data}),b.createElement(g5,{width:i,height:o,layout:l,margin:s.margin}),b.createElement(y5,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),b.createElement(LQ,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),b.createElement(x5,_g({width:i,height:o},c,{ref:r})))}),UQ=["item"],HQ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},W0=b.forwardRef((e,t)=>{var r=It(e,HQ);return b.createElement(qQ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:UQ,tooltipPayloadSearcher:Yh,categoricalChartProps:r,ref:t})}),WQ=["axis"],KQ=b.forwardRef((e,t)=>b.createElement(H0,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:WQ,tooltipPayloadSearcher:Yh,categoricalChartProps:e,ref:t}));const un={primary:"#6366f1",success:"#10b981",warning:"#f59e0b",danger:"#ef4444",info:"#3b82f6",orange:"#f97316",slate:"#64748b"},l2=["#6366f1","#f59e0b","#f97316","#10b981","#8b5cf6","#64748b","#ef4444"],VQ=()=>{var I,U,K,H,B,F,V,W,Y,ie,ee,ue;const{user:e}=sr(),t=jt(),{showToast:r}=Nn(),n=b.useRef(null),s=Zn("system_name","Nexus Support"),[i,o]=b.useState(null),[l,c]=b.useState([]),[d,u]=b.useState([]),[f,h]=b.useState([]),[p,m]=b.useState([]),[v,g]=b.useState([]),[y,x]=b.useState([]),[w,j]=b.useState([]),[N,S]=b.useState(!0),[_,k]=b.useState(!1),[P,E]=b.useState(""),[C,A]=b.useState(null),D=b.useCallback(async(re=!1)=>{var de;re?k(!0):S(!0),E("");try{const[ve,me]=await Promise.all([oe.get("/dashboard/stats"),oe.get("/dashboard/activity?limit=10").catch(()=>({data:{data:[]}}))]);if(ve.data.success){const Z=ve.data.data;o(Z.summary),x(Z.recentTickets||[]),c(Z.trend||[]),u((Z.ticketsByStatus||[]).filter(J=>J.value>0)),h((Z.ticketsByPriority||[]).filter(J=>J.value>0)),m(Z.departmentLoad||[]),g(Z.topPerformers||[]),A(new Date)}(de=me.data)!=null&&de.data&&j(me.data.data),re&&r("Dashboard refreshed","success")}catch(ve){console.error("Dashboard fetch error:",ve),E("Failed to load dashboard data"),re||r("Failed to load dashboard","error")}finally{S(!1),k(!1)}},[r]);b.useEffect(()=>(D(),n.current=setInterval(()=>D(!0),6e4),()=>clearInterval(n.current)),[D]);const M=()=>{const re=new Date().getHours();return re<12?"Good Morning":re<18?"Good Afternoon":"Good Evening"},O=re=>re?new Date(re).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",z=re=>{if(!re)return"";const de=Math.floor((Date.now()-new Date(re))/1e3);return de<60?"just now":de<3600?`${Math.floor(de/60)}m ago`:de<86400?`${Math.floor(de/3600)}h ago`:`${Math.floor(de/86400)}d ago`},$=re=>({OPEN:"status-open",IN_PROGRESS:"status-progress",PENDING:"status-pending",CLOSED:"status-closed",ON_HOLD:"status-hold",CANCELLED:"status-cancelled",ESCALATED:"status-escalated"})[re]||"status-default",q=re=>({CRITICAL:"priority-critical",HIGH:"priority-high",MEDIUM:"priority-medium",LOW:"priority-low",PLANNING:"priority-planning"})[re]||"priority-default",R=re=>{const de=(re||"").toLowerCase();return de.includes("creat")?a.jsx(Vr,{size:14}):de.includes("assign")?a.jsx(di,{size:14}):de.includes("close")||de.includes("resolv")?a.jsx(Ce,{size:14}):de.includes("escalat")?a.jsx(Ev,{size:14}):de.includes("comment")||de.includes("note")?a.jsx(Ss,{size:14}):a.jsx(Ee,{size:14})},L=({active:re,payload:de,label:ve})=>!re||!(de!=null&&de.length)?null:a.jsxs("div",{className:"db-chart-tooltip",children:[a.jsx("p",{className:"db-chart-tooltip-label",children:ve}),de.map((me,Z)=>a.jsxs("p",{style:{color:me.color},children:[me.name,": ",a.jsx("strong",{children:me.value})]},Z))]});if(N)return a.jsx("div",{className:"db-page",children:a.jsxs("div",{className:"db-loading",children:[a.jsx("div",{className:"db-loading-spinner"}),a.jsx("p",{children:"Loading dashboard..."})]})});if(P&&!i)return a.jsx("div",{className:"db-page",children:a.jsxs("div",{className:"db-error",children:[a.jsx(Se,{size:48}),a.jsx("h3",{children:"Failed to load dashboard"}),a.jsx("p",{children:P}),a.jsxs("button",{className:"db-retry-btn",onClick:()=>D(),children:[a.jsx(ut,{size:16})," Retry"]})]})});const T=i||{};return a.jsx("div",{className:"db-page",children:a.jsxs("div",{className:"db-content",children:[a.jsxs("div",{className:"db-welcome",children:[a.jsxs("div",{className:"db-welcome-left",children:[a.jsxs("h1",{className:"db-greeting",children:[M(),", ",(e==null?void 0:e.full_name)||(e==null?void 0:e.username),"!",a.jsx("span",{className:"db-wave",children:""})]}),a.jsxs("p",{className:"db-subtitle",children:["Welcome to ",a.jsx("strong",{children:s}),"  here's your overview for today"]}),C&&a.jsxs("span",{className:"db-last-updated",children:[a.jsx(Ee,{size:12})," Updated ",z(C)]})]}),a.jsxs("div",{className:"db-welcome-right",children:[a.jsx("button",{className:`db-refresh-btn ${_?"spinning":""}`,onClick:()=>D(!0),disabled:_,title:"Refresh",children:a.jsx(ut,{size:18})}),a.jsxs("button",{className:"db-create-btn",onClick:()=>t("/tickets/create"),children:[a.jsx(Vr,{size:18}),a.jsx("span",{children:"New Ticket"})]})]})]}),a.jsxs("div",{className:"db-stats-row",children:[a.jsx(Kn,{icon:a.jsx(Pt,{size:22}),label:"Total Tickets",value:T.totalTickets,className:"db-stat-total",onClick:()=>t("/tickets"),trend:T.trendDirection,trendPct:T.trendPercent,sub:`${T.todayCreated||0} today`}),a.jsx(Kn,{icon:a.jsx(Se,{size:22}),label:"Open",value:T.openTickets,className:"db-stat-open",onClick:()=>t("/tickets?status=OPEN")}),a.jsx(Kn,{icon:a.jsx(Ss,{size:22}),label:"In Progress",value:T.inProgressTickets,className:"db-stat-progress",onClick:()=>t("/tickets?status=IN_PROGRESS")}),a.jsx(Kn,{icon:a.jsx(Ce,{size:22}),label:"Closed",value:T.closedTickets,className:"db-stat-closed",onClick:()=>t("/tickets?status=CLOSED")}),a.jsx(Kn,{icon:a.jsx(Ev,{size:22}),label:"Escalated",value:T.escalatedTickets,className:"db-stat-escalated",onClick:()=>t("/tickets?escalated=true")})]}),a.jsxs("div",{className:"db-stats-row db-stats-secondary",children:[a.jsx(Kn,{icon:a.jsx(Te,{size:20}),label:"Pending",value:T.pendingTickets,className:"db-stat-pending",onClick:()=>t("/tickets?status=PENDING"),compact:!0}),a.jsx(Kn,{icon:a.jsx(k6,{size:20}),label:"On Hold",value:T.onHoldTickets,className:"db-stat-onhold",onClick:()=>t("/tickets?status=ON_HOLD"),compact:!0}),a.jsx(Kn,{icon:a.jsx(y6,{size:20}),label:"Cancelled",value:T.cancelledTickets,className:"db-stat-cancelled",onClick:()=>t("/tickets?status=CANCELLED"),compact:!0}),a.jsx(Kn,{icon:a.jsx(Pt,{size:20}),label:"My Assigned",value:T.myAssignedTickets,className:"db-stat-assigned",onClick:()=>t("/my-tickets"),compact:!0}),T.totalUsers!==null&&a.jsx(Kn,{icon:a.jsx(fr,{size:20}),label:"Users",value:T.totalUsers,className:"db-stat-users",onClick:()=>t("/users"),compact:!0})]}),a.jsxs("div",{className:"db-row-2col",children:[a.jsxs("div",{className:"db-card",children:[a.jsxs("div",{className:"db-card-header",children:[a.jsxs("div",{className:"db-card-title",children:[a.jsx(Ae,{size:18}),a.jsx("h3",{children:"SLA Performance"})]}),a.jsxs("span",{className:"db-card-badge db-badge-compliance",children:[((I=T.slaStats)==null?void 0:I.complianceRate)||0,"% Compliance"]})]}),a.jsxs("div",{className:"db-card-body db-sla-body",children:[a.jsxs("div",{className:"db-sla-grid",children:[a.jsxs("div",{className:"db-sla-item db-sla-ontrack",onClick:()=>t("/tickets?sla_status=ok"),children:[a.jsx(Ce,{size:20}),a.jsxs("div",{children:[a.jsx("span",{className:"db-sla-value",children:((U=T.slaStats)==null?void 0:U.onTrack)||0}),a.jsx("span",{className:"db-sla-label",children:"On Track"})]})]}),a.jsxs("div",{className:"db-sla-item db-sla-atrisk",onClick:()=>t("/tickets?sla_status=warning"),children:[a.jsx(Te,{size:20}),a.jsxs("div",{children:[a.jsx("span",{className:"db-sla-value",children:((K=T.slaStats)==null?void 0:K.atRisk)||0}),a.jsx("span",{className:"db-sla-label",children:"At Risk"})]})]}),a.jsxs("div",{className:"db-sla-item db-sla-breached",onClick:()=>t("/tickets?sla_status=breached"),children:[a.jsx(Rr,{size:20}),a.jsxs("div",{children:[a.jsx("span",{className:"db-sla-value",children:((H=T.slaStats)==null?void 0:H.breached)||0}),a.jsx("span",{className:"db-sla-label",children:"Breached"})]})]})]}),a.jsxs("div",{className:"db-sla-bar-wrap",children:[a.jsxs("div",{className:"db-sla-bar",children:[a.jsx("div",{className:"db-sla-bar-ok",style:{width:`${(((B=T.slaStats)==null?void 0:B.onTrack)||0)/Math.max(((F=T.slaStats)==null?void 0:F.total)||1,1)*100}%`}}),a.jsx("div",{className:"db-sla-bar-warn",style:{width:`${(((V=T.slaStats)==null?void 0:V.atRisk)||0)/Math.max(((W=T.slaStats)==null?void 0:W.total)||1,1)*100}%`}}),a.jsx("div",{className:"db-sla-bar-bad",style:{width:`${(((Y=T.slaStats)==null?void 0:Y.breached)||0)/Math.max(((ie=T.slaStats)==null?void 0:ie.total)||1,1)*100}%`}})]}),a.jsxs("div",{className:"db-sla-bar-labels",children:[a.jsx("span",{className:"db-sla-bar-label-ok",children:"On Track"}),a.jsx("span",{className:"db-sla-bar-label-warn",children:"At Risk"}),a.jsx("span",{className:"db-sla-bar-label-bad",children:"Breached"})]})]})]})]}),a.jsxs("div",{className:"db-card",children:[a.jsxs("div",{className:"db-card-header",children:[a.jsxs("div",{className:"db-card-title",children:[a.jsx(YP,{size:18}),a.jsx("h3",{children:"7-Day Ticket Trend"})]}),a.jsxs("div",{className:"db-trend-indicator",children:[T.trendDirection==="up"&&a.jsx(La,{size:16,className:"db-trend-up"}),T.trendDirection==="down"&&a.jsx(iA,{size:16,className:"db-trend-down"}),T.trendDirection==="flat"&&a.jsx(nA,{size:16,className:"db-trend-flat"}),T.trendPercent>0&&a.jsxs("span",{className:`db-trend-pct db-trend-${T.trendDirection}`,children:[T.trendPercent,"%"]})]})]}),a.jsx("div",{className:"db-card-body db-chart-body",children:l.length>0?a.jsx(Rn,{width:"100%",height:200,children:a.jsxs(KQ,{data:l,margin:{top:5,right:10,left:-20,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"gradCreated",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:un.primary,stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:un.primary,stopOpacity:0})]}),a.jsxs("linearGradient",{id:"gradClosed",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:un.success,stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:un.success,stopOpacity:0})]})]}),a.jsx(qa,{strokeDasharray:"3 3",stroke:"var(--db-grid, #e2e8f0)"}),a.jsx(Ua,{dataKey:"day",tick:{fontSize:11,fill:"var(--db-muted, #94a3b8)"}}),a.jsx(Ha,{allowDecimals:!1,tick:{fontSize:11,fill:"var(--db-muted, #94a3b8)"}}),a.jsx(Dn,{content:a.jsx(L,{})}),a.jsx(xg,{type:"monotone",dataKey:"created",name:"Created",stroke:un.primary,fill:"url(#gradCreated)",strokeWidth:2,dot:{r:3}}),a.jsx(xg,{type:"monotone",dataKey:"closed",name:"Closed",stroke:un.success,fill:"url(#gradClosed)",strokeWidth:2,dot:{r:3}}),a.jsx(za,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:11}})]})}):a.jsxs("div",{className:"db-chart-empty",children:[a.jsx(vn,{size:32}),a.jsx("p",{children:"No trend data available"})]})})]})]}),a.jsxs("div",{className:"db-row-3col",children:[a.jsxs("div",{className:"db-card",children:[a.jsx("div",{className:"db-card-header",children:a.jsxs("div",{className:"db-card-title",children:[a.jsx(m_,{size:18}),a.jsx("h3",{children:"By Status"})]})}),a.jsx("div",{className:"db-card-body db-chart-body db-chart-center",children:d.length>0?a.jsx(Rn,{width:"100%",height:220,children:a.jsxs(W0,{children:[a.jsx(ep,{data:d,dataKey:"value",nameKey:"label",cx:"50%",cy:"50%",innerRadius:45,outerRadius:80,paddingAngle:3,strokeWidth:0,children:d.map((re,de)=>a.jsx(Os,{fill:l2[de%l2.length]},de))}),a.jsx(Dn,{formatter:(re,de)=>[`${re} tickets`,de]}),a.jsx(za,{iconType:"circle",iconSize:8,wrapperStyle:{fontSize:11}})]})}):a.jsxs("div",{className:"db-chart-empty",children:[a.jsx(m_,{size:32}),a.jsx("p",{children:"No data"})]})})]}),a.jsxs("div",{className:"db-card",children:[a.jsx("div",{className:"db-card-header",children:a.jsxs("div",{className:"db-card-title",children:[a.jsx(Te,{size:18}),a.jsx("h3",{children:"By Priority"})]})}),a.jsx("div",{className:"db-card-body db-chart-body",children:f.length>0?a.jsx(Rn,{width:"100%",height:220,children:a.jsxs(Yo,{data:f,margin:{top:5,right:10,left:-20,bottom:0},children:[a.jsx(qa,{strokeDasharray:"3 3",stroke:"var(--db-grid, #e2e8f0)"}),a.jsx(Ua,{dataKey:"label",tick:{fontSize:10,fill:"var(--db-muted, #94a3b8)"}}),a.jsx(Ha,{allowDecimals:!1,tick:{fontSize:11,fill:"var(--db-muted, #94a3b8)"}}),a.jsx(Dn,{content:a.jsx(L,{})}),a.jsx(Aa,{dataKey:"value",name:"Tickets",radius:[6,6,0,0],maxBarSize:40,children:f.map((re,de)=>{const ve={CRITICAL:un.danger,HIGH:un.orange,MEDIUM:un.warning,LOW:un.success,PLANNING:un.info};return a.jsx(Os,{fill:ve[re.code]||un.slate},de)})})]})}):a.jsxs("div",{className:"db-chart-empty",children:[a.jsx(Te,{size:32}),a.jsx("p",{children:"No data"})]})})]}),a.jsxs("div",{className:"db-card",children:[a.jsx("div",{className:"db-card-header",children:a.jsxs("div",{className:"db-card-title",children:[a.jsx(fr,{size:18}),a.jsx("h3",{children:"Department Load"})]})}),a.jsx("div",{className:"db-card-body db-dept-body",children:p.length>0?a.jsx("div",{className:"db-dept-list",children:p.map((re,de)=>{const ve=Math.max(...p.map(me=>me.count),1);return a.jsxs("div",{className:"db-dept-item",children:[a.jsxs("div",{className:"db-dept-info",children:[a.jsx("span",{className:"db-dept-name",children:re.name}),a.jsx("span",{className:"db-dept-count",children:re.count})]}),a.jsx("div",{className:"db-dept-bar-bg",children:a.jsx("div",{className:"db-dept-bar-fill",style:{width:`${re.count/ve*100}%`}})})]},de)})}):a.jsxs("div",{className:"db-chart-empty",children:[a.jsx(fr,{size:32}),a.jsx("p",{children:"No active tickets"})]})})]})]}),a.jsxs("div",{className:"db-row-bottom",children:[a.jsxs("div",{className:"db-card db-card-tickets",children:[a.jsxs("div",{className:"db-card-header",children:[a.jsxs("div",{className:"db-card-title",children:[a.jsx(Ss,{size:18}),a.jsx("h3",{children:"Recent Tickets"})]}),a.jsxs("button",{className:"db-card-link",onClick:()=>t("/tickets"),children:["View All ",a.jsx(Br,{size:14})]})]}),a.jsx("div",{className:"db-card-body",children:y.length===0?a.jsxs("div",{className:"db-empty",children:[a.jsx(Pt,{size:40}),a.jsx("p",{children:"No tickets yet"}),a.jsxs("button",{className:"db-empty-btn",onClick:()=>t("/tickets/create"),children:[a.jsx(Vr,{size:16})," Create First Ticket"]})]}):a.jsx("div",{className:"db-ticket-list",children:y.map(re=>a.jsxs("div",{className:"db-ticket-item",onClick:()=>t(`/tickets/${re.ticket_id}`),children:[a.jsxs("div",{className:"db-ticket-main",children:[a.jsxs("div",{className:"db-ticket-top",children:[a.jsx("span",{className:"db-ticket-number",children:re.ticket_number}),a.jsx("span",{className:`db-badge ${$(re.status_code)}`,children:re.status_name}),a.jsx("span",{className:`db-badge ${q(re.priority_code)}`,children:re.priority_name})]}),a.jsx("span",{className:"db-ticket-title",children:re.subject}),a.jsxs("div",{className:"db-ticket-bottom",children:[a.jsx("span",{className:"db-ticket-meta",children:re.requester_name}),a.jsx("span",{className:"db-ticket-date",children:O(re.created_at)})]})]}),a.jsx(Br,{size:16,className:"db-ticket-arrow"})]},re.ticket_id))})})]}),a.jsxs("div",{className:"db-right-col",children:[a.jsxs("div",{className:"db-card",children:[a.jsx("div",{className:"db-card-header",children:a.jsxs("div",{className:"db-card-title",children:[a.jsx(Ee,{size:18}),a.jsx("h3",{children:"Activity Feed"})]})}),a.jsx("div",{className:"db-card-body db-activity-body",children:w.length>0?a.jsx("div",{className:"db-activity-list",children:w.map((re,de)=>{var ve;return a.jsxs("div",{className:"db-activity-item",children:[a.jsx("div",{className:"db-activity-icon",children:R(re.activity_type)}),a.jsxs("div",{className:"db-activity-content",children:[a.jsxs("p",{className:"db-activity-text",children:[a.jsx("strong",{children:re.performed_by_name})," ",((ve=re.description)==null?void 0:ve.toLowerCase())||re.activity_type]}),a.jsxs("span",{className:"db-activity-meta",children:[re.ticket_number,"  ",z(re.performed_at)]})]})]},re.activity_id||de)})}):a.jsxs("div",{className:"db-chart-empty",children:[a.jsx(Ee,{size:28}),a.jsx("p",{children:"No recent activity"})]})})]}),v.length>0&&a.jsxs("div",{className:"db-card",children:[a.jsxs("div",{className:"db-card-header",children:[a.jsxs("div",{className:"db-card-title",children:[a.jsx(g6,{size:18}),a.jsx("h3",{children:"Top Performers"})]}),a.jsx("span",{className:"db-card-subtitle",children:"Last 30 days"})]}),a.jsx("div",{className:"db-card-body db-performers-body",children:v.map((re,de)=>a.jsxs("div",{className:"db-performer-item",children:[a.jsx("div",{className:`db-performer-rank rank-${de+1}`,children:de+1}),a.jsxs("div",{className:"db-performer-info",children:[a.jsx("span",{className:"db-performer-name",children:re.name}),a.jsxs("span",{className:"db-performer-stat",children:[re.resolved," resolved  avg ",re.avgHours,"h"]})]})]},de))})]}),a.jsxs("div",{className:"db-card",children:[a.jsx("div",{className:"db-card-header",children:a.jsxs("div",{className:"db-card-title",children:[a.jsx(Ea,{size:18}),a.jsx("h3",{children:"Quick Actions"})]})}),a.jsx("div",{className:"db-card-body db-qa-body",children:a.jsxs("div",{className:"db-qa-grid",children:[a.jsxs("button",{className:"db-qa-btn db-qa-new",onClick:()=>t("/tickets/create"),children:[a.jsx(Vr,{size:18}),a.jsx("span",{children:"New Ticket"})]}),a.jsxs("button",{className:"db-qa-btn db-qa-mine",onClick:()=>t("/my-tickets"),children:[a.jsx(_t,{size:18}),a.jsx("span",{children:"My Tickets"})]}),((ee=e==null?void 0:e.permissions)==null?void 0:ee.can_manage_users)&&a.jsxs("button",{className:"db-qa-btn db-qa-users",onClick:()=>t("/users"),children:[a.jsx(fr,{size:18}),a.jsx("span",{children:"Users"})]}),((ue=e==null?void 0:e.permissions)==null?void 0:ue.can_view_analytics)&&a.jsxs("button",{className:"db-qa-btn db-qa-analytics",onClick:()=>t("/analytics"),children:[a.jsx(La,{size:18}),a.jsx("span",{children:"Analytics"})]})]})})]})]})]})]})})},Kn=({icon:e,label:t,value:r,className:n,onClick:s,trend:i,trendPct:o,sub:l,compact:c})=>a.jsxs("div",{className:`db-stat-card ${n} ${c?"db-stat-compact":""}`,onClick:s,children:[a.jsx("div",{className:"db-stat-icon",children:e}),a.jsxs("div",{className:"db-stat-info",children:[a.jsx("span",{className:"db-stat-label",children:t}),a.jsxs("div",{className:"db-stat-value-row",children:[a.jsx("span",{className:"db-stat-value",children:r??0}),i&&o>0&&a.jsxs("span",{className:`db-stat-trend db-trend-${i}`,children:[i==="up"?a.jsx(La,{size:12}):i==="down"?a.jsx(iA,{size:12}):a.jsx(nA,{size:12}),o,"%"]})]}),l&&a.jsx("span",{className:"db-stat-sub",children:l})]})]}),GQ=()=>{var rl,nl,al,sl,il;const{user:e}=sr(),t=jt(),[r]=pP(),n=Nn(),s=r.get("status"),i=r.get("sla_status"),o=r.get("is_escalated"),[l,c]=b.useState(null),[d,u]=b.useState({created:0,assigned:0}),[f,h]=b.useState(!1),p=["Admin","Manager","IT Engineer","Engineer"].includes(e==null?void 0:e.role_name)||((rl=e==null?void 0:e.permissions)==null?void 0:rl.can_assign_tickets)||((nl=e==null?void 0:e.permissions)==null?void 0:nl.can_view_all_tickets),m=(e==null?void 0:e.role_name)==="User"&&!((al=e==null?void 0:e.permissions)!=null&&al.can_view_all_tickets),[v,g]=b.useState([]),[y,x]=b.useState(!0),[w,j]=b.useState(""),[N,S]=b.useState(1),[_,k]=b.useState(1),[P,E]=b.useState(0),[C,A]=b.useState(10),[D,M]=b.useState({search:"",status_id:"",priority_id:"",category_id:"",assigned_to:"",requester_id:"",sla_status:"",is_escalated:""}),[O,z]=b.useState([]),[$,q]=b.useState([]),[R,L]=b.useState([]),[T,I]=b.useState([]),[U,K]=b.useState("created_at"),[H,B]=b.useState("DESC"),[F,V]=b.useState(!1),[W,Y]=b.useState(null),[ie,ee]=b.useState(""),ue=b.useRef({data:null,timestamp:0}),re=3e4;b.useEffect(()=>{const ne=setTimeout(()=>{ee(D.search)},300);return()=>clearTimeout(ne)},[D.search]);const de=ne=>{if(!ne)return null;if(ne.startsWith("http://")||ne.startsWith("https://"))return ne;const Le="http://localhost:5000/api/v1".replace("/api/v1",""),ft=ne.startsWith("/")?ne:`/${ne}`;return`${Le}${ft}`};b.useEffect(()=>{ve()},[]),b.useEffect(()=>{Z()},[N,C,U,H,ie,l,D.status_id,D.priority_id,D.category_id,D.assigned_to,D.sla_status,D.is_escalated]),b.useEffect(()=>{p&&(e!=null&&e.user_id)&&me()},[e,p]),b.useEffect(()=>{if(s&&O.length>0){const ne=O.find(Me=>Me.status_code===s);ne&&(M(Me=>({...Me,status_id:ne.status_id.toString()})),V(!0))}},[s,O]),b.useEffect(()=>{i&&(M(ne=>({...ne,sla_status:i})),V(!0))},[i]),b.useEffect(()=>{o&&(M(ne=>({...ne,is_escalated:o})),V(!0))},[o]);const ve=async()=>{try{const[ne,Me,Le,ft]=await Promise.all([oe.get("/system/statuses"),oe.get("/system/priorities"),oe.get("/system/categories"),oe.get("/system/engineers")]);ne.data.success&&z(ne.data.data),Me.data.success&&q(Me.data.data),Le.data.success&&L(Le.data.data),ft.data.success&&I(ft.data.data)}catch(ne){console.error("Error fetching dropdown data:",ne)}},me=b.useCallback(async(ne=!1)=>{var Le,ft,Et,Ft,Tt,ht;if(!(e!=null&&e.user_id))return;const Me=Date.now();if(!ne&&ue.current.data&&Me-ue.current.timestamp<re){u(ue.current.data);return}h(!0);try{try{const Di=await oe.get("/tickets/stats");if(Di.data.success){const ll=Di.data.data,cl={created:ll.created_by_me||0,assigned:ll.assigned_to_me||0};ue.current={data:cl,timestamp:Me},u(cl),h(!1);return}}catch{}const[nn,rs]=await Promise.all([oe.get("/tickets",{params:{page:1,limit:1,requester_id:e.user_id}}),oe.get("/tickets",{params:{page:1,limit:1,assigned_to:e.user_id}})]),ol={created:((Et=(ft=(Le=nn.data)==null?void 0:Le.data)==null?void 0:ft.pagination)==null?void 0:Et.totalRecords)??0,assigned:((ht=(Tt=(Ft=rs.data)==null?void 0:Ft.data)==null?void 0:Tt.pagination)==null?void 0:ht.totalRecords)??0};ue.current={data:ol,timestamp:Me},u(ol)}catch(nn){console.error(" Error fetching bucket stats:",nn),u({created:0,assigned:0})}finally{h(!1)}},[e==null?void 0:e.user_id]),Z=async()=>{var ne,Me,Le;try{x(!0),j("");const ft={...D,search:ie},Et={page:N,limit:C,sortBy:U,sortOrder:H,...Object.fromEntries(Object.entries(ft).filter(([Tt,ht])=>ht!==""))};l==="created"?Et.requester_id=e==null?void 0:e.user_id:l==="assigned"?Et.assigned_to=e==null?void 0:e.user_id:m?Et.requester_id=e==null?void 0:e.user_id:(e==null?void 0:e.role_name)==="Engineer"&&!((ne=e==null?void 0:e.permissions)!=null&&ne.can_view_all_tickets)&&(Et.assigned_to_or_created_by=e==null?void 0:e.user_id),console.log(" Fetching tickets with params:",Et);const Ft=await oe.get("/tickets",{params:Et});if(Ft.data.success){const Tt=Ft.data.data,ht=(Tt==null?void 0:Tt.tickets)||Tt||[],nn=(Tt==null?void 0:Tt.pagination)||{},rs=Array.isArray(ht)?ht:[];g(rs),E(nn.totalRecords||rs.length),k(nn.totalPages||Math.ceil((nn.totalRecords||rs.length)/C))}}catch(ft){console.error(" Error fetching tickets:",ft),j(((Le=(Me=ft.response)==null?void 0:Me.data)==null?void 0:Le.message)||"Failed to load tickets"),n.error("Failed to load tickets")}finally{x(!1)}},J=ne=>{c(l===ne?null:ne),S(1)},pe=async()=>{try{if(v.length===0){n.warning("No tickets to export");return}n.info("Preparing export...");const ne=["Ticket Number","Subject","Category","Priority","Status","Requester","Assigned To","Created At","Is Escalated"],Me=v.map(ht=>[ht.ticket_number||"",(ht.subject||ht.title||"").replace(/"/g,'""'),ht.category_name||"",ht.priority_name||"",ht.status_name||"",ht.requester_name||"",ht.assigned_to_name||"Unassigned",Pe(ht.created_at),ht.is_escalated?"Yes":"No"]),Le=[ne.join(","),...Me.map(ht=>ht.map(nn=>`"${String(nn).replace(/"/g,'""')}"`).join(","))].join(`
`),ft=new Blob([Le],{type:"text/csv;charset=utf-8;"}),Et=URL.createObjectURL(ft),Ft=document.createElement("a"),Tt=`tickets_${l||"all"}_${new Date().toISOString().split("T")[0]}.csv`;Ft.setAttribute("href",Et),Ft.setAttribute("download",Tt),Ft.style.visibility="hidden",document.body.appendChild(Ft),Ft.click(),document.body.removeChild(Ft),URL.revokeObjectURL(Et),n.success(`Exported ${v.length} tickets successfully!`)}catch(ne){console.error("Export error:",ne),n.error("Failed to export tickets. Please try again.")}},X=(ne,Me)=>{M(Le=>({...Le,[ne]:Me})),S(1)},ae=()=>{M({search:"",status_id:"",priority_id:"",category_id:"",assigned_to:"",requester_id:"",sla_status:"",is_escalated:""}),S(1)},le=ne=>{U===ne?B(H==="ASC"?"DESC":"ASC"):(K(ne),B("DESC"))},fe=ne=>t(`/tickets/${ne}`),Q=ne=>t(`/tickets/edit/${ne}`),we=async ne=>{var Me,Le;if(window.confirm("Are you sure you want to delete this ticket?"))try{await oe.delete(`/tickets/${ne}`),n.success("Ticket deleted successfully!"),Z(),me(!0)}catch(ft){n.error(((Le=(Me=ft.response)==null?void 0:Me.data)==null?void 0:Le.message)||"Failed to delete ticket")}},Ne=ne=>{Y(W===ne?null:ne)},je=ne=>({OPEN:"status-open",IN_PROGRESS:"status-progress",PENDING:"status-pending",ON_HOLD:"status-on-hold",RESOLVED:"status-closed",CLOSED:"status-closed",ESCALATED:"status-escalated",CANCELLED:"status-cancelled"})[ne]||"status-default",_e=ne=>({CRITICAL:"priority-critical",HIGH:"priority-high",MEDIUM:"priority-medium",LOW:"priority-low",PLANNING:"priority-planning"})[ne]||"priority-default",Pe=ne=>ne?new Date(ne).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",Zt=ne=>{if(!ne)return"-";const Me=new Date(ne),ft=new Date-Me,Et=Math.floor(ft/(1e3*60*60*24));if(Et===0){const Ft=Math.floor(ft/36e5);if(Ft===0){const Tt=Math.floor(ft/6e4);return Tt<=1?"Just now":`${Tt}m ago`}return`${Ft}h ago`}return Et===1?"Yesterday":Et<7?`${Et}d ago`:Pe(ne)},ua=ne=>{var Me;return!!((Me=e==null?void 0:e.permissions)!=null&&Me.can_assign_tickets||ne.requester_id===(e==null?void 0:e.user_id)||ne.assigned_to===(e==null?void 0:e.user_id))},qn=()=>Object.values(D).filter(ne=>ne!=="").length,Us=()=>l==="created"?"My Created Tickets":l==="assigned"?"Assigned to Me":"Support Tickets";return a.jsxs("div",{className:"tickets-page",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("div",{className:"header-left",children:a.jsxs("div",{className:"page-title-wrapper",children:[a.jsx("div",{className:"page-icon-wrapper",children:a.jsx(Pt,{size:28,className:"page-icon"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"page-title",children:Us()}),a.jsx("p",{className:"page-subtitle",children:P>0?`${P} ticket${P!==1?"s":""} found`:"No tickets available"})]})]})}),p&&a.jsxs("div",{className:"tl-mini-buckets",children:[a.jsxs("div",{className:`tl-mini-bucket tl-mini-created ${l==="created"?"active":""}`,onClick:()=>J("created"),title:"Created by Me",children:[a.jsxs("div",{className:"tl-mini-bucket-body",children:[a.jsx("div",{className:"tl-mini-bucket-fill",style:{height:`${Math.min(d.created/50*100,100)}%`}}),a.jsx("div",{className:"tl-mini-bucket-shine"})]}),a.jsxs("div",{className:"tl-mini-bucket-info",children:[a.jsx("span",{className:"tl-mini-count",children:f?"...":d.created}),a.jsx("span",{className:"tl-mini-label",children:"Created by Me"})]}),l==="created"&&a.jsx("div",{className:"tl-mini-check",children:a.jsx(Ce,{size:14})})]}),a.jsxs("div",{className:`tl-mini-bucket tl-mini-assigned ${l==="assigned"?"active":""}`,onClick:()=>J("assigned"),title:"Assigned to Me",children:[a.jsxs("div",{className:"tl-mini-bucket-body",children:[a.jsx("div",{className:"tl-mini-bucket-fill",style:{height:`${Math.min(d.assigned/20*100,100)}%`}}),a.jsx("div",{className:"tl-mini-bucket-shine"})]}),a.jsxs("div",{className:"tl-mini-bucket-info",children:[a.jsx("span",{className:"tl-mini-count",children:f?"...":d.assigned}),a.jsx("span",{className:"tl-mini-label",children:"Assigned to Me"})]}),l==="assigned"&&a.jsx("div",{className:"tl-mini-check",children:a.jsx(Ce,{size:14})})]})]}),a.jsxs("div",{className:"header-right",children:[a.jsx("button",{className:"btn-icon-action",onClick:()=>{Z(),p&&me(!0),n.info("Refreshing tickets...")},title:"Refresh",disabled:y,children:a.jsx(ut,{size:18,className:y?"spinning":""})}),a.jsx("button",{className:"btn-icon-action",onClick:pe,title:"Export to CSV",disabled:y||v.length===0,children:a.jsx(xo,{size:18})}),((sl=e==null?void 0:e.permissions)==null?void 0:sl.can_create_tickets)&&a.jsxs("button",{className:"btn-primary-action",onClick:()=>t("/tickets/create"),children:[a.jsx(Vr,{size:20}),a.jsx("span",{children:"Create Ticket"})]})]})]}),a.jsxs("div",{className:"filter-section",children:[a.jsxs("div",{className:"search-wrapper",children:[a.jsx(aa,{size:18,className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search by ticket #, title, or requester...",className:"search-input-large",value:D.search,onChange:ne=>X("search",ne.target.value)}),D.search&&a.jsx("button",{className:"search-clear-btn",onClick:()=>X("search",""),children:a.jsx(Oe,{size:16})})]}),a.jsxs("div",{className:"filter-actions",children:[a.jsxs("button",{className:`btn-filter ${F?"active":""}`,onClick:()=>V(!F),children:[a.jsx(P6,{size:18}),a.jsx("span",{children:"Filters"}),qn()>0&&a.jsx("span",{className:"filter-count",children:qn()})]}),qn()>0&&a.jsxs("button",{className:"btn-clear-filters",onClick:ae,children:[a.jsx(Oe,{size:16}),"Clear All"]})]})]}),F&&a.jsx("div",{className:"filters-panel",children:a.jsxs("div",{className:"filters-grid",children:[a.jsxs("div",{className:"filter-item",children:[a.jsxs("label",{className:"filter-label",children:[a.jsx(ma,{size:14}),"Status"]}),a.jsxs("select",{value:D.status_id,onChange:ne=>X("status_id",ne.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Statuses"}),O.map(ne=>a.jsx("option",{value:ne.status_id,children:ne.status_name},ne.status_id))]})]}),a.jsxs("div",{className:"filter-item",children:[a.jsxs("label",{className:"filter-label",children:[a.jsx(Te,{size:14}),"Priority"]}),a.jsxs("select",{value:D.priority_id,onChange:ne=>X("priority_id",ne.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Priorities"}),$.map(ne=>a.jsx("option",{value:ne.priority_id,children:ne.priority_name},ne.priority_id))]})]}),a.jsxs("div",{className:"filter-item",children:[a.jsxs("label",{className:"filter-label",children:[a.jsx(Pt,{size:14}),"Category"]}),a.jsxs("select",{value:D.category_id,onChange:ne=>X("category_id",ne.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Categories"}),R.map(ne=>a.jsx("option",{value:ne.category_id,children:ne.category_name},ne.category_id))]})]}),p&&!l&&a.jsxs("div",{className:"filter-item",children:[a.jsxs("label",{className:"filter-label",children:[a.jsx(Ke,{size:14}),"Assigned To"]}),a.jsxs("select",{value:D.assigned_to,onChange:ne=>X("assigned_to",ne.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Engineers"}),a.jsx("option",{value:"unassigned",children:"Unassigned"}),T.map(ne=>a.jsx("option",{value:ne.user_id,children:ne.full_name},ne.user_id))]})]}),a.jsxs("div",{className:"filter-item",children:[a.jsxs("label",{className:"filter-label",children:[a.jsx(Ee,{size:14}),"SLA Status"]}),a.jsxs("select",{value:D.sla_status,onChange:ne=>X("sla_status",ne.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All SLA Status"}),a.jsx("option",{value:"ok",children:" On Track"}),a.jsx("option",{value:"warning",children:" At Risk"}),a.jsx("option",{value:"breached",children:" Breached"})]})]}),a.jsxs("div",{className:"filter-item",children:[a.jsxs("label",{className:"filter-label",children:[a.jsx(Se,{size:14}),"Escalated"]}),a.jsxs("select",{value:D.is_escalated,onChange:ne=>X("is_escalated",ne.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Tickets"}),a.jsx("option",{value:"true",children:"Escalated Only"}),a.jsx("option",{value:"false",children:"Not Escalated"})]})]})]})}),w&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx(Se,{size:20}),a.jsx("span",{children:w}),a.jsx("button",{onClick:()=>j(""),className:"alert-close",children:a.jsx(Oe,{size:16})})]}),a.jsx("div",{className:"table-container",children:y?a.jsxs("div",{className:"loading-state",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"Loading tickets..."})]}):v.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx("div",{className:"empty-icon-wrapper",children:a.jsx(Pt,{size:64,className:"empty-icon"})}),a.jsx("h3",{children:"No tickets found"}),a.jsx("p",{className:"empty-description",children:qn()>0?"No tickets match your current filters.":l==="created"?"You haven't created any tickets yet.":l==="assigned"?"No tickets assigned to you.":"No tickets available."}),((il=e==null?void 0:e.permissions)==null?void 0:il.can_create_tickets)&&l!=="assigned"&&a.jsxs("button",{className:"btn-primary-action",onClick:()=>t("/tickets/create"),children:[a.jsx(Vr,{size:20}),a.jsx("span",{children:"Create Ticket"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"table-wrapper",children:a.jsxs("table",{className:"tickets-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{onClick:()=>le("ticket_number"),className:"sortable th-ticket-number",children:a.jsxs("div",{className:"th-content",children:[a.jsx("span",{children:"Ticket #"}),U==="ticket_number"&&a.jsx("span",{className:"sort-indicator",children:H==="ASC"?"":""})]})}),a.jsx("th",{onClick:()=>le("subject"),className:"sortable th-title",children:a.jsxs("div",{className:"th-content",children:[a.jsx("span",{children:"Title & Details"}),U==="subject"&&a.jsx("span",{className:"sort-indicator",children:H==="ASC"?"":""})]})}),a.jsx("th",{className:"th-category",children:"Category"}),a.jsx("th",{onClick:()=>le("priority_level"),className:"sortable th-priority",children:a.jsxs("div",{className:"th-content",children:[a.jsx("span",{children:"Priority"}),U==="priority_level"&&a.jsx("span",{className:"sort-indicator",children:H==="ASC"?"":""})]})}),a.jsx("th",{onClick:()=>le("status_id"),className:"sortable th-status",children:a.jsxs("div",{className:"th-content",children:[a.jsx("span",{children:"Status"}),U==="status_id"&&a.jsx("span",{className:"sort-indicator",children:H==="ASC"?"":""})]})}),a.jsx("th",{className:"th-requester",children:"Requester"}),a.jsx("th",{className:"th-assigned",children:"Assigned To"}),a.jsx("th",{onClick:()=>le("created_at"),className:"sortable th-created",children:a.jsxs("div",{className:"th-content",children:[a.jsx("span",{children:"Created"}),U==="created_at"&&a.jsx("span",{className:"sort-indicator",children:H==="ASC"?"":""})]})}),a.jsx("th",{className:"th-actions",children:"Actions"})]})}),a.jsx("tbody",{children:v.map(ne=>{var Me;return a.jsxs("tr",{className:ne.is_escalated?"escalated":"",onClick:()=>fe(ne.ticket_id),children:[a.jsx("td",{className:"ticket-number-cell",children:a.jsxs("div",{className:"tl-ticket-num-wrapper",children:[ne.is_escalated&&a.jsx(Te,{size:14,className:"escalated-icon"}),a.jsxs("span",{className:"tl-ticket-num",title:`Ticket: ${ne.ticket_number}`,children:["#",ne.ticket_number]}),a.jsxs("div",{className:"tl-num-hover-card",children:[a.jsx("div",{className:"tl-num-label",children:"Ticket Number"}),a.jsxs("div",{className:"tl-num-value",children:["#",ne.ticket_number]}),ne.is_escalated&&a.jsxs("div",{className:"tl-num-escalated",children:[a.jsx(Te,{size:12}),a.jsx("span",{children:"Escalated"})]})]})]})}),a.jsx("td",{className:"title-cell",children:a.jsxs("div",{className:"tl-title-wrapper",children:[a.jsx("span",{className:"tl-title",title:ne.subject||ne.title||"No Title",children:ne.subject||ne.title||"No Title"}),ne.description&&a.jsx("span",{className:"tl-desc",title:ne.description,children:ne.description.length>50?ne.description.substring(0,50)+"...":ne.description}),a.jsxs("div",{className:"tl-hover-card",children:[a.jsx("div",{className:"tl-hover-title",children:ne.subject||ne.title||"No Title"}),ne.description&&a.jsx("div",{className:"tl-hover-desc",children:ne.description})]})]})}),a.jsx("td",{children:a.jsx("span",{className:"category-badge",children:ne.category_name||"-"})}),a.jsx("td",{children:a.jsx("span",{className:`priority-badge ${_e(ne.priority_code)}`,children:ne.priority_name})}),a.jsx("td",{children:a.jsx("span",{className:`status-badge ${je(ne.status_code)}`,children:ne.status_name})}),a.jsx("td",{className:"requester-cell",children:a.jsxs("div",{className:"user-info",title:ne.requester_name,children:[a.jsxs("div",{className:"user-avatar",children:[ne.requester_profile_picture?a.jsx("img",{src:de(ne.requester_profile_picture),alt:ne.requester_name,className:"avatar-image",onError:Le=>{Le.target.style.display="none",Le.target.nextElementSibling.style.display="flex"}}):null,a.jsx(Ke,{size:14,style:{display:ne.requester_profile_picture?"none":"flex"}})]}),a.jsx("span",{className:"user-name",children:ne.requester_name||"Unknown"})]})}),a.jsx("td",{className:"assigned-cell",children:ne.assigned_to_name?a.jsxs("div",{className:"user-info",title:ne.assigned_to_name,children:[a.jsxs("div",{className:"user-avatar assigned",children:[ne.assigned_profile_picture?a.jsx("img",{src:de(ne.assigned_profile_picture),alt:ne.assigned_to_name,className:"avatar-image",onError:Le=>{Le.target.style.display="none",Le.target.nextElementSibling.style.display="flex"}}):null,a.jsx(Ke,{size:14,style:{display:ne.assigned_profile_picture?"none":"flex"}})]}),a.jsx("span",{className:"user-name",children:ne.assigned_to_name})]}):a.jsx("span",{className:"text-muted",children:"Unassigned"})}),a.jsx("td",{className:"date-cell",children:a.jsxs("div",{className:"date-info",children:[a.jsx("span",{className:"date-relative",children:Zt(ne.created_at)}),a.jsx("span",{className:"date-full",children:Pe(ne.created_at)})]})}),a.jsx("td",{className:"actions-cell",onClick:Le=>Le.stopPropagation(),children:a.jsx("div",{className:"action-buttons",children:a.jsxs("div",{className:"dropdown-wrapper",children:[a.jsx("button",{className:"btn-action-table more",onClick:Le=>{Le.stopPropagation(),Ne(ne.ticket_id)},children:a.jsx(C6,{size:16})}),W===ne.ticket_id&&a.jsxs("div",{className:"dropdown-menu",children:[a.jsxs("button",{className:"dropdown-item",onClick:()=>{fe(ne.ticket_id),Y(null)},children:[a.jsx(_t,{size:14}),a.jsx("span",{children:"View Details"})]}),ua(ne)&&a.jsxs("button",{className:"dropdown-item",onClick:()=>{Q(ne.ticket_id),Y(null)},children:[a.jsx(zs,{size:14}),a.jsx("span",{children:"Edit Ticket"})]}),((Me=e==null?void 0:e.permissions)==null?void 0:Me.can_delete_tickets)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"dropdown-divider"}),a.jsxs("button",{className:"dropdown-item danger",onClick:()=>{we(ne.ticket_id),Y(null)},children:[a.jsx(jr,{size:14}),a.jsx("span",{children:"Delete"})]})]})]})]})})})]},ne.ticket_id)})})]})}),a.jsxs("div",{className:"pagination-container",children:[a.jsxs("div",{className:"pagination-info",children:["Showing ",a.jsx("strong",{children:(N-1)*C+1})," to"," ",a.jsx("strong",{children:Math.min(N*C,P)})," of"," ",a.jsx("strong",{children:P})," tickets"]}),a.jsxs("div",{className:"pagination-controls",children:[a.jsxs("div",{className:"page-size-selector",children:[a.jsx("label",{children:"Rows:"}),a.jsxs("select",{value:C,onChange:ne=>{A(Number(ne.target.value)),S(1)},className:"page-size-select",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]})]}),a.jsxs("div",{className:"pagination-buttons",children:[a.jsx("button",{className:"btn-pagination",onClick:()=>S(ne=>Math.max(1,ne-1)),disabled:N===1,children:a.jsx(Ay,{size:18})}),[...Array(Math.min(5,_))].map((ne,Me)=>{let Le=_<=5||N<=3?Me+1:N>=_-2?_-4+Me:N-2+Me;return a.jsx("button",{className:`btn-pagination ${N===Le?"active":""}`,onClick:()=>S(Le),children:Le},Le)}),a.jsx("button",{className:"btn-pagination",onClick:()=>S(ne=>Math.min(_,ne+1)),disabled:N===_,children:a.jsx(Br,{size:18})})]})]})]})]})}),W&&a.jsx("div",{className:"dropdown-overlay",onClick:()=>Y(null)})]})},YQ=()=>{var z,$,q;const{user:e}=sr(),t=jt(),[r,n]=b.useState({subject:"",description:"",category_id:"",priority_id:"",department_id:""}),[s,i]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState([]),[u,f]=b.useState([]),[h,p]=b.useState({}),[m,v]=b.useState(!1),[g,y]=b.useState({}),[x,w]=b.useState(""),[j,N]=b.useState(!1);b.useEffect(()=>{S()},[]);const S=async()=>{try{const[R,L,T]=await Promise.all([oe.get("/system/categories"),oe.get("/system/priorities"),oe.get("/system/departments")]);R.data.success&&i(R.data.data),L.data.success&&l(L.data.data),T.data.success&&d(T.data.data)}catch(R){console.error("Error fetching dropdown data:",R)}},_=R=>{const{name:L,value:T}=R.target;n(I=>({...I,[L]:T})),g[L]&&y(I=>({...I,[L]:""}))},k=R=>{const L=Array.from(R.target.files),T=10*1024*1024,I=5;if(u.length+L.length>I){alert(`You can only upload a maximum of ${I} files`);return}const U=[],K=[];L.forEach(H=>{H.size>T?K.push(`${H.name} (exceeds 10MB)`):U.push(H)}),K.length>0&&alert(`The following files are too large:
${K.join(`
`)}`),U.length>0&&f(H=>[...H,...U]),R.target.value=""},P=R=>{f(L=>L.filter((T,I)=>I!==R))},E=R=>{if(R===0)return"0 Bytes";const L=1024,T=["Bytes","KB","MB"],I=Math.floor(Math.log(R)/Math.log(L));return Math.round(R/Math.pow(L,I)*100)/100+" "+T[I]},C=R=>{const L=R.split(".").pop().toLowerCase();return{pdf:"#dc2626",doc:"#2563eb",docx:"#2563eb",xls:"#059669",xlsx:"#059669",jpg:"#ea580c",jpeg:"#ea580c",png:"#ea580c",gif:"#ea580c",txt:"#64748b",zip:"#7c3aed",rar:"#7c3aed"}[L]||"#64748b"},A=()=>{const R={};return r.subject.trim()?r.subject.length<5&&(R.subject="Subject must be at least 5 characters"):R.subject="Subject is required",r.description.trim()?r.description.length<10&&(R.description="Description must be at least 10 characters"):R.description="Description is required",r.category_id||(R.category_id="Category is required"),r.priority_id||(R.priority_id="Priority is required"),y(R),Object.keys(R).length===0},D=async R=>{const L=new FormData;u.forEach(T=>{L.append("files",T)});try{return(await oe.post(`/tickets/${R}/attachments`,L,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:I=>{const U=Math.round(I.loaded*100/I.total);p({percent:U})}})).data}catch(T){throw T}},M=async R=>{var L,T,I,U;if(R.preventDefault(),!!A()){v(!0),y({});try{const K=await oe.post("/tickets",r);if(K.data.success){const H=K.data.data.ticket_id;if(u.length>0)try{await D(H)}catch{}w("Ticket created successfully!"),N(!0),setTimeout(()=>{t(`/tickets/${H}`)},2e3)}}catch(K){(T=(L=K.response)==null?void 0:L.data)!=null&&T.errors?y(K.response.data.errors):y({submit:((U=(I=K.response)==null?void 0:I.data)==null?void 0:U.message)||"Failed to create ticket. Please try again."})}finally{v(!1)}}},O=R=>{const L=o.find(I=>I.priority_id===parseInt(R));return L&&{CRITICAL:"priority-preview-critical",HIGH:"priority-preview-high",MEDIUM:"priority-preview-medium",LOW:"priority-preview-low",PLANNING:"priority-preview-planning"}[L.priority_code]||""};return a.jsxs("div",{className:"create-ticket-page",children:[j&&a.jsx("div",{className:"success-modal-overlay",children:a.jsxs("div",{className:"success-modal",children:[a.jsx("div",{className:"success-icon",children:a.jsx(Ce,{size:64})}),a.jsx("h2",{children:"Ticket Created Successfully!"}),a.jsx("p",{children:"Your ticket has been submitted and assigned a ticket number."}),a.jsx("p",{className:"redirect-message",children:"Redirecting to ticket details..."})]})}),a.jsx("div",{className:"page-header-create",children:a.jsxs("div",{className:"header-content",children:[a.jsxs("button",{className:"btn-back",onClick:()=>t("/tickets"),disabled:m,children:[a.jsx(In,{size:20}),a.jsx("span",{children:"Back to Tickets"})]}),a.jsxs("div",{className:"header-title-section",children:[a.jsx("h1",{className:"page-title-create",children:"Create New Ticket"}),a.jsx("p",{className:"page-subtitle-create",children:"Submit a new support request to our IT helpdesk team"})]})]})}),a.jsx("div",{className:"create-ticket-container",children:a.jsxs("div",{className:"create-ticket-content",children:[a.jsx("div",{className:"form-section",children:a.jsxs("form",{onSubmit:M,className:"ticket-form",children:[g.submit&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx(Se,{size:20}),a.jsx("span",{children:g.submit})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"subject",className:"form-label required",children:"Ticket Subject"}),a.jsx("input",{type:"text",id:"subject",name:"subject",className:`form-input ${g.subject?"error":""}`,placeholder:"Brief summary of your issue (e.g., Laptop not turning on)",value:r.subject,onChange:_,disabled:m,maxLength:200}),g.subject&&a.jsx("span",{className:"error-message",children:g.subject}),a.jsxs("span",{className:"field-hint",children:[r.subject.length,"/200 characters"]})]}),a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"category_id",className:"form-label required",children:"Category"}),a.jsxs("select",{id:"category_id",name:"category_id",className:`form-select ${g.category_id?"error":""}`,value:r.category_id,onChange:_,disabled:m,children:[a.jsx("option",{value:"",children:"Select a category"}),s.map(R=>a.jsx("option",{value:R.category_id,children:R.category_name},R.category_id))]}),g.category_id&&a.jsx("span",{className:"error-message",children:g.category_id})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"priority_id",className:"form-label required",children:"Priority"}),a.jsxs("select",{id:"priority_id",name:"priority_id",className:`form-select ${g.priority_id?"error":""}`,value:r.priority_id,onChange:_,disabled:m,children:[a.jsx("option",{value:"",children:"Select priority"}),o.map(R=>a.jsx("option",{value:R.priority_id,children:R.priority_name},R.priority_id))]}),g.priority_id&&a.jsx("span",{className:"error-message",children:g.priority_id})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_id",className:"form-label",children:["Department ",a.jsx("span",{className:"optional-label",children:"(Optional)"})]}),a.jsxs("select",{id:"department_id",name:"department_id",className:"form-select",value:r.department_id,onChange:_,disabled:m,children:[a.jsx("option",{value:"",children:"Select department"}),c.map(R=>a.jsx("option",{value:R.department_id,children:R.department_name},R.department_id))]}),a.jsx("span",{className:"field-hint",children:"Select the department related to this issue"})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"description",className:"form-label required",children:"Detailed Description"}),a.jsx("textarea",{id:"description",name:"description",className:`form-textarea ${g.description?"error":""}`,placeholder:`Please provide a detailed description of your issue. Include:
 What happened?
 When did it occur?
 What were you trying to do?
 Any error messages?`,value:r.description,onChange:_,disabled:m,rows:8,maxLength:2e3}),g.description&&a.jsx("span",{className:"error-message",children:g.description}),a.jsxs("span",{className:"field-hint",children:[r.description.length,"/2000 characters"]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:["Attachments ",a.jsx("span",{className:"optional-label",children:"(Optional)"})]}),a.jsxs("div",{className:"file-upload-area",children:[a.jsx("input",{type:"file",id:"file-input",className:"file-input-hidden",onChange:k,multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.txt,.zip,.rar",disabled:m||u.length>=5}),a.jsxs("label",{htmlFor:"file-input",className:`file-upload-label ${u.length>=5?"disabled":""}`,children:[a.jsx(Y6,{size:24}),a.jsx("span",{className:"upload-text",children:"Click to upload or drag and drop"}),a.jsx("span",{className:"upload-hint",children:"Maximum 5 files, 10MB each (PDF, DOC, XLS, Images, ZIP)"})]})]}),u.length>0&&a.jsxs("div",{className:"attached-files-list",children:[a.jsxs("div",{className:"attached-files-header",children:[a.jsx(gc,{size:16}),a.jsxs("span",{children:[u.length," file",u.length!==1?"s":""," attached"]})]}),u.map((R,L)=>a.jsxs("div",{className:"attached-file-item",children:[a.jsx("div",{className:"file-icon",style:{color:C(R.name)},children:a.jsx(JP,{size:20})}),a.jsxs("div",{className:"file-info",children:[a.jsx("span",{className:"file-name",title:R.name,children:R.name}),a.jsx("span",{className:"file-size",children:E(R.size)})]}),a.jsx("button",{type:"button",className:"btn-remove-file",onClick:()=>P(L),disabled:m,title:"Remove file",children:a.jsx(Oe,{size:16})})]},L))]}),h.percent>0&&h.percent<100&&a.jsxs("div",{className:"upload-progress-bar",children:[a.jsx("div",{className:"upload-progress-fill",style:{width:`${h.percent}%`}}),a.jsxs("span",{className:"upload-progress-text",children:["Uploading... ",h.percent,"%"]})]})]}),a.jsxs("div",{className:"form-actions",children:[a.jsxs("button",{type:"button",className:"btn-secondary",onClick:()=>t("/tickets"),disabled:m,children:[a.jsx(Oe,{size:18}),a.jsx("span",{children:"Cancel"})]}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:m,children:m?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{size:18,className:"spinning"}),a.jsx("span",{children:"Creating Ticket..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),a.jsx("span",{children:"Create Ticket"})]})})]})]})}),a.jsxs("div",{className:"sidebar-section",children:[a.jsxs("div",{className:"preview-card",children:[a.jsx("h3",{className:"preview-title",children:"Ticket Preview"}),a.jsx("div",{className:"preview-content",children:r.subject?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"preview-item",children:[a.jsx("span",{className:"preview-label",children:"Subject:"}),a.jsx("span",{className:"preview-value",children:r.subject})]}),r.category_id&&a.jsxs("div",{className:"preview-item",children:[a.jsx("span",{className:"preview-label",children:"Category:"}),a.jsx("span",{className:"preview-badge category-badge",children:(z=s.find(R=>R.category_id===parseInt(r.category_id)))==null?void 0:z.category_name})]}),r.priority_id&&a.jsxs("div",{className:"preview-item",children:[a.jsx("span",{className:"preview-label",children:"Priority:"}),a.jsx("span",{className:`preview-badge priority-badge ${O(r.priority_id)}`,children:($=o.find(R=>R.priority_id===parseInt(r.priority_id)))==null?void 0:$.priority_name})]}),r.department_id&&a.jsxs("div",{className:"preview-item",children:[a.jsx("span",{className:"preview-label",children:"Department:"}),a.jsx("span",{className:"preview-value",children:(q=c.find(R=>R.department_id===parseInt(r.department_id)))==null?void 0:q.department_name})]}),u.length>0&&a.jsxs("div",{className:"preview-item",children:[a.jsx("span",{className:"preview-label",children:"Attachments:"}),a.jsxs("span",{className:"preview-value",children:[u.length," file(s)"]})]})]}):a.jsx("p",{className:"preview-empty",children:"Fill in the form to see preview"})})]}),a.jsxs("div",{className:"help-card",children:[a.jsx("h3",{className:"help-title",children:"Need Help?"}),a.jsxs("div",{className:"help-content",children:[a.jsxs("div",{className:"help-item",children:[a.jsx("h4",{children:"Priority Levels:"}),a.jsxs("ul",{children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Critical:"})," System down, blocking work"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"High:"})," Major impact, urgent"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Medium:"})," Moderate impact"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Low:"})," Minor issue"]})]})]}),a.jsxs("div",{className:"help-item",children:[a.jsx("h4",{children:"Tips for faster resolution:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Be specific and detailed"}),a.jsx("li",{children:"Include error messages"}),a.jsx("li",{children:"Attach screenshots if applicable"}),a.jsx("li",{children:"Mention steps to reproduce"})]})]})]})]})]})]})})]})},XQ=()=>{const e={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1C4E80 0%, #0D2C4D 100%)",position:"relative",overflow:"hidden",padding:"20px",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},content:{textAlign:"center",color:"#FFFFFF",zIndex:10,maxWidth:"600px",position:"relative"},iconWrapper:{position:"relative",display:"inline-block",marginBottom:"30px"},iconCircle:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"50%",padding:"30px",display:"inline-flex",backdropFilter:"blur(10px)",border:"2px solid rgba(165, 216, 221, 0.3)",animation:"pulse 2s ease-in-out infinite"},alertIcon:{color:"#A5D8DD",filter:"drop-shadow(0 0 10px rgba(165, 216, 221, 0.5))"},errorCode:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"30px"},digit:{fontSize:"120px",fontWeight:"700",color:"#A5D8DD",animation:"fadeInUp 0.6s ease-out both",textShadow:"0 4px 20px rgba(165, 216, 221, 0.3)",lineHeight:"1"},errorTitle:{fontSize:"36px",fontWeight:"600",marginBottom:"16px",color:"#FFFFFF",animation:"fadeIn 0.8s ease-out 0.4s both",letterSpacing:"-0.5px"},errorMessage:{fontSize:"18px",lineHeight:"1.6",marginBottom:"40px",color:"rgba(255, 255, 255, 0.85)",animation:"fadeIn 0.8s ease-out 0.6s both",fontWeight:"400"},buttonGroup:{display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap",animation:"fadeIn 0.8s ease-out 0.8s both"},btnPrimary:{display:"inline-flex",alignItems:"center",gap:"10px",padding:"14px 32px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",textDecoration:"none",transition:"all 0.3s ease",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",border:"none",background:"#A5D8DD",color:"#1C4E80"},backgroundCircle:{position:"absolute",borderRadius:"50%",background:"rgba(165, 216, 221, 0.08)",backdropFilter:"blur(2px)",pointerEvents:"none"},circle1:{width:"400px",height:"400px",top:"-100px",right:"-100px",animation:"float 15s ease-in-out infinite"},circle2:{width:"300px",height:"300px",bottom:"-80px",left:"-80px",animation:"float 12s ease-in-out infinite reverse"}};return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            box-shadow: 0 0 0 0 rgba(165, 216, 221, 0.4);
          }
          50% {
            transform: scale(1.03);
            box-shadow: 0 0 0 15px rgba(165, 216, 221, 0);
          }
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes float {
          0%, 100% {
            transform: translate(0, 0);
            opacity: 0.5;
          }
          50% {
            transform: translate(-20px, -20px);
            opacity: 0.8;
          }
        }

        .btn-primary:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 16px rgba(165, 216, 221, 0.4);
          background: #B8E5EA;
        }

        .btn-primary:active {
          transform: translateY(0);
        }

        .digit-1 { animation-delay: 0.1s; }
        .digit-2 { animation-delay: 0.2s; }
        .digit-3 { animation-delay: 0.3s; }

        @media (max-width: 768px) {
          .error-code-digit {
            font-size: 80px !important;
          }
          .error-title {
            font-size: 28px !important;
          }
          .error-message {
            font-size: 16px !important;
          }
          .icon-circle {
            padding: 25px !important;
          }
        }

        @media (max-width: 480px) {
          .error-code-digit {
            font-size: 64px !important;
          }
          .error-title {
            font-size: 24px !important;
          }
          .error-message {
            font-size: 15px !important;
          }
        }

        * {
          box-sizing: border-box;
        }
      `}),a.jsxs("div",{style:e.container,children:[a.jsxs("div",{style:e.content,children:[a.jsx("div",{style:e.iconWrapper,children:a.jsx("div",{style:e.iconCircle,className:"icon-circle",children:a.jsx(Se,{style:e.alertIcon,size:64})})}),a.jsxs("div",{style:e.errorCode,children:[a.jsx("span",{style:e.digit,className:"error-code-digit digit-1",children:"4"}),a.jsx("span",{style:e.digit,className:"error-code-digit digit-2",children:"0"}),a.jsx("span",{style:e.digit,className:"error-code-digit digit-3",children:"4"})]}),a.jsx("h1",{style:e.errorTitle,className:"error-title",children:"Page Not Found"}),a.jsxs("p",{style:e.errorMessage,className:"error-message",children:["The page you're looking for doesn't exist.",a.jsx("br",{}),"Let's get you back to the dashboard."]}),a.jsx("div",{style:e.buttonGroup,children:a.jsxs(ja,{to:"/",style:e.btnPrimary,className:"btn-primary",children:[a.jsx(M6,{size:20}),"Back to Dashboard"]})})]}),a.jsx("div",{style:{...e.backgroundCircle,...e.circle1}}),a.jsx("div",{style:{...e.backgroundCircle,...e.circle2}})]})]})},$u={created:{icon:S6,color:"#3b82f6",bg:"#eff6ff",label:"Ticket Created"},assigned:{icon:di,color:"#8b5cf6",bg:"#f5f3ff",label:"Assigned"},status:{icon:ut,color:"#f59e0b",bg:"#fffbeb",label:"Status Changed"},comment:{icon:Yn,color:"#10b981",bg:"#f0fdf4",label:"Comment"},"internal-note":{icon:ta,color:"#f97316",bg:"#fff7ed",label:"Internal Note"},attachment:{icon:gc,color:"#6366f1",bg:"#eef2ff",label:"File Attached"},escalated:{icon:Te,color:"#ef4444",bg:"#fef2f2",label:"Escalated"},"first-response":{icon:Ea,color:"#06b6d4",bg:"#ecfeff",label:"First Response"},resolved:{icon:Ce,color:"#059669",bg:"#f0fdf4",label:"Resolved"},closed:{icon:v6,color:"#6b7280",bg:"#f9fafb",label:"Closed"},priority:{icon:Se,color:"#ec4899",bg:"#fdf2f8",label:"Priority Changed"},update:{icon:zs,color:"#64748b",bg:"#f8fafc",label:"Updated"}},Ws=e=>{if(!e)return"N/A";try{const t=new Date(e),r=String(t.getDate()).padStart(2,"0"),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getFullYear();let o=t.getHours();const l=String(t.getMinutes()).padStart(2,"0"),c=o>=12?"PM":"AM";return o=o%12||12,`${s} ${r}, ${i}  ${String(o).padStart(2,"0")}:${l} ${c}`}catch{return"Invalid Date"}},Fu=e=>{if(!e)return"";const t=new Date,r=new Date(e),n=Math.floor((t-r)/1e3);if(n<60)return"Just now";const s=Math.floor(n/60);if(s<60)return`${s}m ago`;const i=Math.floor(s/60);if(i<24)return`${i}h ago`;const o=Math.floor(i/24);return o<7?`${o}d ago`:o<30?`${Math.floor(o/7)}w ago`:`${Math.floor(o/30)}mo ago`},c2=e=>e?e<1024?`${e.toFixed(1)} KB`:`${(e/1024).toFixed(1)} MB`:"0 KB",ZQ=e=>{const t=(e||"").split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(t)?D6:["pdf"].includes(t)?Yr:JP},QQ=()=>{var pe;const{id:e}=lP(),{user:t}=sr(),r=jt(),n=Nn(),s=b.useRef(null),[i,o]=b.useState(null),[l,c]=b.useState(!0),[d,u]=b.useState(""),[f,h]=b.useState([]),[p,m]=b.useState([]),[v,g]=b.useState([]),[y,x]=b.useState([]),[w,j]=b.useState(""),[N,S]=b.useState(!1),[_,k]=b.useState(""),[P,E]=b.useState(!1),[C,A]=b.useState(!1),[D,M]=b.useState(!1),[O,z]=b.useState(!1),[$,q]=b.useState(new Date),[R,L]=b.useState(!1),[T,I]=b.useState(null),U=b.useRef(null);b.useEffect(()=>{(async()=>{try{const X=await oe.get("/system/engineers");X.data.success&&x(X.data.data)}catch(X){console.error("Error fetching engineers:",X)}})()},[]);const K=b.useCallback(async(X=!1)=>{var ae,le;try{X?L(!0):c(!0),u("");const fe=await oe.get(`/tickets/${e}`);if(fe.data.success){const Q=fe.data.data;o(Q),h(Q.comments||[]),m(Q.activities||[]),g(Q.attachments||[]),Q.assigned_to_id&&j(Q.assigned_to_id.toString()),q(new Date)}else u("Ticket not found")}catch(fe){console.error("Error fetching ticket:",fe),X||u(((le=(ae=fe.response)==null?void 0:ae.data)==null?void 0:le.message)||"Failed to load ticket details")}finally{c(!1),L(!1)}},[e]);b.useEffect(()=>{e&&K()},[e,K]),b.useEffect(()=>(s.current=setInterval(()=>K(!0),3e4),()=>clearInterval(s.current)),[K]);const H=async()=>{var X,ae;if(_.trim())try{A(!0),(await oe.post(`/tickets/${e}/comments`,{comment_text:_,is_internal:P})).data.success&&(k(""),E(!1),n.success(P?"Internal note added!":"Comment added!"),K(!0))}catch(le){n.error(((ae=(X=le.response)==null?void 0:X.data)==null?void 0:ae.message)||"Failed to add comment")}finally{A(!1)}},B=async()=>{var X,ae,le;if(!w){n.warning("Please select an engineer");return}try{if(S(!0),(await oe.patch(`/tickets/${e}/assign`,{assigned_to:parseInt(w)})).data.success){const Q=((X=y.find(we=>we.user_id===parseInt(w)))==null?void 0:X.full_name)||"Engineer";n.success(`Assigned to ${Q}!`),K(!0)}}catch(fe){n.error(((le=(ae=fe.response)==null?void 0:ae.data)==null?void 0:le.message)||"Failed to assign ticket")}finally{S(!1)}},F=async()=>{var X,ae;try{(await oe.delete(`/tickets/${e}`)).data.success&&(n.success("Ticket deleted!"),r("/tickets"))}catch(le){n.error(((ae=(X=le.response)==null?void 0:X.data)==null?void 0:ae.message)||"Failed to delete ticket"),M(!1)}},V=async(X,ae)=>{try{const le=await oe.get(`/tickets/${e}/attachments/${X}/download`,{responseType:"blob"}),fe=window.URL.createObjectURL(new Blob([le.data])),Q=document.createElement("a");Q.href=fe,Q.setAttribute("download",ae),document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),window.URL.revokeObjectURL(fe),n.success(`Downloading ${ae}...`)}catch{n.error("Failed to download. Please try again.")}},W=b.useCallback(()=>{if(!(i!=null&&i.due_date)||!(i!=null&&i.created_at))return{status:"none",pct:0,color:"#94a3b8",label:"No SLA",closed:!1};const X=new Date,ae=new Date(i.created_at),le=new Date(i.due_date),fe=i.resolved_at?new Date(i.resolved_at):null;if(i.is_final_status||i.status_code==="RESOLVED"||i.status_code==="CLOSED"){const _e=fe||X,Pe=_e<=le;return{status:Pe?"met":"breached",pct:100,color:Pe?"#10b981":"#ef4444",label:Pe?"SLA Met":"SLA Breached",closed:!0,resolvedAt:_e,dueDate:le}}const we=le-ae,Ne=X-ae,je=Math.min(Ne/we*100,100);return X>le?{status:"breached",pct:100,color:"#ef4444",label:"Breached",closed:!1}:je>=80?{status:"warning",pct:je,color:"#f59e0b",label:"At Risk",closed:!1}:{status:"ok",pct:je,color:"#10b981",label:"On Track",closed:!1}},[i]),Y=b.useCallback(()=>{if(!(i!=null&&i.due_date))return"No SLA set";const X=new Date,ae=new Date(i.due_date),le=i.resolved_at?new Date(i.resolved_at):null;if(i.is_final_status||i.status_code==="RESOLVED"||i.status_code==="CLOSED"){const _e=le||X,Pe=_e<=ae,Zt=Math.abs(Pe?ae-_e:_e-ae),ua=Math.floor(Zt/36e5),qn=Math.floor(ua/24),Us=qn>0?`${qn}d ${ua%24}h`:ua>0?`${ua}h`:"on time";return Pe?`Resolved ${Us} before deadline`:`Resolved ${Us} after deadline`}const Q=ae-X;if(Q<0){const _e=Math.abs(Math.floor(Q/36e5)),Pe=Math.floor(_e/24);return Pe>0?`Overdue by ${Pe}d ${_e%24}h`:`Overdue by ${_e}h`}const we=Math.floor(Q/864e5),Ne=Math.floor(Q%864e5/36e5),je=Math.floor(Q%36e5/6e4);return we>0?`${we}d ${Ne}h remaining`:Ne>0?`${Ne}h ${je}m remaining`:`${je}m remaining`},[i]),ie=b.useCallback(()=>{if(!(i!=null&&i.created_at))return"N/A";const X=i.resolved_at?new Date(i.resolved_at):new Date,ae=new Date(i.created_at),le=X-ae,fe=Math.floor(le/864e5),Q=Math.floor(le%864e5/36e5);return fe>0?`${fe}d ${Q}h`:`${Q}h`},[i]),ee=X=>({OPEN:"open",IN_PROGRESS:"progress",PENDING:"pending",ON_HOLD:"hold",RESOLVED:"closed",CLOSED:"closed",CANCELLED:"cancelled"})[X]||"default",ue=X=>({CRITICAL:"critical",HIGH:"high",MEDIUM:"medium",LOW:"low",PLANNING:"planning"})[X]||"default",re=X=>{const le={OPEN:Se,IN_PROGRESS:Ee,PENDING:Ee,ON_HOLD:Ee,RESOLVED:Ce,CLOSED:Ce,CANCELLED:Oe}[X]||Se;return a.jsx(le,{size:16})},de=()=>{var X;return!t||!i?!1:((X=t.permissions)==null?void 0:X.can_assign_tickets)||i.requester_id===t.user_id||i.assigned_to_id===t.user_id},ve=()=>{var X;return(X=t==null?void 0:t.permissions)==null?void 0:X.can_delete_tickets},me=()=>{var X;return(X=t==null?void 0:t.permissions)==null?void 0:X.can_assign_tickets},Z=b.useMemo(()=>{if(!i)return[];const X=[],ae=["COMMENT_ADDED","ATTACHMENT_ADDED","ATTACHMENT_DELETED"];X.push({id:"created",type:"created",description:`Ticket #${i.ticket_number} was created`,detail:i.subject,user:i.created_by_name||i.requester_name||"System",timestamp:i.created_at}),p.forEach(fe=>{const Q=(fe.activity_type||"").toUpperCase();if(ae.includes(Q)||Q==="CREATED")return;let we="update";Q==="ASSIGNED"||(fe.field_name||"").toLowerCase().includes("assign")?we="assigned":Q==="STATUS_CHANGED"||(fe.field_name||"").toLowerCase().includes("status")?we="status":Q==="PRIORITY_CHANGED"||(fe.field_name||"").toLowerCase().includes("priority")?we="priority":(Q.includes("ESCALAT")||(fe.field_name||"").toLowerCase().includes("escalat"))&&(we="escalated"),X.push({id:`act-${fe.activity_id}`,type:we,description:fe.description,user:fe.performed_by_name||"System",timestamp:fe.performed_at,oldValue:fe.old_value,newValue:fe.new_value,fieldName:fe.field_name})}),f.forEach(fe=>{X.push({id:`cmt-${fe.comment_id}`,type:fe.is_internal?"internal-note":"comment",description:fe.comment_text,user:fe.commenter_name||"Unknown",userRole:fe.commenter_role,timestamp:fe.commented_at,isInternal:fe.is_internal})});const le=new Date(i.created_at).getTime();return v.forEach(fe=>{const Q=new Date(fe.uploaded_at).getTime();if(Math.abs(Q-le)<5e3){const Ne=X.find(je=>je.id==="created");Ne&&(Ne.detail=(Ne.detail||"")+`   ${fe.file_name}`)}else X.push({id:`att-${fe.attachment_id}`,type:"attachment",description:fe.file_name,detail:c2(fe.file_size_kb),user:fe.uploaded_by_name||"Unknown",timestamp:fe.uploaded_at,attachment:fe})}),i.first_response_at&&(p.some(Q=>(Q.activity_type||"").toUpperCase().includes("FIRST_RESPONSE"))||X.push({id:"first-response",type:"first-response",description:i.first_response_sla_met?"First response sent within SLA target":"First response sent  SLA target exceeded",user:i.assigned_to_name||"Agent",timestamp:i.first_response_at})),i.is_escalated&&i.escalated_at&&(p.some(Q=>(Q.activity_type||"").toUpperCase().includes("ESCALAT"))||X.push({id:"escalated",type:"escalated",description:i.escalation_reason||`Escalated to ${i.escalated_to_name||"manager"}`,user:"System",timestamp:i.escalated_at})),i.resolved_at&&(p.some(Q=>(Q.new_value||"").toLowerCase().includes("resolved")&&(Q.field_name||"").toLowerCase().includes("status")||(Q.activity_type||"").toUpperCase()==="STATUS_CHANGED"&&(Q.new_value||"").toLowerCase().includes("resolved"))||X.push({id:"resolved",type:"resolved",description:i.resolution_notes||"Ticket was resolved",user:i.assigned_to_name||"Agent",timestamp:i.resolved_at})),i.closed_at&&i.closed_at!==i.resolved_at&&(p.some(Q=>(Q.new_value||"").toLowerCase().includes("closed")&&(Q.field_name||"").toLowerCase().includes("status")||(Q.activity_type||"").toUpperCase()==="STATUS_CHANGED"&&(Q.new_value||"").toLowerCase().includes("closed"))||X.push({id:"closed",type:"closed",description:"Ticket was closed",user:"System",timestamp:i.closed_at})),X.sort((fe,Q)=>new Date(fe.timestamp)-new Date(Q.timestamp)),X},[i,f,p,v]);if(l)return a.jsx("div",{className:"td-page",children:a.jsxs("div",{className:"td-loading",children:[a.jsx("div",{className:"td-spinner"}),a.jsx("p",{children:"Loading ticket details..."})]})});if(d||!i)return a.jsx("div",{className:"td-page",children:a.jsxs("div",{className:"td-error",children:[a.jsx(Se,{size:56}),a.jsx("h2",{children:"Ticket Not Found"}),a.jsx("p",{children:d||"The ticket does not exist or you lack permission to view it."}),a.jsxs("button",{className:"td-btn td-btn-primary",onClick:()=>r("/tickets"),children:[a.jsx(In,{size:18})," Back to Tickets"]})]})});const J=W();return a.jsxs("div",{className:"td-page",children:[a.jsxs("div",{className:"td-header",children:[a.jsxs("div",{className:"td-header-left",children:[a.jsxs("button",{className:"td-btn-back",onClick:()=>r("/tickets"),children:[a.jsx(In,{size:18}),a.jsx("span",{children:"Back"})]}),a.jsxs("div",{className:"td-ticket-badge",children:[a.jsx(T6,{size:14}),a.jsx("span",{children:i.ticket_number})]}),a.jsxs("div",{className:`td-status-pill td-status-${ee(i.status_code)}`,children:[re(i.status_code),a.jsx("span",{children:i.status_name})]}),a.jsxs("div",{className:`td-priority-pill td-priority-${ue(i.priority_code)}`,children:[(i.priority_code==="CRITICAL"||i.priority_code==="HIGH")&&a.jsx(Te,{size:14}),a.jsx("span",{children:i.priority_name})]}),J.status!=="none"&&a.jsxs("div",{className:`td-sla-pill td-sla-${J.status}`,children:[J.status==="ok"&&a.jsx(Ce,{size:14}),J.status==="warning"&&a.jsx(Te,{size:14}),J.status==="breached"&&a.jsx(Rr,{size:14}),J.status==="met"&&a.jsx(Ce,{size:14}),a.jsx("span",{children:J.label})]}),i.is_escalated&&a.jsxs("div",{className:"td-escalated-pill",children:[a.jsx(Te,{size:14}),a.jsx("span",{children:"Escalated"})]})]}),a.jsxs("div",{className:"td-header-right",children:[a.jsxs("div",{className:"td-refresh-info",children:[a.jsxs("span",{className:"td-refresh-time",children:["Updated ",Fu($)]}),a.jsx("button",{className:`td-btn-icon ${R?"spinning":""}`,onClick:()=>K(!0),title:"Refresh",children:a.jsx(ut,{size:16})})]}),de()&&a.jsxs("button",{className:"td-btn td-btn-secondary",onClick:()=>r(`/tickets/edit/${e}`),children:[a.jsx(zs,{size:16})," ",a.jsx("span",{children:"Edit"})]}),ve()&&a.jsxs("button",{className:"td-btn td-btn-danger",onClick:()=>M(!0),children:[a.jsx(jr,{size:16})," ",a.jsx("span",{children:"Delete"})]})]})]}),a.jsxs("div",{className:"td-journey-section td-journey-fullwidth",children:[a.jsxs("div",{className:"td-section-header",children:[a.jsxs("div",{className:"td-section-title",children:[a.jsx(Ss,{size:20}),a.jsx("h2",{children:"Ticket Journey"})]}),a.jsx("div",{className:"td-journey-header-right",children:a.jsxs("span",{className:"td-event-count",children:[Z.length," events"]})})]}),a.jsxs("div",{className:"td-hj-wrapper",children:[a.jsxs("div",{className:"td-hj-track",ref:U,style:{"--td-hj-count":Z.length},children:[Z.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"td-hj-line td-hj-line-bg"}),a.jsx("div",{className:"td-hj-line td-hj-line-fill"})]}),Z.map((X,ae)=>{const le=$u[X.type]||$u.update,fe=le.icon,Q=ae===0,we=ae===Z.length-1,Ne=T===X.id,je=["created","first-response","resolved","closed","escalated"].includes(X.type),_e=i&&["CLOSED","RESOLVED","CANCELLED"].includes(i.status_code);return a.jsxs("div",{className:`td-hj-node ${Q?"first":""} ${we?"last":""} ${Ne?"active":""} ${je?"milestone":""}`,style:{animationDelay:`${ae*.1}s`},onClick:()=>I(Ne?null:X.id),children:[Q&&a.jsxs("div",{className:"td-hj-badge td-hj-badge-start",children:[a.jsx(A6,{size:9})," START"]}),we&&_e&&a.jsxs("div",{className:"td-hj-badge td-hj-badge-finish",children:[a.jsx(G6,{size:9})," FINISH"]}),a.jsx("div",{className:`td-hj-dot ${Q?"td-hj-dot-start":""} ${we&&_e?"td-hj-dot-finish":""}`,style:{background:we&&_e?"linear-gradient(135deg, #059669, #10b981)":le.color,boxShadow:Ne?`0 0 0 4px ${le.bg}, 0 0 16px ${le.color}55`:Q?`0 0 0 4px ${le.bg}, 0 0 10px ${le.color}44`:`0 0 0 3px ${le.bg}`},children:a.jsx(fe,{size:je||Q?15:12,color:"#fff"})}),a.jsxs("div",{className:"td-hj-label",children:[a.jsx("span",{className:"td-hj-type",style:{color:le.color},children:le.label}),a.jsx("span",{className:"td-hj-time",children:Fu(X.timestamp)})]}),Ne&&a.jsx("div",{className:"td-hj-pointer",style:{borderBottomColor:le.color}})]},X.id)})]}),Z.length===0&&a.jsxs("div",{className:"td-empty-journey",children:[a.jsx(Ss,{size:40}),a.jsx("p",{children:"No journey events yet"})]})]}),T&&(()=>{const X=Z.find(fe=>fe.id===T);if(!X)return null;const ae=$u[X.type]||$u.update,le=ae.icon;return a.jsxs("div",{className:"td-hj-detail",style:{borderTopColor:ae.color},children:[a.jsxs("div",{className:"td-hj-detail-head",children:[a.jsx("div",{className:"td-hj-detail-icon",style:{background:ae.color},children:a.jsx(le,{size:18,color:"#fff"})}),a.jsxs("div",{className:"td-hj-detail-title",children:[a.jsx("span",{className:"td-hj-detail-type",style:{color:ae.color},children:ae.label}),a.jsx("span",{className:"td-hj-detail-date",children:Ws(X.timestamp)})]}),a.jsx("button",{className:"td-hj-detail-close",onClick:()=>I(null),children:a.jsx(Oe,{size:16})})]}),a.jsxs("div",{className:"td-hj-detail-body",children:[(X.type==="status"||X.type==="priority"||X.type==="assigned")&&X.oldValue&&X.newValue&&a.jsxs("div",{className:"td-change-display",children:[a.jsxs("span",{className:"td-change-field",children:[X.fieldName||X.type,":"]}),a.jsx("span",{className:"td-old-val",children:X.oldValue}),a.jsx(ni,{size:14,className:"td-change-arrow"}),a.jsx("span",{className:"td-new-val",children:X.newValue})]}),X.description&&a.jsx("p",{className:`td-event-desc ${X.type==="comment"||X.type==="internal-note"?"td-comment-text":""}`,children:X.description}),X.detail&&a.jsx("span",{className:"td-event-detail",children:X.detail}),X.type==="attachment"&&X.attachment&&a.jsxs("button",{className:"td-att-download",onClick:()=>V(X.attachment.attachment_id,X.attachment.file_name),children:[a.jsx(xo,{size:14})," Download"]})]}),a.jsxs("div",{className:"td-hj-detail-foot",children:[a.jsxs("div",{className:"td-event-user",children:[a.jsx("div",{className:"td-user-avatar",style:{background:ae.color},children:(X.user||"?")[0].toUpperCase()}),a.jsx("span",{children:X.user}),X.userRole&&a.jsxs("span",{className:"td-user-role",children:["(",X.userRole,")"]})]}),a.jsx("span",{className:"td-hj-relative",children:Fu(X.timestamp)})]})]})})()]}),a.jsxs("div",{className:"td-overview",children:[a.jsxs("div",{className:"td-overview-main",children:[a.jsx("h1",{className:"td-subject",children:i.subject||i.title||"No Subject"}),a.jsxs("div",{className:"td-description-wrap",children:[a.jsx("p",{className:"td-description",children:i.description?i.description.length>250&&!O?i.description.substring(0,250)+"...":i.description:"No description provided"}),((pe=i.description)==null?void 0:pe.length)>250&&a.jsx("button",{className:"td-desc-toggle",onClick:()=>z(!O),children:O?a.jsxs(a.Fragment,{children:[a.jsx(ZP,{size:14})," Show less"]}):a.jsxs(a.Fragment,{children:[a.jsx(Jf,{size:14})," Show more"]})})]})]}),a.jsxs("div",{className:"td-meta-grid",children:[a.jsxs("div",{className:"td-meta-item",children:[a.jsx(ma,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"Category"}),a.jsx("span",{className:"td-meta-value",children:i.category_name||"N/A"})]}),a.jsxs("div",{className:"td-meta-item",children:[a.jsx(na,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"Department"}),a.jsx("span",{className:"td-meta-value",children:i.department_name||"N/A"})]}),a.jsxs("div",{className:"td-meta-item",children:[a.jsx(Ke,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"Requester"}),a.jsx("span",{className:"td-meta-value",children:i.requester_name||"Unknown"}),i.requester_email&&a.jsx("span",{className:"td-meta-sub",children:i.requester_email})]}),a.jsxs("div",{className:"td-meta-item",children:[a.jsx(di,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"Assigned To"}),a.jsx("span",{className:"td-meta-value",children:i.assigned_to_name||"Unassigned"})]}),a.jsxs("div",{className:"td-meta-item",children:[a.jsx(vn,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"Created"}),a.jsx("span",{className:"td-meta-value",children:Ws(i.created_at)})]}),a.jsxs("div",{className:"td-meta-item",children:[a.jsx(Ee,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"Due Date"}),a.jsx("span",{className:`td-meta-value ${J.status==="breached"?"td-text-danger":""}`,children:i.due_date?Ws(i.due_date):"No SLA"})]}),a.jsxs("div",{className:"td-meta-item",children:[a.jsx(Ea,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"First Response"}),a.jsx("span",{className:"td-meta-value",children:i.first_response_at?Fu(i.first_response_at):"Pending"})]}),a.jsxs("div",{className:"td-meta-item",children:[a.jsx(Ss,{size:14,className:"td-meta-icon"}),a.jsx("span",{className:"td-meta-label",children:"Ticket Age"}),a.jsx("span",{className:"td-meta-value",children:ie()})]})]}),i.resolution_notes&&a.jsxs("div",{className:"td-resolution-box",children:[a.jsx(Ce,{size:16}),a.jsxs("div",{children:[a.jsx("strong",{children:"Resolution Notes"}),a.jsx("p",{children:i.resolution_notes})]})]})]}),a.jsxs("div",{className:"td-details-grid",children:[a.jsxs("div",{className:"td-details-col",children:[J.status!=="none"&&a.jsxs("div",{className:"td-card td-sla-card",children:[a.jsxs("div",{className:"td-card-header",children:[a.jsx(La,{size:18}),a.jsx("h3",{children:"SLA Status"})]}),a.jsxs("div",{className:"td-sla-content",children:[a.jsx("div",{className:"td-sla-badge-row",children:a.jsxs("div",{className:`td-sla-indicator td-sla-${J.status}`,style:{borderColor:J.color},children:[J.status==="met"||J.status==="ok"?a.jsx(Ce,{size:20}):J.status==="warning"?a.jsx(Te,{size:20}):a.jsx(Rr,{size:20}),a.jsxs("div",{children:[a.jsx("strong",{children:J.label}),a.jsx("span",{children:Y()})]})]})}),!J.closed&&a.jsxs("div",{className:"td-sla-progress",children:[a.jsx("div",{className:"td-sla-bar-track",children:a.jsx("div",{className:"td-sla-bar-fill",style:{width:`${Math.min(J.pct,100)}%`,backgroundColor:J.color}})}),a.jsxs("div",{className:"td-sla-pct",style:{color:J.color},children:[Math.round(J.pct),"% elapsed"]})]}),a.jsxs("div",{className:"td-sla-details",children:[a.jsxs("div",{className:"td-sla-row",children:[a.jsx("span",{children:"Created"}),a.jsx("span",{children:Ws(i.created_at)})]}),a.jsxs("div",{className:"td-sla-row",children:[a.jsx("span",{children:"Due By"}),a.jsx("span",{className:J.status==="breached"?"td-text-danger":"",children:Ws(i.due_date)})]}),i.resolved_at&&a.jsxs("div",{className:"td-sla-row",children:[a.jsx("span",{children:"Resolved"}),a.jsx("span",{children:Ws(i.resolved_at)})]})]})]})]}),a.jsxs("div",{className:"td-card",children:[a.jsxs("div",{className:"td-card-header",children:[a.jsx(Ae,{size:18}),a.jsx("h3",{children:"Ticket Details"})]}),a.jsxs("div",{className:"td-info-list",children:[a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Ticket ID"}),a.jsxs("span",{className:"td-info-value",children:["#",i.ticket_id]})]}),a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Created By"}),a.jsx("span",{className:"td-info-value",children:i.created_by_name||i.requester_name||"N/A"})]}),i.requester_email&&a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Email"}),a.jsx("span",{className:"td-info-value td-info-email",children:i.requester_email})]}),i.requester_phone&&a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Phone"}),a.jsx("span",{className:"td-info-value",children:i.requester_phone})]}),i.escalated_to_name&&a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Escalated To"}),a.jsx("span",{className:"td-info-value td-text-danger",children:i.escalated_to_name})]}),i.escalation_reason&&a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Escalation Reason"}),a.jsx("span",{className:"td-info-value",children:i.escalation_reason})]}),a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Last Updated"}),a.jsx("span",{className:"td-info-value",children:Ws(i.updated_at)})]}),i.rating&&a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Rating"}),a.jsxs("span",{className:"td-info-value",children:["".repeat(i.rating),"".repeat(5-i.rating)]})]}),i.feedback&&a.jsxs("div",{className:"td-info-row",children:[a.jsx("span",{className:"td-info-label",children:"Feedback"}),a.jsx("span",{className:"td-info-value",children:i.feedback})]})]})]})]}),a.jsxs("div",{className:"td-details-col",children:[me()&&a.jsxs("div",{className:"td-card",children:[a.jsxs("div",{className:"td-card-header",children:[a.jsx(di,{size:18}),a.jsx("h3",{children:"Assign Engineer"})]}),a.jsxs("div",{className:"td-assign-form",children:[a.jsxs("select",{className:"td-select",value:w,onChange:X=>j(X.target.value),children:[a.jsx("option",{value:"",children:"Select Engineer..."}),y.map(X=>a.jsxs("option",{value:X.user_id,children:[X.full_name||X.username,X.user_id===i.assigned_to_id?" (Current)":""]},X.user_id))]}),a.jsxs("button",{className:"td-btn td-btn-assign",onClick:B,disabled:N||!w,children:[a.jsx(di,{size:16}),N?"Assigning...":"Assign"]})]})]}),a.jsxs("div",{className:"td-card",children:[a.jsxs("div",{className:"td-card-header",children:[a.jsx(Yn,{size:18}),a.jsx("h3",{children:"Add Comment"})]}),a.jsxs("div",{className:"td-comment-form",children:[a.jsx("textarea",{className:"td-textarea",value:_,onChange:X=>k(X.target.value),placeholder:"Write a comment...",rows:4}),a.jsxs("div",{className:"td-comment-actions",children:[a.jsxs("label",{className:"td-internal-toggle",children:[a.jsx("input",{type:"checkbox",checked:P,onChange:X=>E(X.target.checked)}),P?a.jsx(ta,{size:14}):a.jsx(_t,{size:14}),a.jsx("span",{children:"Internal Note"})]}),a.jsxs("button",{className:"td-btn td-btn-primary",onClick:H,disabled:C||!_.trim(),children:[a.jsx(so,{size:14}),C?"Posting...":"Post"]})]})]})]}),a.jsxs("div",{className:"td-card",children:[a.jsxs("div",{className:"td-card-header",children:[a.jsx(gc,{size:18}),a.jsx("h3",{children:"Attachments"}),a.jsx("span",{className:"td-count-badge",children:v.length})]}),v.length===0?a.jsxs("div",{className:"td-empty-small",children:[a.jsx(gc,{size:28}),a.jsx("p",{children:"No attachments"})]}):a.jsx("div",{className:"td-att-list",children:v.map(X=>{const ae=ZQ(X.file_name);return a.jsxs("div",{className:"td-att-item",children:[a.jsx("div",{className:"td-att-icon",children:a.jsx(ae,{size:18})}),a.jsxs("div",{className:"td-att-info",children:[a.jsx("span",{className:"td-att-name",children:X.file_name}),a.jsxs("span",{className:"td-att-meta",children:[c2(X.file_size_kb),"  ",X.uploaded_by_name||"Unknown"]})]}),a.jsx("button",{className:"td-btn-icon",onClick:()=>V(X.attachment_id,X.file_name),title:"Download",children:a.jsx(xo,{size:16})})]},X.attachment_id)})})]})]})]}),D&&a.jsx("div",{className:"td-modal-overlay",onClick:()=>M(!1),children:a.jsxs("div",{className:"td-modal",onClick:X=>X.stopPropagation(),children:[a.jsx("div",{className:"td-modal-icon",children:a.jsx(Te,{size:32})}),a.jsx("h3",{children:"Delete Ticket?"}),a.jsxs("p",{children:["This will permanently delete ticket ",a.jsxs("strong",{children:["#",i.ticket_number]}),". This action cannot be undone."]}),a.jsxs("div",{className:"td-modal-actions",children:[a.jsx("button",{className:"td-btn td-btn-secondary",onClick:()=>M(!1),children:"Cancel"}),a.jsxs("button",{className:"td-btn td-btn-danger",onClick:()=>{F(),M(!1)},children:[a.jsx(jr,{size:16})," Delete"]})]})]})})]})},JQ=()=>{var q,R,L;const{id:e}=lP(),{user:t}=sr(),r=jt(),[n,s]=b.useState({subject:"",description:"",category_id:"",priority_id:"",status_id:"",assigned_to:"",department_id:"",resolution_notes:""}),[i,o]=b.useState(null),[l,c]=b.useState([]),[d,u]=b.useState([]),[f,h]=b.useState([]),[p,m]=b.useState([]),[v,g]=b.useState([]),[y,x]=b.useState(!0),[w,j]=b.useState(!1),[N,S]=b.useState(""),[_,k]=b.useState({}),[P,E]=b.useState(!1);b.useEffect(()=>{e&&(C(),A())},[e]),b.useEffect(()=>{if(i){const T=n.subject!==i.subject||n.description!==i.description||n.category_id!==i.category_id||n.priority_id!==i.priority_id||n.status_id!==i.status_id||n.assigned_to!==(i.assigned_to_id||"")||n.department_id!==(i.department_id||"")||n.resolution_notes!==(i.resolution_notes||"");E(T)}},[n,i]);const C=async()=>{var T,I,U,K;try{x(!0),S("");const H=await oe.get(`/tickets/${e}`);if(H.data.success){const B=H.data.data;if(!(B.requester_id===(t==null?void 0:t.user_id)||((T=t==null?void 0:t.permissions)==null?void 0:T.can_assign_tickets)||((I=t==null?void 0:t.permissions)==null?void 0:I.can_manage_tickets))){S("You do not have permission to edit this ticket");return}o(B),s({subject:B.subject||"",description:B.description||"",category_id:B.category_id||"",priority_id:B.priority_id||"",status_id:B.status_id||"",assigned_to:B.assigned_to_id||"",department_id:B.department_id||"",resolution_notes:B.resolution_notes||""})}}catch(H){console.error("Error fetching ticket:",H),S(((K=(U=H.response)==null?void 0:U.data)==null?void 0:K.message)||"Failed to load ticket")}finally{x(!1)}},A=async()=>{try{const[T,I,U,K,H]=await Promise.all([oe.get("/system/categories"),oe.get("/system/priorities"),oe.get("/system/statuses"),oe.get("/system/engineers"),oe.get("/system/departments")]);T.data.success&&c(T.data.data),I.data.success&&u(I.data.data),U.data.success&&h(U.data.data),K.data.success&&m(K.data.data),H.data.success&&g(H.data.data)}catch(T){console.error("Error fetching dropdown data:",T)}},D=T=>{const{name:I,value:U}=T.target;s(K=>({...K,[I]:U})),_[I]&&k(K=>({...K,[I]:""}))},M=()=>{const T={};(!n.subject||!n.subject.trim())&&(T.subject="Subject is required"),(!n.description||!n.description.trim())&&(T.description="Description is required"),n.category_id||(T.category_id="Category is required"),n.priority_id||(T.priority_id="Priority is required"),n.status_id||(T.status_id="Status is required");const I=f.find(U=>U.status_id===parseInt(n.status_id));return I&&(I.status_code==="RESOLVED"||I.status_code==="CLOSED")&&(!n.resolution_notes||!n.resolution_notes.trim())&&(T.resolution_notes="Resolution notes are required when closing a ticket"),k(T),Object.keys(T).length===0},O=async T=>{var I,U;if(T.preventDefault(),!!M()){if(!P){alert("No changes detected");return}try{j(!0);const K={};n.subject!==i.subject&&(K.subject=n.subject),n.description!==i.description&&(K.description=n.description),n.category_id!==i.category_id&&(K.category_id=parseInt(n.category_id)),n.priority_id!==i.priority_id&&(K.priority_id=parseInt(n.priority_id)),n.status_id!==i.status_id&&(K.status_id=parseInt(n.status_id)),n.assigned_to!==(i.assigned_to_id||"")&&(K.assigned_to=n.assigned_to?parseInt(n.assigned_to):null),n.department_id!==(i.department_id||"")&&(K.department_id=n.department_id?parseInt(n.department_id):null),n.resolution_notes!==(i.resolution_notes||"")&&(K.resolution_notes=n.resolution_notes),(await oe.put(`/tickets/${e}`,K)).data.success&&(alert("Ticket updated successfully!"),r(`/tickets/${e}`))}catch(K){console.error("Error updating ticket:",K),S(((U=(I=K.response)==null?void 0:I.data)==null?void 0:U.message)||"Failed to update ticket")}finally{j(!1)}}},z=()=>{P?window.confirm("You have unsaved changes. Are you sure you want to leave?")&&r(`/tickets/${e}`):r(`/tickets/${e}`)},$=((q=t==null?void 0:t.permissions)==null?void 0:q.can_assign_tickets)||((R=t==null?void 0:t.permissions)==null?void 0:R.can_manage_tickets);return y?a.jsx("div",{className:"edit-ticket-page",children:a.jsxs("div",{className:"loading-container",children:[a.jsx(Ie,{className:"spinner",size:48}),a.jsx("p",{children:"Loading ticket details..."})]})}):N&&!i?a.jsx("div",{className:"edit-ticket-page",children:a.jsxs("div",{className:"error-container",children:[a.jsx(Se,{size:64,className:"error-icon"}),a.jsx("h2",{children:"Cannot Edit Ticket"}),a.jsx("p",{children:N}),a.jsxs("button",{className:"btn-primary",onClick:()=>r("/tickets"),children:[a.jsx(In,{size:18}),"Back to Tickets"]})]})}):a.jsxs("div",{className:"edit-ticket-page",children:[a.jsxs("div",{className:"page-header",children:[a.jsxs("div",{className:"header-left",children:[a.jsxs("button",{className:"btn-back",onClick:z,children:[a.jsx(In,{size:20}),a.jsx("span",{children:"Back"})]}),a.jsxs("div",{className:"page-title-section",children:[a.jsx(Pt,{size:28,className:"page-icon"}),a.jsxs("div",{children:[a.jsx("h1",{className:"page-title",children:"Edit Ticket"}),a.jsxs("p",{className:"page-subtitle",children:["#",i==null?void 0:i.ticket_number]})]})]})]}),a.jsx("div",{className:"header-right",children:P&&a.jsxs("span",{className:"unsaved-badge",children:[a.jsx(Se,{size:16}),"Unsaved Changes"]})})]}),N&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx(Se,{size:20}),a.jsx("span",{children:N}),a.jsx("button",{onClick:()=>S(""),className:"alert-close",children:a.jsx(Oe,{size:16})})]}),a.jsxs("form",{onSubmit:O,className:"edit-ticket-form",children:[a.jsxs("div",{className:"form-grid",children:[a.jsx("div",{className:"form-column",children:a.jsxs("div",{className:"form-card",children:[a.jsx("h2",{className:"form-card-title",children:"Ticket Details"}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"subject",className:"form-label required",children:[a.jsx(Yr,{size:16}),"Subject"]}),a.jsx("input",{type:"text",id:"subject",name:"subject",value:n.subject,onChange:D,className:`form-input ${_.subject?"error":""}`,placeholder:"Enter ticket subject"}),_.subject&&a.jsx("span",{className:"error-message",children:_.subject})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"description",className:"form-label required",children:[a.jsx(Yr,{size:16}),"Description"]}),a.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:D,rows:6,className:`form-textarea ${_.description?"error":""}`,placeholder:"Describe the issue in detail..."}),_.description&&a.jsx("span",{className:"error-message",children:_.description})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"category_id",className:"form-label required",children:[a.jsx(ma,{size:16}),"Category"]}),a.jsxs("select",{id:"category_id",name:"category_id",value:n.category_id,onChange:D,className:`form-select ${_.category_id?"error":""}`,children:[a.jsx("option",{value:"",children:"Select Category"}),l.map(T=>a.jsx("option",{value:T.category_id,children:T.category_name},T.category_id))]}),_.category_id&&a.jsx("span",{className:"error-message",children:_.category_id})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"priority_id",className:"form-label required",children:[a.jsx(Te,{size:16}),"Priority"]}),a.jsxs("select",{id:"priority_id",name:"priority_id",value:n.priority_id,onChange:D,className:`form-select ${_.priority_id?"error":""}`,children:[a.jsx("option",{value:"",children:"Select Priority"}),d.map(T=>a.jsx("option",{value:T.priority_id,children:T.priority_name},T.priority_id))]}),_.priority_id&&a.jsx("span",{className:"error-message",children:_.priority_id})]})]})}),a.jsx("div",{className:"form-column",children:a.jsxs("div",{className:"form-card",children:[a.jsx("h2",{className:"form-card-title",children:"Status & Assignment"}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"status_id",className:"form-label required",children:[a.jsx(Ce,{size:16}),"Status"]}),a.jsxs("select",{id:"status_id",name:"status_id",value:n.status_id,onChange:D,className:`form-select ${_.status_id?"error":""}`,children:[a.jsx("option",{value:"",children:"Select Status"}),f.map(T=>a.jsx("option",{value:T.status_id,children:T.status_name},T.status_id))]}),_.status_id&&a.jsx("span",{className:"error-message",children:_.status_id})]}),$&&a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"assigned_to",className:"form-label",children:[a.jsx(Ke,{size:16}),"Assign To"]}),a.jsxs("select",{id:"assigned_to",name:"assigned_to",value:n.assigned_to,onChange:D,className:"form-select",children:[a.jsx("option",{value:"",children:"Unassigned"}),p.map(T=>a.jsx("option",{value:T.user_id,children:T.full_name||T.username},T.user_id))]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_id",className:"form-label",children:[a.jsx(Pt,{size:16}),"Department"]}),a.jsxs("select",{id:"department_id",name:"department_id",value:n.department_id,onChange:D,className:"form-select",children:[a.jsx("option",{value:"",children:"Select Department"}),v.map(T=>a.jsx("option",{value:T.department_id,children:T.department_name},T.department_id))]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"resolution_notes",className:"form-label",children:[a.jsx(Ce,{size:16}),"Resolution Notes",n.status_id&&["RESOLVED","CLOSED"].includes((L=f.find(T=>T.status_id===parseInt(n.status_id)))==null?void 0:L.status_code)&&a.jsx("span",{className:"required-indicator",children:" *"})]}),a.jsx("textarea",{id:"resolution_notes",name:"resolution_notes",value:n.resolution_notes,onChange:D,rows:4,className:`form-textarea ${_.resolution_notes?"error":""}`,placeholder:"Enter resolution details (required when closing ticket)..."}),_.resolution_notes&&a.jsx("span",{className:"error-message",children:_.resolution_notes}),a.jsx("small",{className:"form-help",children:"Provide details about how the issue was resolved"})]})]})})]}),a.jsxs("div",{className:"form-actions",children:[a.jsxs("button",{type:"button",className:"btn-secondary",onClick:z,disabled:w,children:[a.jsx(Oe,{size:18}),"Cancel"]}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:w||!P,children:w?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Save Changes"]})})]})]})]})},eJ=()=>{const{user:e}=sr(),t=jt(),r=Nn(),[n,s]=b.useState([]),[i,o]=b.useState([]),[l,c]=b.useState(!0),[d,u]=b.useState(""),[f,h]=b.useState("all"),[p,m]=b.useState(""),[v,g]=b.useState("created"),[y,x]=b.useState({total:0,open:0,in_progress:0,closed:0,assigned_to_me:0,created_by_me:0});b.useEffect(()=>{w()},[v]),b.useEffect(()=>{N()},[f,p,n]);const w=async()=>{var O,z;try{c(!0),u("");const $={limit:100};v==="created"?$.requester_id=e.user_id:v==="assigned"&&($.assigned_to=e.user_id);const q=await oe.get("/tickets",{params:$});if(q.data.success){const R=q.data.data.tickets||[];s(R),j(R)}}catch($){console.error("Error fetching tickets:",$),u(((z=(O=$.response)==null?void 0:O.data)==null?void 0:z.message)||"Failed to load tickets"),r.error("Failed to load tickets")}finally{c(!1)}},j=O=>{const z={total:O.length,open:O.filter($=>$.status_code==="OPEN").length,in_progress:O.filter($=>$.status_code==="IN_PROGRESS").length,closed:O.filter($=>$.status_code==="RESOLVED"||$.status_code==="CLOSED").length,assigned_to_me:O.filter($=>$.assigned_to===e.user_id).length,created_by_me:O.filter($=>$.requester_id===e.user_id).length};x(z)},N=()=>{let O=[...n];if(f==="open"?O=O.filter(z=>z.status_code==="OPEN"):f==="in_progress"?O=O.filter(z=>z.status_code==="IN_PROGRESS"):f==="closed"&&(O=O.filter(z=>z.status_code==="RESOLVED"||z.status_code==="CLOSED")),p.trim()){const z=p.toLowerCase();O=O.filter($=>{var q,R,L,T;return((q=$.ticket_number)==null?void 0:q.toLowerCase().includes(z))||((R=$.title)==null?void 0:R.toLowerCase().includes(z))||((L=$.description)==null?void 0:L.toLowerCase().includes(z))||((T=$.category_name)==null?void 0:T.toLowerCase().includes(z))})}o(O)},S=O=>{g(O),h("all"),m(""),r.info(`Viewing tickets ${O==="created"?"created by you":"assigned to you"}`)},_=(O,z)=>{r.info(`Opening ticket ${z||""}`),t(`/tickets/${O}`)},k=()=>{r.info("Opening ticket form..."),t("/tickets/create")},P=()=>{r.info("Refreshing tickets..."),w()},E=O=>O?new Date(O).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",C=O=>{if(!O)return"N/A";const z=new Date(O),q=new Date-z,R=Math.floor(q/6e4),L=Math.floor(R/60),T=Math.floor(L/24);return R<1?"Just now":R<60?`${R}m ago`:L<24?`${L}h ago`:T<7?`${T}d ago`:E(O)},A=O=>({OPEN:"status-open",IN_PROGRESS:"status-progress",PENDING:"status-pending",ON_HOLD:"status-hold",RESOLVED:"status-closed",CLOSED:"status-closed",CANCELLED:"status-cancelled"})[O]||"status-default",D=O=>({CRITICAL:"priority-critical",HIGH:"priority-high",MEDIUM:"priority-medium",LOW:"priority-low",PLANNING:"priority-planning"})[O]||"priority-default",M=O=>({OPEN:Se,IN_PROGRESS:Ee,PENDING:Ee,ON_HOLD:Ee,RESOLVED:Ce,CLOSED:Ce,CANCELLED:Se})[O]||Se;return l?a.jsx("div",{className:"my-tickets-page",children:a.jsxs("div",{className:"loading-container",children:[a.jsx(Ie,{className:"spinner",size:48}),a.jsx("p",{children:"Loading your tickets..."})]})}):a.jsxs("div",{className:"my-tickets-page",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("div",{className:"header-left",children:a.jsxs("div",{className:"page-title-section",children:[a.jsx(Pt,{size:32,className:"page-icon"}),a.jsxs("div",{children:[a.jsx("h1",{className:"page-title",children:"My Tickets"}),a.jsx("p",{className:"page-subtitle",children:v==="created"?"Tickets you have created":"Tickets assigned to you"})]})]})}),a.jsxs("div",{className:"header-right",children:[a.jsx("button",{className:"btn-icon-action",onClick:P,title:"Refresh",children:a.jsx(ut,{size:18})}),a.jsxs("button",{className:"btn-primary",onClick:k,children:[a.jsx(Vr,{size:18}),a.jsx("span",{children:"New Ticket"})]})]})]}),d&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx(Se,{size:20}),a.jsx("span",{children:d})]}),a.jsxs("div",{className:"view-mode-toggle",children:[a.jsxs("button",{className:`toggle-btn ${v==="created"?"active":""}`,onClick:()=>S("created"),children:[a.jsx(Ke,{size:18}),a.jsx("span",{children:"Created by Me"}),a.jsx("span",{className:"badge",children:y.created_by_me})]}),a.jsxs("button",{className:`toggle-btn ${v==="assigned"?"active":""}`,onClick:()=>S("assigned"),children:[a.jsx(Ce,{size:18}),a.jsx("span",{children:"Assigned to Me"}),a.jsx("span",{className:"badge",children:y.assigned_to_me})]})]}),a.jsxs("div",{className:"stats-grid",children:[a.jsxs("div",{className:`stat-card ${f==="all"?"active":""}`,onClick:()=>h("all"),children:[a.jsx("div",{className:"stat-icon all",children:a.jsx(Pt,{size:24})}),a.jsxs("div",{className:"stat-content",children:[a.jsx("p",{className:"stat-label",children:"All Tickets"}),a.jsx("h3",{className:"stat-value",children:y.total})]})]}),a.jsxs("div",{className:`stat-card ${f==="open"?"active":""}`,onClick:()=>h("open"),children:[a.jsx("div",{className:"stat-icon open",children:a.jsx(Se,{size:24})}),a.jsxs("div",{className:"stat-content",children:[a.jsx("p",{className:"stat-label",children:"Open"}),a.jsx("h3",{className:"stat-value",children:y.open})]})]}),a.jsxs("div",{className:`stat-card ${f==="in_progress"?"active":""}`,onClick:()=>h("in_progress"),children:[a.jsx("div",{className:"stat-icon progress",children:a.jsx(Ee,{size:24})}),a.jsxs("div",{className:"stat-content",children:[a.jsx("p",{className:"stat-label",children:"In Progress"}),a.jsx("h3",{className:"stat-value",children:y.in_progress})]})]}),a.jsxs("div",{className:`stat-card ${f==="closed"?"active":""}`,onClick:()=>h("closed"),children:[a.jsx("div",{className:"stat-icon closed",children:a.jsx(Ce,{size:24})}),a.jsxs("div",{className:"stat-content",children:[a.jsx("p",{className:"stat-label",children:"Closed"}),a.jsx("h3",{className:"stat-value",children:y.closed})]})]})]}),a.jsx("div",{className:"search-bar",children:a.jsxs("div",{className:"search-input-wrapper",children:[a.jsx(aa,{size:20,className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search tickets by number, title, or description...",value:p,onChange:O=>m(O.target.value),className:"search-input"}),p&&a.jsx("button",{className:"clear-search",onClick:()=>m(""),children:""})]})}),a.jsxs("div",{className:"tickets-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsxs("h2",{className:"section-title",children:[f==="all"&&"All Tickets",f==="open"&&"Open Tickets",f==="in_progress"&&"In Progress",f==="closed"&&"Closed Tickets"]}),a.jsxs("span",{className:"section-count",children:[i.length," ",i.length===1?"ticket":"tickets"]})]}),i.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx(Pt,{size:64,className:"empty-icon"}),a.jsx("h3",{children:"No tickets found"}),a.jsx("p",{children:p?"Try adjusting your search terms":f==="all"?v==="created"?"You haven't created any tickets yet":"No tickets assigned to you":`No ${f==="closed"?"closed":f.replace("_"," ")} tickets`}),!p&&f==="all"&&v==="created"&&a.jsxs("button",{className:"btn-primary",onClick:k,children:[a.jsx(Vr,{size:18}),"Create Your First Ticket"]})]}):a.jsx("div",{className:"tickets-grid",children:i.map(O=>{var $,q;const z=M(O.status_code);return a.jsxs("div",{className:"ticket-card",onClick:()=>_(O.ticket_id,O.ticket_number),children:[a.jsxs("div",{className:"ticket-card-header",children:[a.jsxs("div",{className:"ticket-number",children:[a.jsx("span",{className:"ticket-hash",children:"#"}),O.ticket_number]}),a.jsx("div",{className:"ticket-badges",children:a.jsxs("span",{className:`status-badge ${A(O.status_code)}`,children:[a.jsx(z,{size:14}),O.status_name]})})]}),a.jsxs("div",{className:"ticket-card-content",children:[a.jsx("h3",{className:"ticket-title",children:O.title||O.subject||"No Title"}),a.jsxs("p",{className:"ticket-description",children:[($=O.description)==null?void 0:$.substring(0,120),((q=O.description)==null?void 0:q.length)>120?"...":""]})]}),a.jsxs("div",{className:"ticket-card-meta",children:[a.jsxs("div",{className:"meta-row",children:[a.jsxs("span",{className:`priority-badge ${D(O.priority_code)}`,children:[O.priority_code==="CRITICAL"||O.priority_code==="HIGH"?a.jsx(Te,{size:14}):null,O.priority_name]}),O.category_name&&a.jsxs("span",{className:"category-badge",children:[a.jsx(ma,{size:14}),O.category_name]})]}),a.jsxs("div",{className:"meta-row",children:[a.jsxs("span",{className:"meta-item",children:[a.jsx(vn,{size:14}),C(O.created_at)]}),v==="created"&&O.assigned_to_name&&a.jsxs("span",{className:"meta-item",children:[a.jsx(Ke,{size:14}),O.assigned_to_name]})]}),(O.comments_count>0||O.attachments_count>0)&&a.jsxs("div",{className:"meta-row",children:[O.comments_count>0&&a.jsxs("span",{className:"meta-item",children:[a.jsx(Yn,{size:14}),O.comments_count]}),O.attachments_count>0&&a.jsxs("span",{className:"meta-item",children:[a.jsx(gc,{size:14}),O.attachments_count]})]})]}),a.jsx("div",{className:"ticket-card-footer",children:a.jsxs("button",{className:"view-details-btn",children:[a.jsx("span",{children:"View Details"}),a.jsx(ni,{size:16})]})})]},O.ticket_id)})})]})]})},tJ=({onClose:e,onSuccess:t,roles:r,departments:n})=>{const s=Nn(),[i,o]=b.useState({username:"",email:"",password:"",confirm_password:"",first_name:"",last_name:"",phone_number:"",role_id:"",department_id:""}),[l,c]=b.useState({}),[d,u]=b.useState(!1),[f,h]=b.useState(""),[p,m]=b.useState(null),[v,g]=b.useState(!0),[y,x]=b.useState({score:0,feedback:[]});b.useEffect(()=>{(async()=>{try{g(!0);const E=await oe.get("/security/settings");if(E.data.success&&E.data.data){const C=E.data.data,A={minLength:parseInt(C.password_min_length)||8,requireUppercase:C.password_require_uppercase==="true"||C.password_require_uppercase===!0,requireLowercase:C.password_require_lowercase==="true"||C.password_require_lowercase===!0,requireNumber:C.password_require_number==="true"||C.password_require_number===!0,requireSpecial:C.password_require_special==="true"||C.password_require_special===!0,historyCount:parseInt(C.password_history_count)||5};m(A),console.log(" Password policy loaded for Create User:",A)}}catch(E){console.error(" Error fetching password policy:",E),m({minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumber:!0,requireSpecial:!0,historyCount:5})}finally{g(!1)}})()},[]);const w=P=>{if(!p)return{score:0,feedback:[]};let E=0;const C=[];return P.length>=p.minLength?(E++,C.push(` At least ${p.minLength} characters`)):C.push(` Needs at least ${p.minLength} characters`),p.requireUppercase&&p.requireLowercase&&(/[a-z]/.test(P)&&/[A-Z]/.test(P)?(E++,C.push(" Contains uppercase and lowercase")):C.push(" Needs uppercase and lowercase letters")),p.requireNumber&&(/\d/.test(P)?(E++,C.push(" Contains numbers")):C.push(" Needs numbers")),p.requireSpecial&&(/[!@#$%^&*(),.?":{}|<>]/.test(P)?(E++,C.push(" Contains special characters")):C.push(" Needs special characters")),{score:E,feedback:C}},j=()=>{const{score:P}=y;return P===0?"#e5e7eb":P===1?"#ef4444":P===2?"#f59e0b":P===3?"#3b82f6":"#22c55e"},N=()=>{const{score:P}=y;return P===0?"":P===1?"Weak":P===2?"Fair":P===3?"Good":"Strong"},S=P=>{const{name:E,value:C}=P.target;o(A=>({...A,[E]:C})),E==="password"&&p&&x(w(C)),l[E]&&c(A=>({...A,[E]:""}))},_=()=>{const P={};return i.username.trim()?i.username.length<3&&(P.username="Username must be at least 3 characters"):P.username="Username is required",i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(P.email="Invalid email format"):P.email="Email is required",i.password?p&&(i.password.length<p.minLength&&(P.password=`Password must be at least ${p.minLength} characters`),p.requireUppercase&&!/[A-Z]/.test(i.password)&&(P.password="Password must contain uppercase letters"),p.requireLowercase&&!/[a-z]/.test(i.password)&&(P.password="Password must contain lowercase letters"),p.requireNumber&&!/\d/.test(i.password)&&(P.password="Password must contain numbers"),p.requireSpecial&&!/[!@#$%^&*(),.?":{}|<>]/.test(i.password)&&(P.password="Password must contain special characters")):P.password="Password is required",i.confirm_password?i.password!==i.confirm_password&&(P.confirm_password="Passwords do not match"):P.confirm_password="Please confirm password",i.first_name.trim()||(P.first_name="First name is required"),i.last_name.trim()||(P.last_name="Last name is required"),i.role_id||(P.role_id="Role is required"),c(P),Object.keys(P).length===0},k=async P=>{var E,C,A;if(P.preventDefault(),!!_())try{u(!0),h("");const D={username:i.username,email:i.email,password:i.password,first_name:i.first_name,last_name:i.last_name,phone_number:i.phone_number||null,role_id:parseInt(i.role_id),department_id:i.department_id?parseInt(i.department_id):null},M=await oe.post("/users",D);if(M.data.success){const O=(E=M.data.data)==null?void 0:E.user_id;s.success(`User "${i.username}" created successfully!${O?` (ID: ${O})`:""}`),t(),e()}}catch(D){console.error("Error creating user:",D);const M=((A=(C=D.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to create user. Please try again.";h(M),s.error(M)}finally{u(!1)}};return a.jsx("div",{className:"modal-overlay",onClick:e,children:a.jsxs("div",{className:"modal-content modal-large",onClick:P=>P.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(Ke,{size:24,className:"modal-icon"}),a.jsx("h2",{className:"modal-title",children:"Create New User"})]}),a.jsx("button",{className:"modal-close",onClick:e,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[f&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:f})}),a.jsx("form",{onSubmit:k,className:"user-form",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-column",children:[a.jsx("h3",{className:"form-section-title",children:"Account Information"}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"username",className:"form-label required",children:[a.jsx(Ke,{size:16}),"Username"]}),a.jsx("input",{type:"text",id:"username",name:"username",value:i.username,onChange:S,className:`form-input ${l.username?"error":""}`,placeholder:"Enter username"}),l.username&&a.jsx("span",{className:"error-message",children:l.username})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"email",className:"form-label required",children:[a.jsx(Qe,{size:16}),"Email"]}),a.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:S,className:`form-input ${l.email?"error":""}`,placeholder:"Enter email address"}),l.email&&a.jsx("span",{className:"error-message",children:l.email})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"password",className:"form-label required",children:[a.jsx(Ge,{size:16}),"Password"]}),a.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:S,className:`form-input ${l.password?"error":""}`,placeholder:"Enter password",disabled:v}),l.password&&a.jsx("span",{className:"error-message",children:l.password}),i.password&&p&&a.jsxs("div",{style:{marginTop:"0.5rem"},children:[a.jsx("div",{style:{height:"4px",background:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${y.score/4*100}%`,height:"100%",background:j(),transition:"all 0.3s ease"}})}),a.jsx("small",{style:{color:j(),fontSize:"0.75rem",fontWeight:"600",marginTop:"0.25rem",display:"block"},children:N()})]}),p&&a.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#f9fafb",borderRadius:"6px",fontSize:"0.75rem"},children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:"#374151"},children:"Password Requirements:"}),i.password?a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[a.jsxs("div",{style:{color:i.password.length>=p.minLength?"#22c55e":"#ef4444"},children:[i.password.length>=p.minLength?"":""," At least ",p.minLength," characters"]}),p.requireUppercase&&p.requireLowercase&&a.jsxs("div",{style:{color:/[a-z]/.test(i.password)&&/[A-Z]/.test(i.password)?"#22c55e":"#ef4444"},children:[/[a-z]/.test(i.password)&&/[A-Z]/.test(i.password)?"":""," Uppercase and lowercase letters"]}),p.requireNumber&&a.jsxs("div",{style:{color:/\d/.test(i.password)?"#22c55e":"#ef4444"},children:[/\d/.test(i.password)?"":""," At least one number"]}),p.requireSpecial&&a.jsxs("div",{style:{color:/[!@#$%^&*(),.?":{}|<>]/.test(i.password)?"#22c55e":"#ef4444"},children:[/[!@#$%^&*(),.?":{}|<>]/.test(i.password)?"":""," Special characters (!@#$%^&*)"]})]}):a.jsxs("div",{style:{color:"#6b7280"},children:[" ",p.minLength,"+ characters",p.requireUppercase&&p.requireLowercase&&"  Uppercase & lowercase",p.requireNumber&&"  Numbers",p.requireSpecial&&"  Special chars"]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"confirm_password",className:"form-label required",children:[a.jsx(Ge,{size:16}),"Confirm Password"]}),a.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:i.confirm_password,onChange:S,className:`form-input ${l.confirm_password?"error":""}`,placeholder:"Re-enter password"}),l.confirm_password&&a.jsx("span",{className:"error-message",children:l.confirm_password})]})]}),a.jsxs("div",{className:"form-column",children:[a.jsx("h3",{className:"form-section-title",children:"Personal Information"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"first_name",className:"form-label required",children:"First Name"}),a.jsx("input",{type:"text",id:"first_name",name:"first_name",value:i.first_name,onChange:S,className:`form-input ${l.first_name?"error":""}`,placeholder:"Enter first name"}),l.first_name&&a.jsx("span",{className:"error-message",children:l.first_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"last_name",className:"form-label required",children:"Last Name"}),a.jsx("input",{type:"text",id:"last_name",name:"last_name",value:i.last_name,onChange:S,className:`form-input ${l.last_name?"error":""}`,placeholder:"Enter last name"}),l.last_name&&a.jsx("span",{className:"error-message",children:l.last_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"phone_number",className:"form-label",children:[a.jsx(Io,{size:16}),"Phone Number"]}),a.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:i.phone_number,onChange:S,className:"form-input",placeholder:"Enter phone number"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"role_id",className:"form-label required",children:[a.jsx(Ae,{size:16}),"Role"]}),a.jsxs("select",{id:"role_id",name:"role_id",value:i.role_id,onChange:S,className:`form-select ${l.role_id?"error":""}`,children:[a.jsx("option",{value:"",children:"Select Role"}),r.map(P=>a.jsx("option",{value:P.role_id,children:P.role_name},P.role_id))]}),l.role_id&&a.jsx("span",{className:"error-message",children:l.role_id})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_id",className:"form-label",children:[a.jsx(na,{size:16}),"Department"]}),a.jsxs("select",{id:"department_id",name:"department_id",value:i.department_id,onChange:S,className:"form-select",children:[a.jsx("option",{value:"",children:"Select Department"}),n.map(P=>a.jsx("option",{value:P.department_id,children:P.department_name},P.department_id))]})]})]})]})})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:e,disabled:d,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",onClick:k,disabled:d||v,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Create User"]})})]})]})})},rJ=({user:e,onClose:t,onSuccess:r,roles:n,departments:s})=>{const i=Nn(),[o,l]=b.useState({username:e.username||"",email:e.email||"",first_name:e.first_name||"",last_name:e.last_name||"",phone_number:e.phone_number||"",role_id:e.role_id||"",department_id:e.department_id||"",is_active:!!e.is_active,password:"",confirm_password:""}),[c,d]=b.useState({}),[u,f]=b.useState(!1),[h,p]=b.useState(""),[m,v]=b.useState(null),[g,y]=b.useState(!0),[x,w]=b.useState({score:0,feedback:[]});b.useEffect(()=>{(async()=>{try{y(!0);const C=await oe.get("/security/settings");if(C.data.success&&C.data.data){const A=C.data.data,D={minLength:parseInt(A.password_min_length)||8,requireUppercase:A.password_require_uppercase==="true"||A.password_require_uppercase===!0,requireLowercase:A.password_require_lowercase==="true"||A.password_require_lowercase===!0,requireNumber:A.password_require_number==="true"||A.password_require_number===!0,requireSpecial:A.password_require_special==="true"||A.password_require_special===!0,historyCount:parseInt(A.password_history_count)||5};v(D),console.log(" Password policy loaded for Edit User:",D)}}catch(C){console.error(" Error fetching password policy:",C),v({minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumber:!0,requireSpecial:!0,historyCount:5})}finally{y(!1)}})()},[]);const j=E=>{if(!m)return{score:0,feedback:[]};let C=0;const A=[];return E.length>=m.minLength?(C++,A.push(` At least ${m.minLength} characters`)):A.push(` Needs at least ${m.minLength} characters`),m.requireUppercase&&m.requireLowercase&&(/[a-z]/.test(E)&&/[A-Z]/.test(E)?(C++,A.push(" Contains uppercase and lowercase")):A.push(" Needs uppercase and lowercase letters")),m.requireNumber&&(/\d/.test(E)?(C++,A.push(" Contains numbers")):A.push(" Needs numbers")),m.requireSpecial&&(/[!@#$%^&*(),.?":{}|<>]/.test(E)?(C++,A.push(" Contains special characters")):A.push(" Needs special characters")),{score:C,feedback:A}},N=()=>{const{score:E}=x;return E===0?"#e5e7eb":E===1?"#ef4444":E===2?"#f59e0b":E===3?"#3b82f6":"#22c55e"},S=()=>{const{score:E}=x;return E===0?"":E===1?"Weak":E===2?"Fair":E===3?"Good":"Strong"},_=E=>{const{name:C,value:A,type:D,checked:M}=E.target;l(O=>({...O,[C]:D==="checkbox"?M:A})),C==="password"&&m&&A&&w(j(A)),c[C]&&d(O=>({...O,[C]:""}))},k=()=>{const E={};return o.username.trim()?o.username.length<3&&(E.username="Username must be at least 3 characters"):E.username="Username is required",o.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(E.email="Invalid email format"):E.email="Email is required",o.first_name.trim()||(E.first_name="First name is required"),o.last_name.trim()||(E.last_name="Last name is required"),o.role_id||(E.role_id="Role is required"),o.password&&(m&&(o.password.length<m.minLength&&(E.password=`Password must be at least ${m.minLength} characters`),m.requireUppercase&&!/[A-Z]/.test(o.password)&&(E.password="Password must contain uppercase letters"),m.requireLowercase&&!/[a-z]/.test(o.password)&&(E.password="Password must contain lowercase letters"),m.requireNumber&&!/\d/.test(o.password)&&(E.password="Password must contain numbers"),m.requireSpecial&&!/[!@#$%^&*(),.?":{}|<>]/.test(o.password)&&(E.password="Password must contain special characters")),o.confirm_password?o.password!==o.confirm_password&&(E.confirm_password="Passwords do not match"):E.confirm_password="Please confirm password"),d(E),Object.keys(E).length===0},P=async E=>{var C,A;if(E.preventDefault(),!!k())try{f(!0),p("");const D={username:o.username,email:o.email,first_name:o.first_name,last_name:o.last_name,phone_number:o.phone_number||null,role_id:parseInt(o.role_id),department_id:o.department_id?parseInt(o.department_id):null,is_active:o.is_active},M=[];if(o.username!==e.username&&M.push("username"),o.email!==e.email&&M.push("email"),o.first_name!==e.first_name&&M.push("first name"),o.last_name!==e.last_name&&M.push("last name"),o.phone_number!==e.phone_number&&M.push("phone number"),o.role_id!==e.role_id&&M.push("role"),o.department_id!==e.department_id&&M.push("department"),o.is_active!==e.is_active&&M.push("status"),o.password&&(D.password=o.password,M.push("password")),(await oe.put(`/users/${e.user_id}`,D)).data.success){let z="";M.length===0?(z="No changes were made",i.info(z)):M.length===1?(z=`User ${M[0]} updated successfully!`,i.success(z)):M.length===2?(z=`User ${M[0]} and ${M[1]} updated successfully!`,i.success(z)):(z=`User ${e.username} updated successfully! Changed: ${M.join(", ")}`,i.success(z)),l($=>({...$,password:"",confirm_password:""})),setTimeout(()=>{r(),t()},500)}}catch(D){console.error("Error updating user:",D);const M=((A=(C=D.response)==null?void 0:C.data)==null?void 0:A.message)||"Failed to update user. Please try again.";p(M),i.error(M)}finally{f(!1)}};return a.jsx("div",{className:"modal-overlay",onClick:t,children:a.jsxs("div",{className:"modal-content modal-large",onClick:E=>E.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(Ke,{size:24,className:"modal-icon"}),a.jsx("h2",{className:"modal-title",children:"Edit User"})]}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[h&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:h})}),a.jsx("form",{onSubmit:P,className:"user-form",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-column",children:[a.jsx("h3",{className:"form-section-title",children:"Account Information"}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"username",className:"form-label required",children:[a.jsx(Ke,{size:16}),"Username"]}),a.jsx("input",{type:"text",id:"username",name:"username",value:o.username,onChange:_,className:`form-input ${c.username?"error":""}`,placeholder:"Enter username"}),c.username&&a.jsx("span",{className:"error-message",children:c.username})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"email",className:"form-label required",children:[a.jsx(Qe,{size:16}),"Email"]}),a.jsx("input",{type:"email",id:"email",name:"email",value:o.email,onChange:_,className:`form-input ${c.email?"error":""}`,placeholder:"Enter email address"}),c.email&&a.jsx("span",{className:"error-message",children:c.email})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"password",className:"form-label",children:[a.jsx(Ge,{size:16}),"New Password"]}),a.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:_,className:`form-input ${c.password?"error":""}`,placeholder:"Leave blank to keep current password",disabled:g}),c.password&&a.jsx("span",{className:"error-message",children:c.password}),a.jsx("small",{className:"form-help",children:"Leave blank to keep current password"}),o.password&&m&&a.jsxs("div",{style:{marginTop:"0.5rem"},children:[a.jsx("div",{style:{height:"4px",background:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:a.jsx("div",{style:{width:`${x.score/4*100}%`,height:"100%",background:N(),transition:"all 0.3s ease"}})}),a.jsx("small",{style:{color:N(),fontSize:"0.75rem",fontWeight:"600",marginTop:"0.25rem",display:"block"},children:S()})]}),o.password&&m&&a.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#f9fafb",borderRadius:"6px",fontSize:"0.75rem"},children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"0.5rem",color:"#374151"},children:"Password Requirements:"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[a.jsxs("div",{style:{color:o.password.length>=m.minLength?"#22c55e":"#ef4444"},children:[o.password.length>=m.minLength?"":""," At least ",m.minLength," characters"]}),m.requireUppercase&&m.requireLowercase&&a.jsxs("div",{style:{color:/[a-z]/.test(o.password)&&/[A-Z]/.test(o.password)?"#22c55e":"#ef4444"},children:[/[a-z]/.test(o.password)&&/[A-Z]/.test(o.password)?"":""," Uppercase and lowercase letters"]}),m.requireNumber&&a.jsxs("div",{style:{color:/\d/.test(o.password)?"#22c55e":"#ef4444"},children:[/\d/.test(o.password)?"":""," At least one number"]}),m.requireSpecial&&a.jsxs("div",{style:{color:/[!@#$%^&*(),.?":{}|<>]/.test(o.password)?"#22c55e":"#ef4444"},children:[/[!@#$%^&*(),.?":{}|<>]/.test(o.password)?"":""," Special characters (!@#$%^&*)"]})]})]})]}),o.password&&a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"confirm_password",className:"form-label required",children:[a.jsx(Ge,{size:16}),"Confirm Password"]}),a.jsx("input",{type:"password",id:"confirm_password",name:"confirm_password",value:o.confirm_password,onChange:_,className:`form-input ${c.confirm_password?"error":""}`,placeholder:"Re-enter new password"}),c.confirm_password&&a.jsx("span",{className:"error-message",children:c.confirm_password})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"is_active",checked:o.is_active,onChange:_}),a.jsx("span",{children:"Active User"})]}),a.jsx("small",{className:"form-help",children:"Uncheck to deactivate this user"})]})]}),a.jsxs("div",{className:"form-column",children:[a.jsx("h3",{className:"form-section-title",children:"Personal Information"}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"first_name",className:"form-label required",children:"First Name"}),a.jsx("input",{type:"text",id:"first_name",name:"first_name",value:o.first_name,onChange:_,className:`form-input ${c.first_name?"error":""}`,placeholder:"Enter first name"}),c.first_name&&a.jsx("span",{className:"error-message",children:c.first_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"last_name",className:"form-label required",children:"Last Name"}),a.jsx("input",{type:"text",id:"last_name",name:"last_name",value:o.last_name,onChange:_,className:`form-input ${c.last_name?"error":""}`,placeholder:"Enter last name"}),c.last_name&&a.jsx("span",{className:"error-message",children:c.last_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"phone_number",className:"form-label",children:[a.jsx(Io,{size:16}),"Phone Number"]}),a.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:o.phone_number,onChange:_,className:"form-input",placeholder:"Enter phone number"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"role_id",className:"form-label required",children:[a.jsx(Ae,{size:16}),"Role"]}),a.jsxs("select",{id:"role_id",name:"role_id",value:o.role_id,onChange:_,className:`form-select ${c.role_id?"error":""}`,children:[a.jsx("option",{value:"",children:"Select Role"}),n.map(E=>a.jsx("option",{value:E.role_id,children:E.role_name},E.role_id))]}),c.role_id&&a.jsx("span",{className:"error-message",children:c.role_id})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_id",className:"form-label",children:[a.jsx(na,{size:16}),"Department"]}),a.jsxs("select",{id:"department_id",name:"department_id",value:o.department_id,onChange:_,className:"form-select",children:[a.jsx("option",{value:"",children:"Select Department"}),s.map(E=>a.jsx("option",{value:E.department_id,children:E.department_name},E.department_id))]})]})]})]})})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:t,disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",onClick:P,disabled:u||g,children:u?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Update User"]})})]})]})})},nJ=20,zi=b.memo(({icon:e,label:t,value:r,color:n,bgColor:s,trend:i,onClick:o,isActive:l})=>a.jsxs("button",{type:"button",className:`user-stats-card ${l?"active":""}`,onClick:o,style:{"--card-color":n,"--card-bg":s},children:[a.jsx("div",{className:"user-stats-icon",children:a.jsx(e,{size:22})}),a.jsxs("div",{className:"user-stats-info",children:[a.jsx("span",{className:"user-stats-value",children:r}),a.jsx("span",{className:"user-stats-label",children:t})]}),i&&a.jsxs("span",{className:`user-stats-trend ${i>0?"positive":"negative"}`,children:[i>0?"+":"",i,"%"]})]}));zi.displayName="StatsCard";const b5=b.memo(({userItem:e,onEdit:t,onDelete:r,onExtendPassword:n,onForceReset:s,extendingPasswordFor:i,forcingResetFor:o,getProfilePictureUrl:l,getPasswordExpiryStatus:c,formatDate:d})=>{const u=c(e.password_expires_at),f=u.icon,h=l(e);return a.jsxs("tr",{className:"user-row",children:[a.jsx("td",{className:"td-user",children:a.jsxs("div",{className:"user-info",children:[a.jsxs("div",{className:"user-avatar",children:[h?a.jsx("img",{src:h,alt:e.username,className:"avatar-image",onError:p=>{p.target.style.display="none";const m=p.target.parentElement.querySelector(".avatar-icon");m&&(m.style.display="flex")}}):null,a.jsx("div",{className:"avatar-icon",style:{display:h?"none":"flex"},children:a.jsx(Ke,{size:18})})]}),a.jsxs("div",{className:"user-details",children:[a.jsx("div",{className:"user-name",children:e.full_name}),a.jsxs("div",{className:"user-username",children:["@",e.username]})]})]})}),a.jsx("td",{className:"td-contact",children:a.jsxs("div",{className:"contact-info",children:[a.jsxs("div",{className:"contact-item",children:[a.jsx(Qe,{size:13}),a.jsx("span",{children:e.email})]}),e.phone_number&&a.jsxs("div",{className:"contact-item",children:[a.jsx(Io,{size:13}),a.jsx("span",{children:e.phone_number})]})]})}),a.jsx("td",{className:"td-role",children:a.jsxs("div",{className:"role-dept-stack",children:[a.jsxs("span",{className:"role-badge-small",children:[a.jsx(Ae,{size:12}),e.role_name]}),e.department_name&&a.jsxs("span",{className:"dept-badge-small",children:[a.jsx(na,{size:12}),e.department_name]})]})}),a.jsx("td",{className:"td-password",children:a.jsxs("div",{className:"password-compact",children:[a.jsxs("div",{className:`pwd-badge pwd-${u.color}`,children:[a.jsx(f,{size:12}),a.jsx("span",{children:u.text}),u.detail&&a.jsx("span",{className:"pwd-detail",children:u.detail})]}),u.status!=="valid"&&a.jsxs("div",{className:"pwd-actions",children:[a.jsx("button",{type:"button",className:"pwd-btn pwd-btn-extend",onClick:()=>n(e.user_id,e.username),disabled:i===e.user_id,title:"Extend 90 days","aria-label":"Extend password expiry",children:i===e.user_id?a.jsx(Ie,{size:12,className:"spinner-icon"}):a.jsx(w6,{size:12})}),a.jsx("button",{type:"button",className:"pwd-btn pwd-btn-reset",onClick:()=>s(e.user_id,e.username),disabled:o===e.user_id,title:"Force Reset","aria-label":"Force password reset",children:o===e.user_id?a.jsx(Ie,{size:12,className:"spinner-icon"}):a.jsx(R6,{size:12})})]})]})}),a.jsx("td",{className:"td-status",children:a.jsxs("div",{className:"status-login-stack",children:[e.is_active?a.jsxs("span",{className:"status-badge-small status-active",children:[a.jsx(Ce,{size:12}),"Active"]}):a.jsxs("span",{className:"status-badge-small status-inactive",children:[a.jsx(Rr,{size:12}),"Inactive"]}),a.jsxs("span",{className:"last-login-small",children:[a.jsx(Ee,{size:10}),d(e.last_login)]})]})}),a.jsx("td",{className:"td-actions",children:a.jsxs("div",{className:"action-buttons-compact",children:[a.jsx("button",{type:"button",className:"btn-icon-small btn-edit",onClick:()=>t(e),title:"Edit User","aria-label":"Edit user",children:a.jsx(zs,{size:14})}),a.jsx("button",{type:"button",className:"btn-icon-small btn-delete",onClick:()=>r(e.user_id,e.username),title:"Deactivate User","aria-label":"Deactivate user",children:a.jsx(jr,{size:14})})]})})]})});b5.displayName="UserRow";const j5=b.memo(({hasFilters:e})=>a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"empty-state",children:a.jsxs("div",{className:"empty-state-content",children:[a.jsx("div",{className:"empty-state-icon",children:a.jsx(fr,{size:48})}),a.jsx("h3",{children:"No users found"}),a.jsx("p",{children:e?"Try adjusting your filters or search query":"Start by creating your first user"})]})})}));j5.displayName="EmptyState";const kg=b.memo(()=>a.jsxs("div",{className:"user-loading-state",children:[a.jsx("div",{className:"user-loading-spinner",children:a.jsx(Ie,{size:40,className:"spinner"})}),a.jsx("p",{children:"Loading users..."})]}));kg.displayName="LoadingState";const w5=b.memo(()=>a.jsxs("div",{className:"user-access-denied",children:[a.jsx("div",{className:"access-denied-icon",children:a.jsx(rh,{size:64})}),a.jsx("h2",{children:"Access Denied"}),a.jsx("p",{children:"You do not have permission to manage users"})]}));w5.displayName="AccessDenied";const aJ=()=>{const{user:e}=sr();jt();const{showToast:t}=Nn(),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(!1),[u,f]=b.useState(1),[h,p]=b.useState(1),[m,v]=b.useState(0),[g,y]=b.useState(""),[x,w]=b.useState(""),[j,N]=b.useState(""),[S,_]=b.useState(""),[k,P]=b.useState(""),[E,C]=b.useState([]),[A,D]=b.useState([]),[M,O]=b.useState(!1),[z,$]=b.useState(!1),[q,R]=b.useState(null),[L,T]=b.useState(null),[I,U]=b.useState(null),K=b.useMemo(()=>{var Q;return((Q=e==null?void 0:e.permissions)==null?void 0:Q.can_manage_users)===!0},[e]),H=b.useCallback(async()=>{var Q,we;try{i(!0),l("");const Ne={page:u,limit:nJ};g&&(Ne.search=g),x&&(Ne.role_id=x),j&&(Ne.department_id=j),S&&(Ne.is_active=S);const je=await oe.get("/users",{params:Ne});je.data.success&&(n(je.data.data.users),p(je.data.data.pagination.totalPages),v(je.data.data.pagination.totalRecords))}catch(Ne){console.error("Error fetching users:",Ne),l(((we=(Q=Ne.response)==null?void 0:Q.data)==null?void 0:we.message)||"Failed to load users"),t("Failed to load users","error")}finally{i(!1)}},[u,g,x,j,S,t]),B=b.useCallback(async()=>{try{const Q=await oe.get("/system/roles");Q.data.success&&C(Q.data.data||[])}catch(Q){console.error("Error fetching roles:",Q)}},[]),F=b.useCallback(async()=>{try{const Q=await oe.get("/system/departments");Q.data.success&&D(Q.data.data||[])}catch(Q){console.error("Error fetching departments:",Q)}},[]);b.useEffect(()=>{K&&H()},[K,H]),b.useEffect(()=>{K&&(B(),F())},[K,B,F]);const V=b.useCallback(Q=>{if(!Q)return{status:"valid",daysRemaining:999,text:"Valid",color:"success",icon:Av};const je=new Date(Q)-new Date,_e=Math.ceil(je/(1e3*60*60*24));return _e<0?{status:"expired",daysRemaining:Math.abs(_e),text:"Expired",color:"danger",icon:Te,detail:`${Math.abs(_e)}d ago`}:_e<=7?{status:"expiring",daysRemaining:_e,text:"Expiring",color:"warning",icon:Ee,detail:`${_e}d`}:{status:"valid",daysRemaining:_e,text:"Valid",color:"success",icon:Av,detail:`${_e}d`}},[]),W=b.useCallback(Q=>{const we=Q==null?void 0:Q.profile_picture;if(!we)return null;if(we.startsWith("http://")||we.startsWith("https://"))return we;const Ne=window.location.protocol,je=window.location.hostname,Pe=`${Ne}//${je}:5000`,Zt=we.startsWith("/")?we:`/${we}`;return`${Pe}${Zt}`},[]),Y=b.useCallback(async()=>{d(!0),await H(),t("Users list refreshed","success"),setTimeout(()=>d(!1),500)},[H,t]),ie=b.useCallback(Q=>{y(Q.target.value),f(1)},[]),ee=b.useCallback(()=>{y(""),w(""),N(""),_(""),P(""),f(1),t("Filters cleared","info")},[t]),ue=b.useCallback(Q=>{R(Q),$(!0),t(`Editing ${Q.full_name}`,"info")},[t]),re=b.useCallback(async(Q,we)=>{var Ne,je;try{(await oe.delete(`/users/${Q}`)).data.success&&(t(`User "${we}" deactivated successfully`,"success"),H())}catch(_e){console.error("Error deleting user:",_e),t(((je=(Ne=_e.response)==null?void 0:Ne.data)==null?void 0:je.message)||"Failed to deactivate user","error")}},[H,t]),de=b.useCallback(async(Q,we)=>{var Ne,je;try{T(Q),(await oe.put(`/users/${Q}/extend-password-expiry`)).data.success&&(t(`Password expiry extended for "${we}"`,"success"),H())}catch(_e){console.error("Error extending password expiry:",_e),t(((je=(Ne=_e.response)==null?void 0:Ne.data)==null?void 0:je.message)||"Failed to extend password expiry","error")}finally{T(null)}},[H,t]),ve=b.useCallback(async(Q,we)=>{var Ne,je;try{U(Q),(await oe.put(`/users/${Q}/force-password-reset`)).data.success&&(t(`Password reset forced for "${we}"`,"success"),H())}catch(_e){console.error("Error forcing password reset:",_e),t(((je=(Ne=_e.response)==null?void 0:Ne.data)==null?void 0:je.message)||"Failed to force password reset","error")}finally{U(null)}},[H,t]),me=b.useCallback(()=>{O(!1),t("User created successfully","success"),H()},[H,t]),Z=b.useCallback(()=>{$(!1),R(null),t("User updated successfully","success"),H()},[H,t]),J=b.useCallback(Q=>Q?new Date(Q).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Never",[]),pe=b.useMemo(()=>({expired:r.filter(Q=>V(Q.password_expires_at).status==="expired").length,expiring:r.filter(Q=>V(Q.password_expires_at).status==="expiring").length}),[r,V]),X=b.useMemo(()=>r.filter(Q=>Q.is_active).length,[r]),ae=b.useMemo(()=>r.filter(Q=>!Q.is_active).length,[r]),le=b.useMemo(()=>k?r.filter(Q=>V(Q.password_expires_at).status===k):r,[r,k,V]),fe=b.useMemo(()=>g||x||j||S||k,[g,x,j,S,k]);return e?K?a.jsxs("div",{className:"users-page",children:[a.jsxs("header",{className:"users-header",children:[a.jsxs("div",{className:"users-header-content",children:[a.jsx("div",{className:"users-header-icon",children:a.jsx(fr,{size:28})}),a.jsxs("div",{className:"users-header-text",children:[a.jsx("h1",{className:"users-title",children:"Users Management"}),a.jsxs("p",{className:"users-subtitle",children:["Manage ",m," system user",m!==1?"s":""," and permissions"]})]})]}),a.jsxs("div",{className:"users-header-actions",children:[a.jsxs("button",{type:"button",className:"users-btn secondary",onClick:Y,disabled:c,"aria-label":"Refresh users",children:[a.jsx(ut,{size:18,className:c?"spinner":""}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{type:"button",className:"users-btn primary",onClick:()=>{O(!0),t("Opening create user form","info")},"aria-label":"Create new user",children:[a.jsx(Vr,{size:18}),a.jsx("span",{children:"Create User"})]})]})]}),a.jsxs("div",{className:"users-stats-grid",children:[a.jsx(zi,{icon:fr,label:"Total Users",value:m,color:"#6366f1",bgColor:"rgba(99, 102, 241, 0.1)",onClick:()=>{_(""),P("")},isActive:!S&&!k}),a.jsx(zi,{icon:di,label:"Active",value:X,color:"#22c55e",bgColor:"rgba(34, 197, 94, 0.1)",onClick:()=>{_("true"),P(""),t("Showing active users","info")},isActive:S==="true"}),a.jsx(zi,{icon:Z6,label:"Inactive",value:ae,color:"#64748b",bgColor:"rgba(100, 116, 139, 0.1)",onClick:()=>{_("false"),P(""),t("Showing inactive users","info")},isActive:S==="false"}),a.jsx(zi,{icon:Te,label:"Pwd Expired",value:pe.expired,color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)",onClick:()=>{P("expired"),t("Showing users with expired passwords","info")},isActive:k==="expired"}),a.jsx(zi,{icon:Ee,label:"Pwd Expiring",value:pe.expiring,color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.1)",onClick:()=>{P("expiring"),t("Showing users with expiring passwords","info")},isActive:k==="expiring"})]}),a.jsxs("div",{className:"users-toolbar",children:[a.jsxs("div",{className:"users-toolbar-left",children:[a.jsxs("div",{className:"users-search",children:[a.jsx(aa,{size:18,className:"users-search-icon"}),a.jsx("input",{type:"text",placeholder:"Search by name, email, username...",value:g,onChange:ie,className:"users-search-input","aria-label":"Search users"}),g&&a.jsx("button",{type:"button",className:"users-search-clear",onClick:()=>{y(""),t("Search cleared","info")},"aria-label":"Clear search",children:a.jsx(Rr,{size:16})})]}),a.jsxs("select",{className:"users-filter-select",value:x,onChange:Q=>{w(Q.target.value),f(1)},"aria-label":"Filter by role",children:[a.jsx("option",{value:"",children:"All Roles"}),E.map(Q=>a.jsx("option",{value:Q.role_id,children:Q.role_name},Q.role_id))]}),a.jsxs("select",{className:"users-filter-select",value:j,onChange:Q=>{N(Q.target.value),f(1)},"aria-label":"Filter by department",children:[a.jsx("option",{value:"",children:"All Departments"}),A.map(Q=>a.jsx("option",{value:Q.department_id,children:Q.department_name},Q.department_id))]})]}),a.jsx("div",{className:"users-toolbar-right",children:fe&&a.jsxs("button",{type:"button",className:"users-btn-clear",onClick:ee,children:[a.jsx(Rr,{size:16}),"Clear Filters"]})})]}),o&&a.jsxs("div",{className:"users-error-alert",role:"alert",children:[a.jsx(Se,{size:18}),a.jsx("span",{children:o}),a.jsx("button",{type:"button",onClick:()=>l(""),"aria-label":"Dismiss error",children:a.jsx(Rr,{size:16})})]}),a.jsx("div",{className:"users-table-container",children:s&&r.length===0?a.jsx(kg,{}):a.jsxs("table",{className:"users-table",role:"grid",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"th-user",children:"User"}),a.jsx("th",{className:"th-contact",children:"Contact"}),a.jsx("th",{className:"th-role",children:"Role / Department"}),a.jsx("th",{className:"th-password",children:"Password"}),a.jsx("th",{className:"th-status",children:"Status"}),a.jsx("th",{className:"th-actions",children:"Actions"})]})}),a.jsx("tbody",{children:le.length===0?a.jsx(j5,{hasFilters:fe}):le.map(Q=>a.jsx(b5,{userItem:Q,onEdit:ue,onDelete:re,onExtendPassword:de,onForceReset:ve,extendingPasswordFor:L,forcingResetFor:I,getProfilePictureUrl:W,getPasswordExpiryStatus:V,formatDate:J},Q.user_id))})]})}),h>1&&a.jsxs("div",{className:"users-pagination",children:[a.jsxs("button",{type:"button",className:"users-page-btn",disabled:u===1,onClick:()=>{f(Q=>Math.max(1,Q-1)),t(`Page ${u-1}`,"info")},"aria-label":"Previous page",children:[a.jsx(Ay,{size:18}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"users-page-info",children:[a.jsx("span",{className:"users-page-current",children:u}),a.jsx("span",{className:"users-page-separator",children:"of"}),a.jsx("span",{className:"users-page-total",children:h})]}),a.jsxs("button",{type:"button",className:"users-page-btn",disabled:u===h,onClick:()=>{f(Q=>Math.min(h,Q+1)),t(`Page ${u+1}`,"info")},"aria-label":"Next page",children:[a.jsx("span",{children:"Next"}),a.jsx(Br,{size:18})]})]}),M&&a.jsx(tJ,{onClose:()=>{O(!1),t("Create user cancelled","info")},onSuccess:me,roles:E,departments:A}),z&&q&&a.jsx(rJ,{user:q,onClose:()=>{$(!1),R(null),t("Edit cancelled","info")},onSuccess:Z,roles:E,departments:A})]}):a.jsx("div",{className:"users-page",children:a.jsx(w5,{})}):a.jsx("div",{className:"users-page",children:a.jsx(kg,{})})},sJ=({onClose:e,onSuccess:t,managers:r})=>{const[n,s]=b.useState({department_name:"",department_code:"",description:"",manager_id:""}),[i,o]=b.useState({}),[l,c]=b.useState(!1),[d,u]=b.useState(""),f=m=>{const{name:v,value:g}=m.target;s(y=>({...y,[v]:g})),i[v]&&o(y=>({...y,[v]:""}))},h=()=>{const m={};return n.department_name.trim()?n.department_name.length<2&&(m.department_name="Department name must be at least 2 characters"):m.department_name="Department name is required",n.department_code.trim()?n.department_code.length<2?m.department_code="Department code must be at least 2 characters":/^[A-Z0-9_-]+$/.test(n.department_code)||(m.department_code="Department code must contain only uppercase letters, numbers, hyphens, and underscores"):m.department_code="Department code is required",o(m),Object.keys(m).length===0},p=async m=>{var v,g;if(m.preventDefault(),!!h())try{c(!0),u("");const y={department_name:n.department_name.trim(),department_code:n.department_code.trim().toUpperCase(),description:n.description.trim()||null,manager_id:n.manager_id?parseInt(n.manager_id):null};(await oe.post("/departments",y)).data.success&&(alert("Department created successfully!"),t())}catch(y){console.error("Error creating department:",y),u(((g=(v=y.response)==null?void 0:v.data)==null?void 0:g.message)||"Failed to create department")}finally{c(!1)}};return a.jsx("div",{className:"modal-overlay",onClick:e,children:a.jsxs("div",{className:"modal-content",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(na,{size:24,className:"modal-icon"}),a.jsx("h2",{className:"modal-title",children:"Create New Department"})]}),a.jsx("button",{className:"modal-close",onClick:e,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[d&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:d})}),a.jsxs("form",{onSubmit:p,className:"department-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_name",className:"form-label required",children:[a.jsx(na,{size:16}),"Department Name"]}),a.jsx("input",{type:"text",id:"department_name",name:"department_name",value:n.department_name,onChange:f,className:`form-input ${i.department_name?"error":""}`,placeholder:"e.g., Information Technology"}),i.department_name&&a.jsx("span",{className:"error-message",children:i.department_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_code",className:"form-label required",children:[a.jsx(eh,{size:16}),"Department Code"]}),a.jsx("input",{type:"text",id:"department_code",name:"department_code",value:n.department_code,onChange:m=>{const v=m.target.value.toUpperCase();f({target:{name:"department_code",value:v}})},className:`form-input ${i.department_code?"error":""}`,placeholder:"e.g., IT",maxLength:20}),i.department_code&&a.jsx("span",{className:"error-message",children:i.department_code}),a.jsx("small",{className:"form-help",children:"Uppercase letters, numbers, hyphens, and underscores only"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"description",className:"form-label",children:[a.jsx(Yr,{size:16}),"Description"]}),a.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:f,className:"form-textarea",placeholder:"Brief description of the department...",rows:3})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"manager_id",className:"form-label",children:[a.jsx(Ke,{size:16}),"Department Manager"]}),a.jsxs("select",{id:"manager_id",name:"manager_id",value:n.manager_id,onChange:f,className:"form-select",children:[a.jsx("option",{value:"",children:"No Manager (Optional)"}),r.map(m=>a.jsxs("option",{value:m.user_id,children:[m.full_name," (",m.role_name,")"]},m.user_id))]}),a.jsx("small",{className:"form-help",children:"Assign a manager to oversee this department"})]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:e,disabled:l,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",onClick:p,disabled:l,children:l?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Create Department"]})})]})]})})},iJ=({department:e,onClose:t,onSuccess:r,managers:n})=>{const[s,i]=b.useState({department_name:e.department_name||"",department_code:e.department_code||"",description:e.description||"",manager_id:e.manager_id||"",is_active:e.is_active!==void 0?e.is_active:!0}),[o,l]=b.useState({}),[c,d]=b.useState(!1),[u,f]=b.useState(""),h=v=>{const{name:g,value:y,type:x,checked:w}=v.target;i(j=>({...j,[g]:x==="checkbox"?w:y})),o[g]&&l(j=>({...j,[g]:""}))},p=()=>{const v={};return s.department_name.trim()?s.department_name.length<2&&(v.department_name="Department name must be at least 2 characters"):v.department_name="Department name is required",s.department_code.trim()?s.department_code.length<2?v.department_code="Department code must be at least 2 characters":/^[A-Z0-9_-]+$/.test(s.department_code)||(v.department_code="Department code must contain only uppercase letters, numbers, hyphens, and underscores"):v.department_code="Department code is required",l(v),Object.keys(v).length===0},m=async v=>{var g,y;if(v.preventDefault(),!!p())try{d(!0),f("");const x={department_name:s.department_name.trim(),department_code:s.department_code.trim().toUpperCase(),description:s.description.trim()||null,manager_id:s.manager_id?parseInt(s.manager_id):null,is_active:s.is_active};(await oe.put(`/departments/${e.department_id}`,x)).data.success&&(alert("Department updated successfully!"),r())}catch(x){console.error("Error updating department:",x),f(((y=(g=x.response)==null?void 0:g.data)==null?void 0:y.message)||"Failed to update department")}finally{d(!1)}};return a.jsx("div",{className:"modal-overlay",onClick:t,children:a.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(na,{size:24,className:"modal-icon"}),a.jsx("h2",{className:"modal-title",children:"Edit Department"})]}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[u&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:u})}),a.jsxs("form",{onSubmit:m,className:"department-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_name",className:"form-label required",children:[a.jsx(na,{size:16}),"Department Name"]}),a.jsx("input",{type:"text",id:"department_name",name:"department_name",value:s.department_name,onChange:h,className:`form-input ${o.department_name?"error":""}`,placeholder:"e.g., Information Technology"}),o.department_name&&a.jsx("span",{className:"error-message",children:o.department_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"department_code",className:"form-label required",children:[a.jsx(eh,{size:16}),"Department Code"]}),a.jsx("input",{type:"text",id:"department_code",name:"department_code",value:s.department_code,onChange:v=>{const g=v.target.value.toUpperCase();h({target:{name:"department_code",value:g}})},className:`form-input ${o.department_code?"error":""}`,placeholder:"e.g., IT",maxLength:20}),o.department_code&&a.jsx("span",{className:"error-message",children:o.department_code}),a.jsx("small",{className:"form-help",children:"Uppercase letters, numbers, hyphens, and underscores only"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"description",className:"form-label",children:[a.jsx(Yr,{size:16}),"Description"]}),a.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:h,className:"form-textarea",placeholder:"Brief description of the department...",rows:3})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"manager_id",className:"form-label",children:[a.jsx(Ke,{size:16}),"Department Manager"]}),a.jsxs("select",{id:"manager_id",name:"manager_id",value:s.manager_id,onChange:h,className:"form-select",children:[a.jsx("option",{value:"",children:"No Manager (Optional)"}),n.map(v=>a.jsxs("option",{value:v.user_id,children:[v.full_name," (",v.role_name,")"]},v.user_id))]}),a.jsx("small",{className:"form-help",children:"Assign a manager to oversee this department"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"is_active",checked:s.is_active,onChange:h}),a.jsx("span",{children:"Active Department"})]}),a.jsx("small",{className:"form-help",children:"Uncheck to deactivate this department"})]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:t,disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",onClick:m,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Update Department"]})})]})]})})},oJ=({department:e,onClose:t,onSuccess:r})=>{const[n,s]=b.useState(!1),[i,o]=b.useState(""),l=async()=>{var c,d;try{s(!0),o(""),(await oe.delete(`/departments/${e.department_id}`)).data.success&&(alert("Department deleted successfully!"),r())}catch(u){console.error("Error deleting department:",u),o(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Failed to delete department")}finally{s(!1)}};return a.jsx("div",{className:"modal-overlay",onClick:t,children:a.jsxs("div",{className:"modal-content modal-small",onClick:c=>c.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(Te,{size:24,className:"modal-icon text-danger"}),a.jsx("h2",{className:"modal-title",children:"Delete Department"})]}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[i&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:i})}),a.jsxs("p",{children:["Are you sure you want to delete the department"," ",a.jsxs("strong",{children:['"',e.department_name,'"']}),"?"]}),e.total_users>0&&a.jsxs("div",{className:"alert alert-warning",children:[a.jsx(Te,{size:18}),a.jsxs("span",{children:["This department has ",a.jsxs("strong",{children:[e.total_users," active user(s)"]}),". Please reassign users before deleting."]})]}),a.jsx("p",{className:"warning-text",children:"This action cannot be undone. The department will be deactivated."})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:t,disabled:n,children:"Cancel"}),a.jsx("button",{type:"button",className:"btn-danger",onClick:l,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jr,{size:18}),"Delete Department"]})})]})]})})},zl=b.memo(({icon:e,label:t,value:r,color:n,bgColor:s})=>a.jsxs("div",{className:"dept-stats-card",style:{"--card-color":n,"--card-bg":s},children:[a.jsx("div",{className:"dept-stats-icon",children:a.jsx(e,{size:22})}),a.jsxs("div",{className:"dept-stats-info",children:[a.jsx("span",{className:"dept-stats-value",children:r}),a.jsx("span",{className:"dept-stats-label",children:t})]})]}));zl.displayName="StatsCard";const N5=b.memo(({department:e,onEdit:t,onDelete:r})=>a.jsxs("div",{className:"dept-card",role:"article","aria-label":e.department_name,children:[a.jsxs("div",{className:"dept-card-header",children:[a.jsx("div",{className:"dept-card-icon",children:a.jsx(GP,{size:24})}),a.jsxs("div",{className:"dept-card-actions",children:[a.jsx("button",{type:"button",className:"dept-action-btn edit",onClick:()=>t(e),title:"Edit Department","aria-label":`Edit ${e.department_name}`,children:a.jsx(zs,{size:16})}),a.jsx("button",{type:"button",className:"dept-action-btn delete",onClick:()=>r(e),title:"Delete Department","aria-label":`Delete ${e.department_name}`,children:a.jsx(jr,{size:16})})]})]}),a.jsxs("div",{className:"dept-card-body",children:[a.jsx("h3",{className:"dept-card-name",children:e.department_name}),a.jsx("span",{className:"dept-card-code",children:e.department_code}),e.description&&a.jsx("p",{className:"dept-card-description",children:e.description}),a.jsxs("div",{className:"dept-manager-info",children:[a.jsx("div",{className:"dept-manager-avatar",children:a.jsx(Ty,{size:16})}),a.jsxs("div",{className:"dept-manager-details",children:[a.jsx("span",{className:"dept-manager-label",children:"Manager"}),a.jsx("span",{className:"dept-manager-name",children:e.manager_name||"Not Assigned"})]})]})]}),a.jsxs("div",{className:"dept-card-footer",children:[a.jsxs("div",{className:"dept-card-stat",children:[a.jsx(fr,{size:18,className:"dept-card-stat-icon"}),a.jsxs("div",{className:"dept-card-stat-info",children:[a.jsx("span",{className:"dept-card-stat-value",children:e.total_users||0}),a.jsx("span",{className:"dept-card-stat-label",children:"Users"})]})]}),a.jsx("div",{className:"dept-card-divider"}),a.jsxs("div",{className:"dept-card-stat",children:[a.jsx(Pt,{size:18,className:"dept-card-stat-icon"}),a.jsxs("div",{className:"dept-card-stat-info",children:[a.jsx("span",{className:"dept-card-stat-value",children:e.active_tickets||0}),a.jsx("span",{className:"dept-card-stat-label",children:"Tickets"})]})]})]})]}));N5.displayName="DepartmentCard";const _5=b.memo(({searchQuery:e,onClearSearch:t})=>a.jsxs("div",{className:"dept-empty-state",children:[a.jsx("div",{className:"dept-empty-icon",children:a.jsx(eA,{size:48})}),a.jsx("h3",{className:"dept-empty-title",children:e?"No departments found":"No departments yet"}),a.jsx("p",{className:"dept-empty-message",children:e?"Try adjusting your search query":"Start by creating your first department"}),e&&a.jsx("button",{type:"button",className:"dept-empty-btn",onClick:t,children:"Clear Search"})]}));_5.displayName="EmptyState";const k5=b.memo(()=>a.jsxs("div",{className:"dept-loading-state",children:[a.jsx("div",{className:"dept-loading-spinner",children:a.jsx(Ie,{size:40,className:"spinner"})}),a.jsx("p",{children:"Loading departments..."})]}));k5.displayName="LoadingState";const S5=b.memo(({onNavigate:e})=>a.jsxs("div",{className:"dept-access-denied",children:[a.jsx("div",{className:"access-denied-icon",children:a.jsx(rh,{size:64})}),a.jsx("h2",{children:"Access Denied"}),a.jsx("p",{children:"You do not have permission to manage departments"}),a.jsx("button",{type:"button",className:"dept-btn primary",onClick:e,children:"Go to Dashboard"})]}));S5.displayName="AccessDenied";const lJ=()=>{const{user:e}=sr(),t=jt(),{showToast:r}=Nn(),[n,s]=b.useState([]),[i,o]=b.useState(!0),[l,c]=b.useState(""),[d,u]=b.useState(""),[f,h]=b.useState(!1),[p,m]=b.useState(!1),[v,g]=b.useState(!1),[y,x]=b.useState(!1),[w,j]=b.useState(null),[N,S]=b.useState([]),_=b.useMemo(()=>{var H;return((H=e==null?void 0:e.permissions)==null?void 0:H.can_manage_departments)===!0},[e]),k=b.useCallback(async()=>{var H,B;try{o(!0),c("");const F=await oe.get("/departments");F.data.success&&s(F.data.data)}catch(F){console.error("Error fetching departments:",F),c(((B=(H=F.response)==null?void 0:H.data)==null?void 0:B.message)||"Failed to load departments"),r("Failed to load departments","error")}finally{o(!1)}},[r]),P=b.useCallback(async()=>{try{const H=await oe.get("/departments/managers/available");H.data.success&&S(H.data.data)}catch(H){console.error("Error fetching managers:",H)}},[]);b.useEffect(()=>{_&&(k(),P())},[_,k,P]);const E=b.useCallback(async()=>{h(!0),await k(),await P(),r("Departments refreshed","success"),setTimeout(()=>h(!1),500)},[k,P,r]),C=b.useCallback(H=>{u(H.target.value)},[]),A=b.useCallback(()=>{u(""),r("Search cleared","info")},[r]),D=b.useCallback(H=>{j(H),g(!0),r(`Editing ${H.department_name}`,"info")},[r]),M=b.useCallback(H=>{j(H),x(!0)},[]),O=b.useCallback(()=>{m(!1),r("Department created successfully","success"),k(),P()},[k,P,r]),z=b.useCallback(()=>{g(!1),j(null),r("Department updated successfully","success"),k(),P()},[k,P,r]),$=b.useCallback(()=>{x(!1),j(null),r("Department deleted successfully","success"),k(),P()},[k,P,r]),q=b.useCallback(()=>{m(!1),r("Create cancelled","info")},[r]),R=b.useCallback(()=>{g(!1),j(null),r("Edit cancelled","info")},[r]),L=b.useCallback(()=>{x(!1),j(null)},[]),T=b.useMemo(()=>n.filter(H=>H.department_name.toLowerCase().includes(d.toLowerCase())||H.department_code.toLowerCase().includes(d.toLowerCase())||H.manager_name&&H.manager_name.toLowerCase().includes(d.toLowerCase())),[n,d]),I=b.useMemo(()=>n.reduce((H,B)=>H+(B.total_users||0),0),[n]),U=b.useMemo(()=>n.reduce((H,B)=>H+(B.active_tickets||0),0),[n]),K=b.useMemo(()=>n.filter(H=>H.manager_name).length,[n]);return _?a.jsxs("div",{className:"dept-page",children:[a.jsxs("header",{className:"dept-header",children:[a.jsxs("div",{className:"dept-header-content",children:[a.jsx("div",{className:"dept-header-icon",children:a.jsx(na,{size:28})}),a.jsxs("div",{className:"dept-header-text",children:[a.jsx("h1",{className:"dept-title",children:"Department Management"}),a.jsxs("p",{className:"dept-subtitle",children:["Manage ",n.length," organizational department",n.length!==1?"s":""]})]})]}),a.jsxs("div",{className:"dept-header-actions",children:[a.jsxs("button",{type:"button",className:"dept-btn secondary",onClick:E,disabled:f,"aria-label":"Refresh departments",children:[a.jsx(ut,{size:18,className:f?"spinner":""}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{type:"button",className:"dept-btn primary",onClick:()=>{m(!0),r("Opening create department form","info")},"aria-label":"Create new department",children:[a.jsx(Vr,{size:18}),a.jsx("span",{children:"Add Department"})]})]})]}),a.jsxs("div",{className:"dept-stats-grid",children:[a.jsx(zl,{icon:GP,label:"Total Departments",value:n.length,color:"#6366f1",bgColor:"rgba(99, 102, 241, 0.1)"}),a.jsx(zl,{icon:fr,label:"Total Users",value:I,color:"#22c55e",bgColor:"rgba(34, 197, 94, 0.1)"}),a.jsx(zl,{icon:Pt,label:"Active Tickets",value:U,color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)"}),a.jsx(zl,{icon:Ty,label:"With Managers",value:K,color:"#8b5cf6",bgColor:"rgba(139, 92, 246, 0.1)"})]}),a.jsxs("div",{className:"dept-toolbar",children:[a.jsxs("div",{className:"dept-search",children:[a.jsx(aa,{size:18,className:"dept-search-icon"}),a.jsx("input",{type:"text",placeholder:"Search by name, code, or manager...",value:d,onChange:C,className:"dept-search-input","aria-label":"Search departments"}),d&&a.jsx("button",{type:"button",className:"dept-search-clear",onClick:A,"aria-label":"Clear search",children:a.jsx(Rr,{size:18})})]}),a.jsx("div",{className:"dept-toolbar-info",children:a.jsxs("span",{className:"dept-count",children:[T.length," of ",n.length," departments"]})})]}),l&&a.jsxs("div",{className:"dept-error-alert",role:"alert",children:[a.jsx(Se,{size:18}),a.jsx("span",{children:l}),a.jsx("button",{type:"button",onClick:()=>c(""),"aria-label":"Dismiss error",children:a.jsx(Rr,{size:16})})]}),i?a.jsx(k5,{}):T.length===0?a.jsx(_5,{searchQuery:d,onClearSearch:A}):a.jsx("div",{className:"dept-grid",children:T.map(H=>a.jsx(N5,{department:H,onEdit:D,onDelete:M},H.department_id))}),p&&a.jsx(sJ,{onClose:q,onSuccess:O,managers:N}),v&&w&&a.jsx(iJ,{department:w,onClose:R,onSuccess:z,managers:N}),y&&w&&a.jsx(oJ,{department:w,onClose:L,onSuccess:$})]}):a.jsx("div",{className:"dept-page",children:a.jsx(S5,{onNavigate:()=>t("/dashboard")})})},cJ=({onClose:e,onSuccess:t})=>{const[r,n]=b.useState({role_name:"",role_code:"",description:"",permissions:{}}),[s,i]=b.useState([]),[o,l]=b.useState({}),[c,d]=b.useState(!1),[u,f]=b.useState("");b.useEffect(()=>{(async()=>{try{const w=await oe.get("/roles/permissions/available");if(w.data.success){i(w.data.data);const j={};w.data.data.forEach(N=>{j[N.key]=!1}),n(N=>({...N,permissions:j}))}}catch(w){console.error("Error fetching permissions:",w)}})()},[]);const h=x=>{const{name:w,value:j}=x.target;if(w==="role_name"){const N=j.trim().toUpperCase().replace(/[^A-Z0-9\s]/g,"").replace(/\s+/g,"_").substring(0,20);n(S=>({...S,role_name:j,role_code:N}))}else n(N=>({...N,[w]:j}));o[w]&&l(N=>({...N,[w]:""}))},p=x=>{n(w=>({...w,permissions:{...w.permissions,[x]:!w.permissions[x]}}))},m=x=>{const w=s.filter(S=>S.category===x),j=w.every(S=>r.permissions[S.key]),N={...r.permissions};w.forEach(S=>{N[S.key]=!j}),n(S=>({...S,permissions:N}))},v=()=>{const x={};return r.role_name.trim()?r.role_name.length<2&&(x.role_name="Role name must be at least 2 characters"):x.role_name="Role name is required",r.role_code.trim()?r.role_code.length<2?x.role_code="Role code must be at least 2 characters":/^[A-Z0-9_-]+$/.test(r.role_code)||(x.role_code="Role code must contain only uppercase letters, numbers, hyphens, and underscores"):x.role_code="Role code is required",l(x),Object.keys(x).length===0},g=async x=>{var w,j;if(x.preventDefault(),!!v())try{d(!0),f("");const N={role_name:r.role_name.trim(),role_code:r.role_code.trim().toUpperCase(),description:r.description.trim()||null,permissions:r.permissions};(await oe.post("/roles",N)).data.success&&(alert("Role created successfully!"),t())}catch(N){console.error("Error creating role:",N),f(((j=(w=N.response)==null?void 0:w.data)==null?void 0:j.message)||"Failed to create role")}finally{d(!1)}},y=s.reduce((x,w)=>(x[w.category]||(x[w.category]=[]),x[w.category].push(w),x),{});return a.jsx("div",{className:"modal-overlay",onClick:e,children:a.jsxs("div",{className:"modal-content modal-large",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(Ae,{size:24,className:"modal-icon"}),a.jsx("h2",{className:"modal-title",children:"Create New Role"})]}),a.jsx("button",{className:"modal-close",onClick:e,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[u&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:u})}),a.jsxs("form",{onSubmit:g,className:"role-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"role_name",className:"form-label required",children:[a.jsx(Ae,{size:16}),"Role Name"]}),a.jsx("input",{type:"text",id:"role_name",name:"role_name",value:r.role_name,onChange:h,className:`form-input ${o.role_name?"error":""}`,placeholder:"e.g., Support Agent"}),o.role_name&&a.jsx("span",{className:"error-message",children:o.role_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"role_code",className:"form-label required",children:[a.jsx(eh,{size:16}),"Role Code"]}),a.jsx("input",{type:"text",id:"role_code",name:"role_code",value:r.role_code,onChange:h,className:`form-input ${o.role_code?"error":""}`,placeholder:"e.g., SUPPORT",maxLength:20}),o.role_code&&a.jsx("span",{className:"error-message",children:o.role_code}),a.jsx("small",{className:"form-help",children:"Uppercase letters, numbers, hyphens, and underscores only"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"description",className:"form-label",children:[a.jsx(Yr,{size:16}),"Description"]}),a.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:h,className:"form-textarea",placeholder:"Brief description of the role...",rows:3})]}),a.jsxs("div",{className:"permissions-section",children:[a.jsxs("h3",{className:"section-title",children:[a.jsx(Ae,{size:20}),"Permissions"]}),a.jsx("p",{className:"section-subtitle",children:"Select the permissions this role should have"}),Object.entries(y).map(([x,w])=>a.jsxs("div",{className:"permission-category",children:[a.jsxs("div",{className:"category-header",children:[a.jsx("h4",{className:"category-title",children:x}),a.jsx("button",{type:"button",className:"btn-text",onClick:()=>m(x),children:w.every(j=>r.permissions[j.key])?"Deselect All":"Select All"})]}),a.jsx("div",{className:"permissions-grid",children:w.map(j=>a.jsxs("label",{className:"permission-item",children:[a.jsx("input",{type:"checkbox",checked:r.permissions[j.key]||!1,onChange:()=>p(j.key)}),a.jsxs("div",{className:"permission-info",children:[a.jsx("span",{className:"permission-label",children:j.label}),a.jsx("span",{className:"permission-description",children:j.description})]})]},j.key))})]},x))]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:e,disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",onClick:g,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Create Role"]})})]})]})})},uJ=({role:e,onClose:t,onSuccess:r})=>{const[n,s]=b.useState({role_name:e.role_name||"",role_code:e.role_code||"",description:e.description||"",permissions:e.permissions||{},is_active:e.is_active!==void 0?e.is_active:!0}),[i,o]=b.useState([]),[l,c]=b.useState({}),[d,u]=b.useState(!1),[f,h]=b.useState("");b.useEffect(()=>{(async()=>{try{const j=await oe.get("/roles/permissions/available");j.data.success&&o(j.data.data)}catch(j){console.error("Error fetching permissions:",j)}})()},[]);const p=w=>{const{name:j,value:N,type:S,checked:_}=w.target;s(k=>({...k,[j]:S==="checkbox"?_:N})),l[j]&&c(k=>({...k,[j]:""}))},m=w=>{s(j=>({...j,permissions:{...j.permissions,[w]:!j.permissions[w]}}))},v=w=>{const j=i.filter(_=>_.category===w),N=j.every(_=>n.permissions[_.key]),S={...n.permissions};j.forEach(_=>{S[_.key]=!N}),s(_=>({..._,permissions:S}))},g=()=>{const w={};return n.role_name.trim()?n.role_name.length<2&&(w.role_name="Role name must be at least 2 characters"):w.role_name="Role name is required",n.role_code.trim()?n.role_code.length<2?w.role_code="Role code must be at least 2 characters":/^[A-Z0-9_-]+$/.test(n.role_code)||(w.role_code="Role code must contain only uppercase letters, numbers, hyphens, and underscores"):w.role_code="Role code is required",c(w),Object.keys(w).length===0},y=async w=>{var j,N;if(w.preventDefault(),!!g())try{u(!0),h("");const S={role_name:n.role_name.trim(),role_code:n.role_code.trim().toUpperCase(),description:n.description.trim()||null,permissions:n.permissions,is_active:n.is_active};(await oe.put(`/roles/${e.role_id}`,S)).data.success&&(alert("Role updated successfully!"),r())}catch(S){console.error("Error updating role:",S),h(((N=(j=S.response)==null?void 0:j.data)==null?void 0:N.message)||"Failed to update role")}finally{u(!1)}},x=i.reduce((w,j)=>(w[j.category]||(w[j.category]=[]),w[j.category].push(j),w),{});return a.jsx("div",{className:"modal-overlay",onClick:t,children:a.jsxs("div",{className:"modal-content modal-large",onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(Ae,{size:24,className:"modal-icon"}),a.jsx("h2",{className:"modal-title",children:e.is_system_role?"View Role Permissions":"Edit Role"})]}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[e.is_system_role&&a.jsx("div",{className:"alert alert-info",children:a.jsx("span",{children:"This is a system role. You can only view and modify permissions."})}),f&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:f})}),a.jsxs("form",{onSubmit:y,className:"role-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"role_name",className:"form-label required",children:[a.jsx(Ae,{size:16}),"Role Name"]}),a.jsx("input",{type:"text",id:"role_name",name:"role_name",value:n.role_name,onChange:p,className:`form-input ${l.role_name?"error":""}`,placeholder:"e.g., Support Agent",disabled:e.is_system_role}),l.role_name&&a.jsx("span",{className:"error-message",children:l.role_name})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"role_code",className:"form-label required",children:[a.jsx(eh,{size:16}),"Role Code"]}),a.jsx("input",{type:"text",id:"role_code",name:"role_code",value:n.role_code,onChange:p,className:`form-input ${l.role_code?"error":""}`,placeholder:"e.g., SUPPORT",maxLength:20,disabled:e.is_system_role}),l.role_code&&a.jsx("span",{className:"error-message",children:l.role_code}),e.is_system_role&&a.jsx("small",{className:"form-help",children:"Cannot change role code of system roles"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{htmlFor:"description",className:"form-label",children:[a.jsx(Yr,{size:16}),"Description"]}),a.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:p,className:"form-textarea",placeholder:"Brief description of the role...",rows:3,disabled:e.is_system_role})]}),!e.is_system_role&&a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"is_active",checked:n.is_active,onChange:p}),a.jsx("span",{children:"Active Role"})]}),a.jsx("small",{className:"form-help",children:"Uncheck to deactivate this role"})]}),a.jsxs("div",{className:"permissions-section",children:[a.jsxs("h3",{className:"section-title",children:[a.jsx(Ae,{size:20}),"Permissions"]}),a.jsx("p",{className:"section-subtitle",children:e.is_system_role?"View the permissions for this system role":"Select the permissions this role should have"}),Object.entries(x).map(([w,j])=>a.jsxs("div",{className:"permission-category",children:[a.jsxs("div",{className:"category-header",children:[a.jsx("h4",{className:"category-title",children:w}),a.jsx("button",{type:"button",className:"btn-text",onClick:()=>v(w),children:j.every(N=>n.permissions[N.key])?"Deselect All":"Select All"})]}),a.jsx("div",{className:"permissions-grid",children:j.map(N=>a.jsxs("label",{className:"permission-item",children:[a.jsx("input",{type:"checkbox",checked:n.permissions[N.key]||!1,onChange:()=>m(N.key)}),a.jsxs("div",{className:"permission-info",children:[a.jsx("span",{className:"permission-label",children:N.label}),a.jsx("span",{className:"permission-description",children:N.description})]})]},N.key))})]},w))]})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:t,disabled:d,children:e.is_system_role?"Close":"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",onClick:y,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Update Role"]})})]})]})})},dJ=({role:e,onClose:t,onSuccess:r})=>{const[n,s]=b.useState(!1),[i,o]=b.useState(""),l=async()=>{var c,d;try{s(!0),o(""),(await oe.delete(`/roles/${e.role_id}`)).data.success&&(alert("Role deleted successfully!"),r())}catch(u){console.error("Error deleting role:",u),o(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Failed to delete role")}finally{s(!1)}};return a.jsx("div",{className:"modal-overlay",onClick:t,children:a.jsxs("div",{className:"modal-content modal-small",onClick:c=>c.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("div",{className:"modal-title-section",children:[a.jsx(Te,{size:24,className:"modal-icon text-danger"}),a.jsx("h2",{className:"modal-title",children:"Delete Role"})]}),a.jsx("button",{className:"modal-close",onClick:t,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"modal-body",children:[i&&a.jsx("div",{className:"alert alert-error",children:a.jsx("span",{children:i})}),e.is_system_role?a.jsxs("div",{className:"alert alert-error",children:[a.jsx(Te,{size:18}),a.jsx("span",{children:"Cannot delete system roles. System roles are protected and cannot be removed."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Are you sure you want to delete the role"," ",a.jsxs("strong",{children:['"',e.role_name,'"']}),"?"]}),e.total_users>0&&a.jsxs("div",{className:"alert alert-warning",children:[a.jsx(Te,{size:18}),a.jsxs("span",{children:["This role has ",a.jsxs("strong",{children:[e.total_users," active user(s)"]}),". Please reassign users before deleting."]})]}),a.jsx("p",{className:"warning-text",children:"This action cannot be undone. The role will be deactivated."})]})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:t,disabled:n,children:"Cancel"}),!e.is_system_role&&a.jsx("button",{type:"button",className:"btn-danger",onClick:l,disabled:n||e.total_users>0,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner",size:18}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jr,{size:18}),"Delete Role"]})})]})]})})},u2={ADMIN:{icon:E6,color:"#dc2626",bgColor:"rgba(220, 38, 38, 0.1)",gradient:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)"},MANAGER:{icon:di,color:"#2563eb",bgColor:"rgba(37, 99, 235, 0.1)",gradient:"linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%)"},ENGINEER:{icon:Ty,color:"#059669",bgColor:"rgba(5, 150, 105, 0.1)",gradient:"linear-gradient(135deg, #059669 0%, #047857 100%)"},USER:{icon:fr,color:"#7c3aed",bgColor:"rgba(124, 58, 237, 0.1)",gradient:"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)"},DEFAULT:{icon:Ae,color:"#6366f1",bgColor:"rgba(99, 102, 241, 0.1)",gradient:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)"}},$l=b.memo(({icon:e,label:t,value:r,color:n,bgColor:s})=>a.jsxs("div",{className:"role-stats-card",style:{"--card-color":n,"--card-bg":s},children:[a.jsx("div",{className:"role-stats-icon",children:a.jsx(e,{size:22})}),a.jsxs("div",{className:"role-stats-info",children:[a.jsx("span",{className:"role-stats-value",children:r}),a.jsx("span",{className:"role-stats-label",children:t})]})]}));$l.displayName="StatsCard";const E5=b.memo(({role:e,onEdit:t,onDelete:r,countPermissions:n})=>{const s=u2[e.role_code]||u2.DEFAULT,i=s.icon,o=n(e.permissions);return a.jsxs("div",{className:`role-card ${e.is_system_role?"system":""}`,role:"article","aria-label":e.role_name,children:[e.is_system_role&&a.jsxs("div",{className:"role-ribbon",children:[a.jsx(Ge,{size:10}),a.jsx("span",{children:"System"})]}),a.jsxs("div",{className:"role-card-header",children:[a.jsx("div",{className:"role-card-icon",style:{background:s.gradient},children:a.jsx(i,{size:24})}),a.jsxs("div",{className:"role-card-actions",children:[a.jsx("button",{type:"button",className:"role-action-btn view",onClick:()=>t(e),title:e.is_system_role?"View Permissions":"Edit Role","aria-label":e.is_system_role?"View permissions":"Edit role",children:e.is_system_role?a.jsx(_t,{size:16}):a.jsx(zs,{size:16})}),!e.is_system_role&&a.jsx("button",{type:"button",className:"role-action-btn delete",onClick:()=>r(e),title:"Delete Role","aria-label":"Delete role",children:a.jsx(jr,{size:16})})]})]}),a.jsxs("div",{className:"role-card-body",children:[a.jsx("h3",{className:"role-card-name",children:e.role_name}),a.jsxs("div",{className:"role-card-meta",children:[a.jsx("span",{className:"role-card-code",children:e.role_code}),e.is_system_role&&a.jsxs("span",{className:"role-card-badge system",children:[a.jsx(Ge,{size:10}),"Protected"]})]}),e.description&&a.jsx("p",{className:"role-card-description",children:e.description})]}),a.jsxs("div",{className:"role-permissions-section",children:[a.jsxs("div",{className:"role-permissions-header",children:[a.jsx(Dd,{size:16}),a.jsx("span",{children:"Permissions"})]}),a.jsxs("div",{className:"role-permissions-count",children:[a.jsx("span",{className:"permissions-number",children:o}),a.jsx("span",{className:"permissions-label",children:"enabled"})]})]}),a.jsxs("div",{className:"role-card-footer",children:[a.jsxs("div",{className:"role-footer-stat",children:[a.jsx(fr,{size:18}),a.jsxs("div",{className:"role-footer-stat-info",children:[a.jsx("span",{className:"role-footer-stat-value",children:e.total_users||0}),a.jsx("span",{className:"role-footer-stat-label",children:"Users"})]})]}),a.jsx("div",{className:"role-footer-divider"}),a.jsx("div",{className:"role-footer-stat",children:e.is_active?a.jsxs(a.Fragment,{children:[a.jsx(Ce,{size:18,className:"status-active"}),a.jsxs("div",{className:"role-footer-stat-info",children:[a.jsx("span",{className:"role-footer-stat-value status-active",children:"Active"}),a.jsx("span",{className:"role-footer-stat-label",children:"Status"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Rr,{size:18,className:"status-inactive"}),a.jsxs("div",{className:"role-footer-stat-info",children:[a.jsx("span",{className:"role-footer-stat-value status-inactive",children:"Inactive"}),a.jsx("span",{className:"role-footer-stat-label",children:"Status"})]})]})})]})]})});E5.displayName="RoleCard";const C5=b.memo(({searchTerm:e,onClearSearch:t})=>a.jsxs("div",{className:"role-empty-state",children:[a.jsx("div",{className:"role-empty-icon",children:a.jsx(eA,{size:48})}),a.jsx("h3",{className:"role-empty-title",children:e?"No roles found":"No roles yet"}),a.jsx("p",{className:"role-empty-message",children:e?"Try adjusting your search query":"Start by creating your first custom role"}),e&&a.jsx("button",{type:"button",className:"role-empty-btn",onClick:t,children:"Clear Search"})]}));C5.displayName="EmptyState";const P5=b.memo(()=>a.jsxs("div",{className:"role-loading-state",children:[a.jsx("div",{className:"role-loading-spinner",children:a.jsx(Ie,{size:40,className:"spinner"})}),a.jsx("p",{children:"Loading roles..."})]}));P5.displayName="LoadingState";const A5=b.memo(({error:e,onRetry:t})=>a.jsxs("div",{className:"role-error-state",children:[a.jsx("div",{className:"role-error-icon",children:a.jsx(Te,{size:48})}),a.jsx("h2",{children:"Error Loading Roles"}),a.jsx("p",{children:e}),a.jsxs("button",{type:"button",className:"role-btn primary",onClick:t,children:[a.jsx(ut,{size:18}),"Try Again"]})]}));A5.displayName="ErrorState";const fJ=()=>{jt();const{user:e}=sr(),{showToast:t}=Nn(),[r,n]=b.useState([]),[s,i]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,f]=b.useState(!1),[h,p]=b.useState(!1),[m,v]=b.useState(!1),[g,y]=b.useState(!1),[x,w]=b.useState(null),j=b.useCallback(async()=>{var $,q;try{i(!0),l("");const R=await oe.get("/roles");R.data.success&&n(R.data.data)}catch(R){console.error("Error fetching roles:",R),l(((q=($=R.response)==null?void 0:$.data)==null?void 0:q.message)||"Failed to fetch roles"),t("Failed to load roles","error")}finally{i(!1)}},[t]);b.useEffect(()=>{j()},[j]);const N=b.useMemo(()=>c.trim()===""?r:r.filter($=>$.role_name.toLowerCase().includes(c.toLowerCase())||$.role_code.toLowerCase().includes(c.toLowerCase())||$.description&&$.description.toLowerCase().includes(c.toLowerCase())),[c,r]),S=b.useMemo(()=>({total:r.length,system:r.filter($=>$.is_system_role).length,custom:r.filter($=>!$.is_system_role).length,totalUsers:r.reduce(($,q)=>$+(q.total_users||0),0)}),[r]),_=b.useCallback($=>$?Object.values($).filter(q=>q===!0).length:0,[]),k=b.useCallback(async()=>{f(!0),await j(),t("Roles refreshed","success"),setTimeout(()=>f(!1),500)},[j,t]),P=b.useCallback(()=>{d(""),t("Search cleared","info")},[t]),E=b.useCallback(()=>{p(!0),t("Opening create role form","info")},[t]),C=b.useCallback($=>{w($),v(!0),t($.is_system_role?`Viewing ${$.role_name} permissions`:`Editing ${$.role_name}`,"info")},[t]),A=b.useCallback($=>{w($),y(!0)},[]),D=b.useCallback(()=>{p(!1),v(!1),y(!1),w(null)},[]),M=b.useCallback(()=>{D(),t("Role created successfully","success"),j()},[D,j,t]),O=b.useCallback(()=>{D(),t("Role updated successfully","success"),j()},[D,j,t]),z=b.useCallback(()=>{D(),t("Role deleted successfully","success"),j()},[D,j,t]);return s&&r.length===0?a.jsx("div",{className:"role-page",children:a.jsx(P5,{})}):o&&r.length===0?a.jsx("div",{className:"role-page",children:a.jsx(A5,{error:o,onRetry:j})}):a.jsxs("div",{className:"role-page",children:[a.jsxs("header",{className:"role-header",children:[a.jsxs("div",{className:"role-header-content",children:[a.jsx("div",{className:"role-header-icon",children:a.jsx(Av,{size:28})}),a.jsxs("div",{className:"role-header-text",children:[a.jsx("h1",{className:"role-title",children:"Role Management"}),a.jsxs("p",{className:"role-subtitle",children:["Manage ",r.length," user role",r.length!==1?"s":""," and permissions"]})]})]}),a.jsxs("div",{className:"role-header-actions",children:[a.jsxs("button",{type:"button",className:"role-btn secondary",onClick:k,disabled:u,"aria-label":"Refresh roles",children:[a.jsx(ut,{size:18,className:u?"spinner":""}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{type:"button",className:"role-btn primary",onClick:E,"aria-label":"Create new role",children:[a.jsx(Vr,{size:18}),a.jsx("span",{children:"Create Role"})]})]})]}),a.jsxs("div",{className:"role-stats-grid",children:[a.jsx($l,{icon:Ae,label:"Total Roles",value:S.total,color:"#6366f1",bgColor:"rgba(99, 102, 241, 0.1)"}),a.jsx($l,{icon:Ge,label:"System Roles",value:S.system,color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.1)"}),a.jsx($l,{icon:I6,label:"Custom Roles",value:S.custom,color:"#22c55e",bgColor:"rgba(34, 197, 94, 0.1)"}),a.jsx($l,{icon:fr,label:"Total Users",value:S.totalUsers,color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)"})]}),a.jsxs("div",{className:"role-toolbar",children:[a.jsxs("div",{className:"role-search",children:[a.jsx(aa,{size:18,className:"role-search-icon"}),a.jsx("input",{type:"text",placeholder:"Search by name, code, or description...",value:c,onChange:$=>d($.target.value),className:"role-search-input","aria-label":"Search roles"}),c&&a.jsx("button",{type:"button",className:"role-search-clear",onClick:P,"aria-label":"Clear search",children:a.jsx(Rr,{size:18})})]}),a.jsx("div",{className:"role-toolbar-info",children:a.jsxs("span",{className:"role-count",children:[N.length," of ",r.length," roles"]})})]}),N.length===0?a.jsx(C5,{searchTerm:c,onClearSearch:P}):a.jsx("div",{className:"role-grid",children:N.map($=>a.jsx(E5,{role:$,onEdit:C,onDelete:A,countPermissions:_},$.role_id))}),h&&a.jsx(cJ,{onClose:()=>{D(),t("Create cancelled","info")},onSuccess:M}),m&&x&&a.jsx(uJ,{role:x,onClose:()=>{D(),t("Edit cancelled","info")},onSuccess:O}),g&&x&&a.jsx(dJ,{role:x,onClose:D,onSuccess:z})]})},hJ=({data:e,compareData:t})=>{if(!e)return a.jsx("div",{className:"no-data",children:"No data available"});const[r,n]=b.useState(null),s=(o,l)=>l==null?null:o-l,i=[{title:"Total Tickets",value:e.total_tickets,rawValue:e.total_tickets,compareValue:t==null?void 0:t.total_tickets,subtitle:`${e.open_tickets} open, ${e.closed_tickets} closed`,icon:Ss,color:"#6366f1",trend:null,details:[{label:"Open tickets",value:e.open_tickets},{label:"Closed tickets",value:e.closed_tickets},{label:"Auto-closed",value:e.auto_closed_count}]},{title:"Closure Rate",value:`${e.closure_rate}%`,rawValue:e.closure_rate,compareValue:t==null?void 0:t.closure_rate,subtitle:`${e.closed_tickets} of ${e.total_tickets} resolved`,icon:Ce,color:"#10b981",trend:e.closure_rate>=80?"up":"down",details:[{label:"Closed tickets",value:e.closed_tickets},{label:"Open tickets",value:e.open_tickets}]},{title:"Avg Resolution Time",value:`${e.avg_resolution_hours}h`,rawValue:e.avg_resolution_hours,compareValue:t==null?void 0:t.avg_resolution_hours,subtitle:e.avg_resolution_hours<=24?"Meeting target":"Above target",icon:Ee,color:e.avg_resolution_hours<=24?"#10b981":"#f59e0b",trend:e.avg_resolution_hours<=24?"up":"down",details:[{label:"Target",value:"24h"},{label:"SLA met",value:`${e.resolution_sla_percent}%`}]},{title:"First Response Time",value:`${e.avg_first_response_minutes} min`,rawValue:e.avg_first_response_minutes,compareValue:t==null?void 0:t.avg_first_response_minutes,subtitle:"Average response time",icon:La,color:"#8b5cf6",trend:null,details:[{label:"First-response SLA",value:`${e.first_response_sla_percent}%`}]},{title:"SLA Compliance",value:`${e.resolution_sla_percent}%`,rawValue:e.resolution_sla_percent,compareValue:t==null?void 0:t.resolution_sla_percent,subtitle:`${e.first_response_sla_percent}% first response`,icon:Oy,color:e.resolution_sla_percent>=90?"#10b981":"#ef4444",trend:e.resolution_sla_percent>=90?"up":"down",details:[{label:"First response",value:`${e.first_response_sla_percent}%`},{label:"Resolution SLA",value:`${e.resolution_sla_percent}%`}]},{title:"Customer Satisfaction",value:e.avg_csat_rating>0?`${e.avg_csat_rating}/5`:"N/A",rawValue:e.avg_csat_rating,compareValue:t==null?void 0:t.avg_csat_rating,subtitle:`${e.csat_response_rate}% response rate`,icon:Yl,color:"#ec4899",trend:e.avg_csat_rating>=4?"up":e.avg_csat_rating>=3?"neutral":"down",details:[{label:"Response rate",value:`${e.csat_response_rate}%`},{label:"Rated tickets",value:e.total_rated_tickets}]},{title:"Escalation Rate",value:`${e.escalation_rate}%`,rawValue:e.escalation_rate,compareValue:t==null?void 0:t.escalation_rate,subtitle:`${e.escalated_tickets} escalated`,icon:Md,color:e.escalation_rate<5?"#10b981":"#f59e0b",trend:e.escalation_rate<5?"down":"up",details:[{label:"Escalated tickets",value:e.escalated_tickets},{label:"Open tickets",value:e.open_tickets}]},{title:"Active Agents",value:e.active_agents,rawValue:e.active_agents,compareValue:t==null?void 0:t.active_agents,subtitle:`${e.tickets_per_agent} tickets per agent`,icon:fr,color:"#3b82f6",trend:null,details:[{label:"Tickets per agent",value:e.tickets_per_agent},{label:"Active departments",value:e.active_departments}]}];return a.jsxs("div",{className:"overview-dashboard",children:[a.jsx("div",{className:"kpi-grid",children:i.map((o,l)=>{const c=o.icon,d=s(o.rawValue,o.compareValue);return a.jsxs("button",{className:"kpi-card interactive",style:{borderTopColor:o.color},onClick:()=>n(o),type:"button",children:[a.jsxs("div",{className:"kpi-header",children:[a.jsx("div",{className:"kpi-icon",style:{backgroundColor:`${o.color}15`,color:o.color},children:a.jsx(c,{size:24})}),o.trend&&a.jsxs("span",{className:`kpi-trend trend-${o.trend}`,children:[o.trend==="up"&&"",o.trend==="down"&&"",o.trend==="neutral"&&""]})]}),a.jsxs("div",{className:"kpi-body",children:[a.jsx("div",{className:"kpi-value",children:o.value}),a.jsx("div",{className:"kpi-title",children:o.title}),a.jsx("div",{className:"kpi-subtitle",children:o.subtitle}),d!==null&&!Number.isNaN(d)&&a.jsxs("div",{className:`kpi-delta ${d>=0?"positive":"negative"}`,children:[d>=0?"+":"",Math.round(d*10)/10," vs prev"]})]})]},l)})}),r&&a.jsx("div",{className:"kpi-drawer-backdrop",onClick:()=>n(null),children:a.jsxs("div",{className:"kpi-drawer",onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"drawer-header",children:[a.jsxs("div",{children:[a.jsx("h3",{children:r.title}),a.jsx("p",{children:r.subtitle})]}),a.jsx("button",{className:"drawer-close",onClick:()=>n(null),type:"button",children:a.jsx(Oe,{size:18})})]}),a.jsxs("div",{className:"drawer-metric",children:[a.jsx("span",{className:"drawer-label",children:"Current"}),a.jsx("span",{className:"drawer-value",children:r.value})]}),r.compareValue!==void 0&&r.compareValue!==null&&a.jsxs("div",{className:"drawer-metric",children:[a.jsx("span",{className:"drawer-label",children:"Previous period"}),a.jsx("span",{className:"drawer-value",children:r.compareValue})]}),a.jsx("div",{className:"drawer-grid",children:r.details.map((o,l)=>a.jsxs("div",{className:"drawer-item",children:[a.jsx("span",{children:o.label}),a.jsx("strong",{children:o.value})]},l))})]})}),a.jsxs("div",{className:"quick-stats",children:[a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-label",children:"Today:"}),a.jsxs("span",{className:"stat-value",children:[e.tickets_today," tickets"]})]}),a.jsx("div",{className:"stat-divider",children:"|"}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-label",children:"This Week:"}),a.jsxs("span",{className:"stat-value",children:[e.tickets_this_week," tickets"]})]}),a.jsx("div",{className:"stat-divider",children:"|"}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-label",children:"This Month:"}),a.jsxs("span",{className:"stat-value",children:[e.tickets_this_month," tickets"]})]}),a.jsx("div",{className:"stat-divider",children:"|"}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-label",children:"Auto-Closed:"}),a.jsxs("span",{className:"stat-value",children:[e.auto_closed_count," tickets"]})]})]}),a.jsxs("div",{className:"dashboard-insights",children:[a.jsxs("div",{className:"insight-card",children:[a.jsx("h3",{children:"Performance Summary"}),a.jsxs("ul",{className:"insight-list",children:[a.jsxs("li",{className:e.closure_rate>=80?"positive":"negative",children:[e.closure_rate>=80?"":""," Closure rate: ",e.closure_rate,"%",e.closure_rate>=80?" (Excellent)":" (Needs Improvement)"]}),a.jsxs("li",{className:e.resolution_sla_percent>=90?"positive":"negative",children:[e.resolution_sla_percent>=90?"":""," SLA Compliance: ",e.resolution_sla_percent,"%",e.resolution_sla_percent>=90?" (Meeting Target)":" (Below Target)"]}),a.jsxs("li",{className:e.avg_csat_rating>=4?"positive":e.avg_csat_rating>=3?"neutral":"negative",children:[e.avg_csat_rating>=4?"":e.avg_csat_rating>=3?"":"","Customer Satisfaction: ",e.avg_csat_rating,"/5",e.avg_csat_rating>=4?" (Excellent)":e.avg_csat_rating>=3?" (Good)":" (Poor)"]}),a.jsxs("li",{className:e.escalation_rate<5?"positive":"neutral",children:[e.escalation_rate<5?"":""," Escalation Rate: ",e.escalation_rate,"%",e.escalation_rate<5?" (Low)":" (Moderate)"]})]})]}),a.jsxs("div",{className:"insight-card",children:[a.jsx("h3",{children:"Key Recommendations"}),a.jsxs("ul",{className:"insight-list",children:[e.open_tickets>e.closed_tickets&&a.jsxs("li",{className:"warning",children:[" High open ticket backlog (",e.open_tickets,"). Consider reallocating resources."]}),e.avg_resolution_hours>24&&a.jsxs("li",{className:"warning",children:[" Average resolution time (",e.avg_resolution_hours,"h) exceeds 24h target. Review workflow efficiency."]}),e.resolution_sla_percent<90&&a.jsx("li",{className:"warning",children:" SLA compliance below 90%. Focus on meeting response and resolution deadlines."}),e.avg_csat_rating<3&&e.total_rated_tickets>0&&a.jsx("li",{className:"warning",children:" Customer satisfaction is low. Review service quality and communication."}),e.closure_rate>=80&&e.resolution_sla_percent>=90&&e.avg_csat_rating>=4&&a.jsx("li",{className:"positive",children:" All key metrics are performing well. Maintain current standards!"})]})]})]})]})},pJ=({data:e,compareData:t})=>{if(!e||e.length===0)return a.jsx("div",{className:"no-data",children:"No SLA data available for the selected range"});const r=e.reduce((f,h)=>f+h.total_tickets,0),n=e.reduce((f,h)=>f+h.first_response_met,0),s=e.reduce((f,h)=>f+h.resolution_met,0),i=r>0?Math.round(n/r*100):0,o=r>0?Math.round(s/r*100):0,l=(t||[]).reduce((f,h)=>(f.totalTickets+=h.total_tickets||0,f.firstMet+=h.first_response_met||0,f.resolutionMet+=h.resolution_met||0,f),{totalTickets:0,firstMet:0,resolutionMet:0}),c=l.totalTickets>0?Math.round(l.firstMet/l.totalTickets*100):null,d=l.totalTickets>0?Math.round(l.resolutionMet/l.totalTickets*100):null,u=e.map(f=>({name:f.priority_name,"First Response SLA":f.first_response_sla_percent,"Resolution SLA":f.resolution_sla_percent,target:90}));return a.jsxs("div",{className:"sla-metrics",children:[a.jsxs("div",{className:"sla-summary",children:[a.jsxs("div",{className:"sla-card",children:[a.jsx("div",{className:"sla-icon-wrapper",style:{backgroundColor:"#10b98115"},children:a.jsx(Ce,{size:32,color:"#10b981"})}),a.jsxs("div",{className:"sla-details",children:[a.jsxs("div",{className:"sla-value",children:[i,"%"]}),a.jsx("div",{className:"sla-label",children:"First Response SLA"}),a.jsxs("div",{className:"sla-subtitle",children:[n," of ",r," tickets"]}),c!==null&&a.jsxs("div",{className:`sla-delta ${i-c>=0?"positive":"negative"}`,children:[i-c>=0?"+":"",i-c,"% vs prev"]})]}),a.jsx("div",{className:`sla-status ${i>=90?"success":"warning"}`,children:i>=90?"Meeting Target":"Below Target"})]}),a.jsxs("div",{className:"sla-card",children:[a.jsx("div",{className:"sla-icon-wrapper",style:{backgroundColor:"#6366f115"},children:a.jsx(Oy,{size:32,color:"#6366f1"})}),a.jsxs("div",{className:"sla-details",children:[a.jsxs("div",{className:"sla-value",children:[o,"%"]}),a.jsx("div",{className:"sla-label",children:"Resolution SLA"}),a.jsxs("div",{className:"sla-subtitle",children:[s," of ",r," tickets"]}),d!==null&&a.jsxs("div",{className:`sla-delta ${o-d>=0?"positive":"negative"}`,children:[o-d>=0?"+":"",o-d,"% vs prev"]})]}),a.jsx("div",{className:`sla-status ${o>=90?"success":"warning"}`,children:o>=90?"Meeting Target":"Below Target"})]})]}),a.jsxs("div",{className:"chart-container",children:[a.jsx("h3",{children:"SLA Compliance by Priority"}),a.jsx(Rn,{width:"100%",height:350,children:a.jsxs(Yo,{data:u,children:[a.jsx(qa,{strokeDasharray:"3 3"}),a.jsx(Ua,{dataKey:"name"}),a.jsx(Ha,{domain:[0,100]}),a.jsx(Dn,{}),a.jsx(za,{}),a.jsx(Aa,{dataKey:"First Response SLA",fill:"#10b981"}),a.jsx(Aa,{dataKey:"Resolution SLA",fill:"#6366f1"}),a.jsx(Aa,{dataKey:"target",fill:"#f59e0b",fillOpacity:.3})]})})]}),a.jsxs("div",{className:"sla-table-container",children:[a.jsx("h3",{children:"Detailed SLA Performance"}),a.jsxs("table",{className:"sla-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Priority"}),a.jsx("th",{children:"Target Response"}),a.jsx("th",{children:"Target Resolution"}),a.jsx("th",{children:"Total Tickets"}),a.jsx("th",{children:"First Response SLA"}),a.jsx("th",{children:"Met / Missed"}),a.jsx("th",{children:"Resolution SLA"}),a.jsx("th",{children:"Met / Missed"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:e.map((f,h)=>a.jsxs("tr",{children:[a.jsx("td",{className:"priority-cell",children:a.jsx("strong",{children:f.priority_name})}),a.jsxs("td",{children:[f.response_time_hours,"h"]}),a.jsxs("td",{children:[f.resolution_time_hours,"h"]}),a.jsx("td",{children:f.total_tickets}),a.jsx("td",{className:f.first_response_sla_percent>=90?"text-success":"text-warning",children:a.jsxs("strong",{children:[f.first_response_sla_percent,"%"]})}),a.jsxs("td",{children:[a.jsx("span",{className:"badge badge-success",children:f.first_response_met})," / ",a.jsx("span",{className:"badge badge-danger",children:f.first_response_missed})]}),a.jsx("td",{className:f.resolution_sla_percent>=90?"text-success":"text-warning",children:a.jsxs("strong",{children:[f.resolution_sla_percent,"%"]})}),a.jsxs("td",{children:[a.jsx("span",{className:"badge badge-success",children:f.resolution_met})," / ",a.jsx("span",{className:"badge badge-danger",children:f.resolution_missed})]}),a.jsx("td",{children:f.first_response_sla_percent>=90&&f.resolution_sla_percent>=90?a.jsx("span",{className:"status-badge success",children:" Excellent"}):f.first_response_sla_percent>=80&&f.resolution_sla_percent>=80?a.jsx("span",{className:"status-badge warning",children:" Fair"}):a.jsx("span",{className:"status-badge danger",children:" Poor"})})]},h))})]})]})]})},mJ=({data:e})=>{if(!e||!e.overall)return a.jsx("div",{className:"no-data",children:"No CSAT data available"});const{overall:t,distribution:r,by_department:n,by_category:s}=e,i=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6"],o=r.map(c=>({name:`${c.rating} Star${c.rating>1?"s":""}`,value:c.count})),l=c=>{const d=[];for(let u=1;u<=5;u++)d.push(a.jsx(K6,{size:16,fill:u<=c?"#f59e0b":"none",stroke:u<=c?"#f59e0b":"#d1d5db"},u));return d};return a.jsxs("div",{className:"csat-metrics",children:[a.jsx("div",{className:"csat-summary",children:a.jsxs("div",{className:"csat-main-card",children:[a.jsxs("div",{className:"csat-score",children:[a.jsx("div",{className:"score-value",children:t.avg_rating}),a.jsx("div",{className:"score-label",children:"Average Rating"}),a.jsx("div",{className:"score-stars",children:l(Math.round(t.avg_rating))})]}),a.jsxs("div",{className:"csat-breakdown",children:[a.jsxs("div",{className:"breakdown-item positive",children:[a.jsx("div",{className:"breakdown-value",children:t.positive_ratings}),a.jsx("div",{className:"breakdown-label",children:"Positive (4-5)"})]}),a.jsxs("div",{className:"breakdown-item neutral",children:[a.jsx("div",{className:"breakdown-value",children:t.neutral_ratings}),a.jsx("div",{className:"breakdown-label",children:"Neutral (3)"})]}),a.jsxs("div",{className:"breakdown-item negative",children:[a.jsx("div",{className:"breakdown-value",children:t.negative_ratings}),a.jsx("div",{className:"breakdown-label",children:"Negative (1-2)"})]})]}),a.jsxs("div",{className:"satisfaction-score",children:[a.jsxs("div",{className:"satisfaction-percentage",children:[t.satisfaction_score,"%"]}),a.jsx("div",{className:"satisfaction-label",children:"Satisfaction Score"}),a.jsxs("div",{className:"satisfaction-subtitle",children:["Based on ",t.total_ratings," responses"]})]})]})}),a.jsxs("div",{className:"csat-charts",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Rating Distribution"}),a.jsx(Rn,{width:"100%",height:300,children:a.jsxs(W0,{children:[a.jsx(ep,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:d})=>`${c}: ${(d*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:o.map((c,d)=>a.jsx(Os,{fill:i[d%i.length]},`cell-${d}`))}),a.jsx(Dn,{})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"CSAT by Department"}),a.jsx(Rn,{width:"100%",height:300,children:a.jsxs(Yo,{data:n,children:[a.jsx(qa,{strokeDasharray:"3 3"}),a.jsx(Ua,{dataKey:"department_name",angle:-45,textAnchor:"end",height:100}),a.jsx(Ha,{domain:[0,5]}),a.jsx(Dn,{}),a.jsx(Aa,{dataKey:"avg_rating",fill:"#10b981"})]})})]})]}),a.jsxs("div",{className:"csat-table-container",children:[a.jsx("h3",{children:"CSAT by Category"}),a.jsxs("table",{className:"csat-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Average Rating"}),a.jsx("th",{children:"Rating Visualization"}),a.jsx("th",{children:"Total Ratings"}),a.jsx("th",{children:"Performance"})]})}),a.jsx("tbody",{children:s.map((c,d)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:c.category_name})}),a.jsx("td",{className:"rating-value",children:c.avg_rating}),a.jsx("td",{className:"rating-stars",children:l(Math.round(c.avg_rating))}),a.jsx("td",{children:c.rating_count}),a.jsx("td",{children:c.avg_rating>=4.5?a.jsx("span",{className:"status-badge success",children:" Excellent"}):c.avg_rating>=4?a.jsx("span",{className:"status-badge success",children:" Good"}):c.avg_rating>=3?a.jsx("span",{className:"status-badge warning",children:" Average"}):a.jsx("span",{className:"status-badge danger",children:" Poor"})})]},d))})]})]}),a.jsxs("div",{className:"csat-insights",children:[a.jsx("h3",{children:"Key Insights"}),a.jsxs("ul",{className:"insights-list",children:[t.avg_rating>=4.5&&a.jsx("li",{className:"positive",children:" Exceptional customer satisfaction! Maintain current service standards."}),t.avg_rating<3&&a.jsx("li",{className:"negative",children:" Low satisfaction scores. Immediate action required to improve service quality."}),t.negative_ratings>t.positive_ratings&&a.jsx("li",{className:"negative",children:" More negative than positive ratings. Review common complaints and address issues."}),s.length>0&&a.jsxs("li",{className:"info",children:[" Best performing category: ",a.jsx("strong",{children:s[0].category_name})," (",s[0].avg_rating,")"]}),n.length>0&&a.jsxs("li",{className:"info",children:[" Top department: ",a.jsx("strong",{children:n[0].department_name})," (",n[0].avg_rating,")"]})]})]})]})},vJ=({data:e})=>{if(!e||!e.overview)return a.jsx("div",{className:"no-data",children:"No escalation data available"});const{overview:t,by_priority:r,by_department:n,reasons:s}=e;if(t.total_escalations===0)return a.jsx("div",{className:"escalation-metrics",children:a.jsx("div",{className:"escalation-summary",children:a.jsxs("div",{className:"esc-card",children:[a.jsx("div",{className:"esc-icon",children:a.jsx(Md,{size:40,color:"#10b981"})}),a.jsxs("div",{className:"esc-details",children:[a.jsx("div",{className:"esc-value",style:{color:"#10b981"},children:"0"}),a.jsx("div",{className:"esc-label",children:"Escalations"}),a.jsx("div",{className:"esc-subtitle",style:{color:"#10b981"},children:"No tickets have been escalated  great job!"})]})]})})});const i=["#ef4444","#f59e0b","#3b82f6","#10b981","#8b5cf6"];return a.jsxs("div",{className:"escalation-metrics",children:[a.jsxs("div",{className:"escalation-summary",children:[a.jsxs("div",{className:"esc-card",children:[a.jsx("div",{className:"esc-icon",children:a.jsx(Md,{size:40,color:"#ef4444"})}),a.jsxs("div",{className:"esc-details",children:[a.jsx("div",{className:"esc-value",children:t.total_escalations}),a.jsx("div",{className:"esc-label",children:"Total Escalations"}),a.jsxs("div",{className:"esc-subtitle",children:[t.open_escalations," open, ",t.closed_escalations," resolved"]})]})]}),a.jsxs("div",{className:"esc-card",children:[a.jsx("div",{className:"esc-icon",children:a.jsx(Te,{size:40,color:"#f59e0b"})}),a.jsxs("div",{className:"esc-details",children:[a.jsxs("div",{className:"esc-value",children:[t.avg_time_to_escalation_hours,"h"]}),a.jsx("div",{className:"esc-label",children:"Avg Time to Escalation"}),a.jsx("div",{className:"esc-subtitle",children:"From ticket creation"})]})]})]}),a.jsxs("div",{className:"escalation-charts",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Escalations by Priority"}),a.jsx(Rn,{width:"100%",height:300,children:a.jsxs(W0,{children:[a.jsx(ep,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({priority_name:o,percentage:l})=>`${o}: ${l.toFixed(1)}%`,outerRadius:100,fill:"#8884d8",dataKey:"escalation_count",children:r.map((o,l)=>a.jsx(Os,{fill:i[l%i.length]},`cell-${l}`))}),a.jsx(Dn,{})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Escalations by Department"}),a.jsx(Rn,{width:"100%",height:300,children:a.jsxs(Yo,{data:n,children:[a.jsx(qa,{strokeDasharray:"3 3"}),a.jsx(Ua,{dataKey:"department_name",angle:-45,textAnchor:"end",height:100}),a.jsx(Ha,{}),a.jsx(Dn,{}),a.jsx(Aa,{dataKey:"escalation_count",fill:"#ef4444"})]})})]})]}),a.jsxs("div",{className:"escalation-reasons",children:[a.jsx("h3",{children:"Top Escalation Reasons"}),a.jsxs("table",{className:"reasons-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Rank"}),a.jsx("th",{children:"Reason"}),a.jsx("th",{children:"Count"}),a.jsx("th",{children:"Percentage"})]})}),a.jsx("tbody",{children:s.map((o,l)=>{const c=t.total_escalations>0?(o.count/t.total_escalations*100).toFixed(1):0;return a.jsxs("tr",{children:[a.jsx("td",{className:"rank-cell",children:l+1}),a.jsx("td",{className:"reason-cell",children:o.reason}),a.jsx("td",{children:o.count}),a.jsx("td",{children:a.jsxs("div",{className:"percentage-bar",children:[a.jsx("div",{className:"bar-fill",style:{width:`${c}%`}}),a.jsxs("span",{className:"bar-label",children:[c,"%"]})]})})]},l)})})]})]})]})},gJ=({data:e})=>{if(!e||!e.age_distribution)return a.jsx("div",{className:"no-data",children:"No aging data available"});const{age_distribution:t,oldest_tickets:r,avg_by_priority:n}=e;return a.jsxs("div",{className:"aging-analysis",children:[a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Open Tickets by Age"}),a.jsx(Rn,{width:"100%",height:300,children:a.jsxs(Yo,{data:t,children:[a.jsx(qa,{strokeDasharray:"3 3"}),a.jsx(Ua,{dataKey:"age_bucket"}),a.jsx(Ha,{}),a.jsx(Dn,{}),a.jsx(za,{}),a.jsx(Aa,{dataKey:"count",fill:"#6366f1",name:"Tickets"})]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Average Age by Priority"}),a.jsxs("table",{className:"aging-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Priority"}),a.jsx("th",{children:"Avg Age (Hours)"}),a.jsx("th",{children:"Ticket Count"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:n.map((s,i)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("strong",{children:s.priority_name})}),a.jsxs("td",{className:s.avg_age_hours>48?"text-danger":"text-success",children:[s.avg_age_hours,"h (",Math.round(s.avg_age_hours/24)," days)"]}),a.jsx("td",{children:s.ticket_count}),a.jsx("td",{children:s.avg_age_hours<=24?a.jsx("span",{className:"status-badge success",children:" Fresh"}):s.avg_age_hours<=48?a.jsx("span",{className:"status-badge warning",children:" Aging"}):a.jsx("span",{className:"status-badge danger",children:" Stale"})})]},i))})]})]}),a.jsxs("div",{className:"oldest-tickets",children:[a.jsx("h3",{children:"Oldest Open Tickets (Requires Attention)"}),a.jsxs("table",{className:"tickets-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Ticket"}),a.jsx("th",{children:"Subject"}),a.jsx("th",{children:"Priority"}),a.jsx("th",{children:"Department"}),a.jsx("th",{children:"Created"}),a.jsx("th",{children:"Age"}),a.jsx("th",{children:"Alert"})]})}),a.jsx("tbody",{children:r.map((s,i)=>a.jsxs("tr",{children:[a.jsx("td",{className:"ticket-number",children:s.ticket_number}),a.jsx("td",{className:"ticket-subject",children:s.subject}),a.jsx("td",{children:s.priority_name}),a.jsx("td",{children:s.department_name}),a.jsx("td",{children:new Date(s.created_at).toLocaleDateString()}),a.jsx("td",{className:s.age_days>7?"text-danger":"text-warning",children:a.jsxs("strong",{children:[s.age_days," days"]})}),a.jsx("td",{children:s.age_days>30?a.jsx("span",{className:"alert-badge critical",children:" Critical"}):s.age_days>7?a.jsx("span",{className:"alert-badge warning",children:" High"}):a.jsx("span",{className:"alert-badge normal",children:" Normal"})})]},i))})]})]})]})},yJ=({data:e})=>{if(!e||!e.hourly_distribution)return a.jsx("div",{className:"no-data",children:"No time pattern data available"});const{hourly_distribution:t,daily_distribution:r,peak_hour:n}=e,s=t.map(o=>({hour:`${o.hour}:00`,tickets:o.ticket_count})),i=r.map(o=>({day:o.day_name.substring(0,3),tickets:o.ticket_count}));return a.jsxs("div",{className:"time-patterns",children:[n&&a.jsxs("div",{className:"peak-hour-card",children:[a.jsx(Ee,{size:40,color:"#6366f1"}),a.jsxs("div",{className:"peak-details",children:[a.jsx("div",{className:"peak-label",children:"Peak Hour"}),a.jsx("div",{className:"peak-value",children:n.formatted_time}),a.jsxs("div",{className:"peak-subtitle",children:[n.ticket_count," tickets"]})]})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Hourly Ticket Volume (24h)"}),a.jsx(Rn,{width:"100%",height:350,children:a.jsxs(Yo,{data:s,children:[a.jsx(qa,{strokeDasharray:"3 3"}),a.jsx(Ua,{dataKey:"hour",angle:-45,textAnchor:"end",height:80}),a.jsx(Ha,{}),a.jsx(Dn,{}),a.jsx(za,{}),a.jsx(Aa,{dataKey:"tickets",fill:"#6366f1",name:"Tickets Created"})]})}),a.jsx("div",{className:"chart-insights",children:a.jsxs("p",{children:[" ",a.jsx("strong",{children:"Insight:"})," Most tickets are created during ",n==null?void 0:n.formatted_time,". Consider staffing adjustments for peak hours."]})})]}),a.jsxs("div",{className:"chart-card",children:[a.jsx("h3",{children:"Tickets by Day of Week"}),a.jsx(Rn,{width:"100%",height:300,children:a.jsxs(DQ,{data:i,children:[a.jsx(qa,{strokeDasharray:"3 3"}),a.jsx(Ua,{dataKey:"day"}),a.jsx(Ha,{}),a.jsx(Dn,{}),a.jsx(za,{}),a.jsx(Q4,{type:"monotone",dataKey:"tickets",stroke:"#10b981",strokeWidth:3,name:"Tickets"})]})})]}),a.jsxs("div",{className:"pattern-insights",children:[a.jsx("h3",{children:"Key Patterns"}),a.jsxs("ul",{className:"insights-list",children:[a.jsxs("li",{children:[" Peak activity occurs at ",a.jsx("strong",{children:n==null?void 0:n.formatted_time})," with ",a.jsx("strong",{children:n==null?void 0:n.ticket_count})," tickets."]}),a.jsx("li",{children:" Use this data to optimize agent scheduling and resource allocation."}),a.jsx("li",{children:" Consider implementing automation during low-traffic hours."})]})]})]})},xJ=({data:e})=>{if(!e||e.length===0)return a.jsx("div",{className:"no-data",children:"No agent performance data available"});const t=e.map((r,n)=>({...r,overall_score:r.resolution_rate*.4+r.resolution_sla_percent*.3+r.avg_csat*20*.3,rank:n+1}));return a.jsxs("div",{className:"agent-performance",children:[a.jsxs("div",{className:"top-agents",children:[a.jsx("h3",{children:" Top Performers"}),a.jsx("div",{className:"podium",children:t.slice(0,3).map((r,n)=>a.jsxs("div",{className:`podium-card rank-${n+1}`,children:[a.jsx("div",{className:"rank-badge",children:n===0?"":n===1?"":""}),a.jsx("div",{className:"agent-name",children:r.agent_name}),a.jsx("div",{className:"agent-role",children:r.role_name}),a.jsxs("div",{className:"agent-stats",children:[a.jsxs("div",{className:"stat",children:[a.jsx("span",{className:"stat-label",children:"Resolved"}),a.jsx("span",{className:"stat-value",children:r.tickets_resolved})]}),a.jsxs("div",{className:"stat",children:[a.jsx("span",{className:"stat-label",children:"Rate"}),a.jsxs("span",{className:"stat-value",children:[r.resolution_rate,"%"]})]}),a.jsxs("div",{className:"stat",children:[a.jsx("span",{className:"stat-label",children:"CSAT"}),a.jsxs("span",{className:"stat-value",children:[r.avg_csat,""]})]})]})]},r.user_id))})]}),a.jsxs("div",{className:"agent-table-container",children:[a.jsx("h3",{children:"All Agents Performance Metrics"}),a.jsxs("table",{className:"agent-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Rank"}),a.jsx("th",{children:"Agent"}),a.jsx("th",{children:"Role"}),a.jsx("th",{children:"Department"}),a.jsx("th",{children:"Assigned"}),a.jsx("th",{children:"Open"}),a.jsx("th",{children:"Resolved"}),a.jsx("th",{children:"Resolution Rate"}),a.jsx("th",{children:"Avg Time"}),a.jsx("th",{children:"First Response SLA"}),a.jsx("th",{children:"Resolution SLA"}),a.jsx("th",{children:"CSAT"}),a.jsx("th",{children:"Ratings"}),a.jsx("th",{children:"Performance"})]})}),a.jsx("tbody",{children:t.map(r=>a.jsxs("tr",{children:[a.jsx("td",{className:"rank-cell",children:r.rank<=3?a.jsx("span",{className:"rank-medal",children:r.rank===1?"":r.rank===2?"":""}):a.jsxs("span",{className:"rank-number",children:["#",r.rank]})}),a.jsx("td",{className:"agent-name-cell",children:a.jsx("strong",{children:r.agent_name})}),a.jsx("td",{children:r.role_name}),a.jsx("td",{children:r.department_name}),a.jsx("td",{children:r.total_assigned}),a.jsx("td",{className:r.currently_open>10?"text-warning":"",children:r.currently_open}),a.jsx("td",{className:"text-success",children:a.jsx("strong",{children:r.tickets_resolved})}),a.jsx("td",{children:a.jsxs("div",{className:"progress-bar",children:[a.jsx("div",{className:"progress-fill",style:{width:`${r.resolution_rate}%`,backgroundColor:r.resolution_rate>=80?"#10b981":"#f59e0b"}}),a.jsxs("span",{className:"progress-label",children:[r.resolution_rate,"%"]})]})}),a.jsxs("td",{children:[r.avg_resolution_hours,"h"]}),a.jsxs("td",{className:r.first_response_sla_percent>=90?"text-success":"text-warning",children:[r.first_response_sla_percent,"%"]}),a.jsxs("td",{className:r.resolution_sla_percent>=90?"text-success":"text-warning",children:[r.resolution_sla_percent,"%"]}),a.jsx("td",{children:a.jsx("span",{className:"csat-value",children:r.avg_csat>0?`${r.avg_csat}`:"N/A"})}),a.jsx("td",{children:r.rating_count}),a.jsx("td",{children:r.overall_score>=80?a.jsx("span",{className:"status-badge success",children:" Excellent"}):r.overall_score>=60?a.jsx("span",{className:"status-badge success",children:" Good"}):r.overall_score>=40?a.jsx("span",{className:"status-badge warning",children:" Average"}):a.jsx("span",{className:"status-badge danger",children:" Needs Improvement"})})]},r.user_id))})]})]})]})},bJ=[{id:"overview",label:"Overview",icon:YP},{id:"sla",label:"SLA Performance",icon:Oy},{id:"csat",label:"Satisfaction",icon:Yl},{id:"escalations",label:"Escalations",icon:Md},{id:"aging",label:"Ticket Aging",icon:Ee},{id:"patterns",label:"Time Patterns",icon:Ss},{id:"agents",label:"Agents",icon:fr}],jJ=[{value:"7",label:"7D"},{value:"14",label:"14D"},{value:"30",label:"30D"},{value:"60",label:"60D"},{value:"90",label:"90D"}],wJ=[{value:1,label:"1 min"},{value:5,label:"5 min"},{value:10,label:"10 min"},{value:15,label:"15 min"}],Nf=e=>e.toISOString().slice(0,10),NJ=(e,t)=>{if(t.start&&t.end)return{start:t.start,end:t.end};const r=Number(e);if(Number.isNaN(r)||r<=0)return null;const n=new Date,s=new Date;return s.setDate(n.getDate()-r),{start:Nf(s),end:Nf(n)}},_J=e=>{if(!e)return null;const t=new Date(`${e.start}T00:00:00`),r=new Date(`${e.end}T00:00:00`),n=864e5,s=Math.max(1,Math.round((r-t)/n))+1,i=new Date(t.getTime()-n),o=new Date(i.getTime()-(s-1)*n);return{start:Nf(o),end:Nf(i)}},d2=e=>e?`start_date=${e.start}&end_date=${e.end}`:"",kJ=e=>{const t=Math.floor(e/60),r=e%60;return t>0?`${t}m ${r}s`:`${r}s`},SJ=e=>{if(!(e!=null&&e.length))return"";const t=[...new Set(e.flatMap(Object.keys))],r=n=>{if(n==null)return"";const s=String(n).replace(/"/g,'""');return/[",\n]/.test(s)?`"${s}"`:s};return[t.join(","),...e.map(n=>t.map(s=>r(n[s])).join(","))].join(`
`)},EJ=(e,t)=>{const r=SJ(t);if(!r)return;const n=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download=e,s.click(),URL.revokeObjectURL(s.href)},CJ=()=>{sr();const[e,t]=b.useState(!0),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("overview"),[c,d]=b.useState("30"),[u,f]=b.useState({start:"",end:""}),[h,p]=b.useState(!1),[m,v]=b.useState(!1),[g,y]=b.useState({}),[x,w]=b.useState(!1),[j,N]=b.useState(5),[S,_]=b.useState(null),[k,P]=b.useState(0),[E,C]=b.useState(null),[A,D]=b.useState(null),[M,O]=b.useState(null),[z,$]=b.useState(null),[q,R]=b.useState(null),[L,T]=b.useState(null),[I,U]=b.useState(null),K=b.useRef(null),H=b.useCallback(async(V=!1)=>{var W,Y;try{V?n(!0):t(!0),i("");const ie=NJ(c,u),ee=d2(ie),ue=ee?`?${ee}`:"",re=m?_J(ie):null,de=d2(re),ve=de?`?${de}`:"";switch(o){case"overview":{const me=await oe.get(`/analytics/dashboard${ue}`);if(me.data.success&&C(me.data.data),ve){const Z=await oe.get(`/analytics/dashboard${ve}`);Z.data.success&&y(J=>({...J,overview:Z.data.data}))}break}case"sla":{const me=await oe.get(`/analytics/sla-performance${ue}`);if(me.data.success&&D(me.data.data),ve){const Z=await oe.get(`/analytics/sla-performance${ve}`);Z.data.success&&y(J=>({...J,sla:Z.data.data}))}break}case"csat":{const me=await oe.get(`/analytics/csat${ue}`);if(me.data.success&&O(me.data.data),ve){const Z=await oe.get(`/analytics/csat${ve}`);Z.data.success&&y(J=>({...J,csat:Z.data.data}))}break}case"escalations":{const me=await oe.get(`/analytics/escalations${ue}`);if(me.data.success&&$(me.data.data),ve){const Z=await oe.get(`/analytics/escalations${ve}`);Z.data.success&&y(J=>({...J,escalations:Z.data.data}))}break}case"aging":{const me=await oe.get(`/analytics/aging${ue}`);me.data.success&&R(me.data.data);break}case"patterns":{const me=await oe.get(`/analytics/time-patterns?days=${c}`);me.data.success&&T(me.data.data);break}case"agents":{const me=ee?`?${ee}&limit=20`:"?limit=20",Z=await oe.get(`/analytics/agent-performance${me}`);if(Z.data.success&&U(Z.data.data),ve){const J=de?`?${de}&limit=20`:"?limit=20",pe=await oe.get(`/analytics/agent-performance${J}`);pe.data.success&&y(X=>({...X,agents:pe.data.data}))}break}default:break}_(new Date)}catch(ie){console.error("Analytics fetch error:",ie),i(((Y=(W=ie.response)==null?void 0:W.data)==null?void 0:Y.message)||"Failed to fetch analytics data")}finally{t(!1),n(!1)}},[o,c,u,m]);b.useEffect(()=>{K.current=H},[H]),b.useEffect(()=>{H()},[H]),b.useEffect(()=>{m||y({})},[m]),b.useEffect(()=>{if(!x){P(0);return}const V=Math.max(1,j)*60;P(V);const W=setInterval(()=>{P(Y=>{var ie;return Y<=1?((ie=K.current)==null||ie.call(K,!0),V):Y-1})},1e3);return()=>clearInterval(W)},[x,j]);const B=()=>{p(!0);let V=[],W=`${o}.csv`;switch(o){case"overview":E&&(V=Object.entries(E).map(([Y,ie])=>({metric:Y,value:ie})),W="overview.csv");break;case"sla":V=A||[],W="sla-performance.csv";break;case"csat":M&&(V=[...M.overall?[{section:"overall",metric:"avg_rating",value:M.overall.avg_rating},{section:"overall",metric:"total_ratings",value:M.overall.total_ratings},{section:"overall",metric:"satisfaction_score",value:M.overall.satisfaction_score}]:[],...(M.distribution||[]).map(Y=>({section:"distribution",rating:Y.rating,count:Y.count})),...(M.by_department||[]).map(Y=>({section:"by_dept",dept:Y.department_name,rating:Y.avg_rating,count:Y.rating_count})),...(M.by_category||[]).map(Y=>({section:"by_cat",cat:Y.category_name,rating:Y.avg_rating,count:Y.rating_count}))],W="csat.csv");break;case"escalations":z&&(V=[...z.overview?[{section:"overview",metric:"total",value:z.overview.total_escalations},{section:"overview",metric:"open",value:z.overview.open_escalations}]:[],...(z.by_priority||[]).map(Y=>({section:"by_priority",priority:Y.priority_name,count:Y.escalation_count})),...(z.by_department||[]).map(Y=>({section:"by_dept",dept:Y.department_name,count:Y.escalation_count})),...(z.reasons||[]).map(Y=>({section:"reasons",reason:Y.reason,count:Y.count}))],W="escalations.csv");break;case"aging":q&&(V=[...(q.age_distribution||[]).map(Y=>({section:"distribution",bucket:Y.age_bucket,count:Y.count})),...(q.oldest_tickets||[]).map(Y=>({section:"oldest",ticket:Y.ticket_number,subject:Y.subject,age_days:Y.age_days})),...(q.avg_by_priority||[]).map(Y=>({section:"avg_age",priority:Y.priority_name,hours:Y.avg_age_hours,count:Y.ticket_count}))],W="aging.csv");break;case"patterns":L&&(V=[...(L.hourly_distribution||[]).map(Y=>({section:"hourly",hour:Y.hour,count:Y.ticket_count})),...(L.daily_distribution||[]).map(Y=>({section:"daily",day:Y.day_name,count:Y.ticket_count}))],W="time-patterns.csv");break;case"agents":V=I||[],W="agents.csv";break}EJ(W,V),p(!1)},F=()=>{switch(o){case"overview":return a.jsx(hJ,{data:E,compareData:g.overview});case"sla":return a.jsx(pJ,{data:A,compareData:g.sla});case"csat":return a.jsx(mJ,{data:M,compareData:g.csat});case"escalations":return a.jsx(vJ,{data:z,compareData:g.escalations});case"aging":return a.jsx(gJ,{data:q,compareData:g.aging});case"patterns":return a.jsx(yJ,{data:L});case"agents":return a.jsx(xJ,{data:I,compareData:g.agents});default:return null}};return e&&!E&&!A?a.jsx("div",{className:"ae-page",children:a.jsxs("div",{className:"ae-loader",children:[a.jsx(Ie,{className:"ae-spin",size:36}),a.jsx("p",{children:"Loading analytics"})]})}):s&&!E&&!A?a.jsx("div",{className:"ae-page",children:a.jsxs("div",{className:"ae-error",children:[a.jsx(Te,{size:36}),a.jsx("h2",{children:"Something went wrong"}),a.jsx("p",{children:s}),a.jsx("button",{className:"ae-btn ae-btn-primary",onClick:()=>H(),children:"Retry"})]})}):a.jsxs("div",{className:"ae-page",children:[a.jsxs("header",{className:"ae-header",children:[a.jsxs("div",{className:"ae-header-left",children:[a.jsx("div",{className:"ae-header-icon",children:a.jsx(La,{size:22})}),a.jsxs("div",{children:[a.jsx("h1",{children:"Analytics & Insights"}),a.jsx("p",{children:"Performance metrics  SLA  CSAT  Trends"})]})]}),a.jsxs("div",{className:"ae-header-actions",children:[S&&a.jsxs("span",{className:"ae-meta",children:["Updated ",S.toLocaleTimeString()]}),a.jsx("button",{className:"ae-btn ae-btn-ghost",onClick:()=>H(!0),disabled:r,title:"Refresh",children:a.jsx(ut,{size:16,className:r?"ae-spin":""})}),a.jsxs("button",{className:"ae-btn ae-btn-primary",onClick:B,disabled:h,children:[a.jsx(xo,{size:16}),h?"Exporting":"Export CSV"]})]})]}),a.jsxs("div",{className:"ae-toolbar",children:[a.jsxs("div",{className:"ae-tool-left",children:[a.jsx(vn,{size:14,className:"ae-tool-ico"}),jJ.map(V=>a.jsx("button",{className:`ae-pill ${c===V.value&&!u.start?"active":""}`,onClick:()=>{d(V.value),f({start:"",end:""})},children:V.label},V.value)),a.jsx("span",{className:"ae-sep"}),a.jsx("input",{type:"date",className:"ae-date",value:u.start,onChange:V=>f(W=>({...W,start:V.target.value}))}),a.jsx("span",{className:"ae-to",children:""}),a.jsx("input",{type:"date",className:"ae-date",value:u.end,onChange:V=>f(W=>({...W,end:V.target.value}))}),(u.start||u.end)&&a.jsx("button",{className:"ae-pill",onClick:()=>f({start:"",end:""}),children:"Clear"})]}),a.jsxs("div",{className:"ae-tool-right",children:[a.jsxs("button",{className:`ae-toggle ${m?"on":""}`,onClick:()=>v(V=>!V),title:"Compare with previous period",children:[a.jsx(O6,{size:14}),a.jsx("span",{children:"Compare"})]}),a.jsx("span",{className:"ae-sep"}),a.jsxs("button",{className:`ae-toggle ${x?"on":""}`,onClick:()=>w(V=>!V),title:"Auto-refresh",children:[a.jsx(ut,{size:14}),a.jsx("span",{children:"Auto"})]}),x&&a.jsxs(a.Fragment,{children:[a.jsx("select",{className:"ae-mini-select",value:j,onChange:V=>N(Number(V.target.value)),children:wJ.map(V=>a.jsx("option",{value:V.value,children:V.label},V.value))}),a.jsx("span",{className:"ae-countdown",children:kJ(k)})]})]})]}),a.jsxs("nav",{className:"ae-tabs",role:"tablist",children:[bJ.map(V=>{const W=V.icon;return a.jsxs("button",{role:"tab","aria-selected":o===V.id,className:`ae-tab ${o===V.id?"active":""}`,onClick:()=>l(V.id),children:[a.jsx(W,{size:16}),a.jsx("span",{children:V.label})]},V.id)}),r&&a.jsxs("span",{className:"ae-tab-badge",children:[a.jsx(Ie,{size:12,className:"ae-spin"})," Syncing"]})]}),a.jsx("section",{className:"ae-content",children:F()})]})},f2={TICKET_CREATED:{icon:Pt,color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)",label:"New Ticket"},TICKET_ASSIGNED:{icon:X6,color:"#8b5cf6",bgColor:"rgba(139, 92, 246, 0.1)",label:"Assigned"},TICKET_UPDATED:{icon:ut,color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.1)",label:"Updated"},TICKET_COMMENTED:{icon:Yn,color:"#10b981",bgColor:"rgba(16, 185, 129, 0.1)",label:"Comment"},TICKET_RESOLVED:{icon:Ce,color:"#22c55e",bgColor:"rgba(34, 197, 94, 0.1)",label:"Resolved"},TICKET_CLOSED:{icon:Rr,color:"#64748b",bgColor:"rgba(100, 116, 139, 0.1)",label:"Closed"},TICKET_ESCALATED:{icon:Ev,color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)",label:"Escalated"},SLA_WARNING:{icon:Te,color:"#f59e0b",bgColor:"rgba(245, 158, 11, 0.1)",label:"SLA Warning"},SLA_BREACH:{icon:Se,color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)",label:"SLA Breach"},DEFAULT:{icon:gr,color:"#6366f1",bgColor:"rgba(99, 102, 241, 0.1)",label:"Notification"}},sd=b.memo(({icon:e,label:t,value:r,color:n,bgColor:s,onClick:i,isActive:o})=>a.jsxs("button",{type:"button",className:`notif-stats-card ${o?"active":""}`,onClick:i,style:{"--card-color":n,"--card-bg":s},children:[a.jsx("div",{className:"notif-stats-icon",children:a.jsx(e,{size:20})}),a.jsxs("div",{className:"notif-stats-info",children:[a.jsx("span",{className:"notif-stats-value",children:r}),a.jsx("span",{className:"notif-stats-label",children:t})]})]}));sd.displayName="StatsCard";const O5=b.memo(({notification:e,isSelected:t,onSelect:r,onClick:n,onMarkRead:s,onDelete:i,canDelete:o,formatTime:l})=>{const c=f2[e.notification_type]||f2.DEFAULT,d=c.icon;return a.jsxs("div",{className:`notif-item ${e.is_read?"":"unread"} ${t?"selected":""}`,onClick:()=>n(e),role:"button",tabIndex:0,"aria-label":`${e.title} - ${e.is_read?"Read":"Unread"}`,onKeyDown:u=>u.key==="Enter"&&n(e),children:[a.jsx("div",{className:"notif-item-checkbox",children:a.jsx("input",{type:"checkbox",checked:t,onChange:u=>{u.stopPropagation(),r(e.notification_id)},onClick:u=>u.stopPropagation(),"aria-label":`Select notification: ${e.title}`})}),a.jsx("div",{className:"notif-item-icon",style:{backgroundColor:c.bgColor,color:c.color},children:a.jsx(d,{size:20})}),a.jsxs("div",{className:"notif-item-content",children:[a.jsxs("div",{className:"notif-item-header",children:[a.jsx("h4",{className:"notif-item-title",children:e.title}),a.jsxs("div",{className:"notif-item-meta",children:[a.jsx("span",{className:"notif-item-type-badge",style:{backgroundColor:c.bgColor,color:c.color},children:c.label}),a.jsxs("span",{className:"notif-item-time",children:[a.jsx(Ee,{size:12}),l(e.created_at)]})]})]}),a.jsx("p",{className:"notif-item-message",children:e.message}),e.ticket_number&&a.jsxs("div",{className:"notif-item-ticket",children:[a.jsx(Pt,{size:14}),a.jsx("span",{children:e.ticket_number})]})]}),a.jsxs("div",{className:"notif-item-actions",children:[!e.is_read&&a.jsx("button",{type:"button",className:"notif-action-btn mark-read",onClick:u=>{u.stopPropagation(),s(e.notification_id)},title:"Mark as read","aria-label":"Mark as read",children:a.jsx(_t,{size:16})}),o&&a.jsx("button",{type:"button",className:"notif-action-btn delete",onClick:u=>{u.stopPropagation(),i(e.notification_id)},title:"Delete notification","aria-label":"Delete notification",children:a.jsx(jr,{size:16})})]}),!e.is_read&&a.jsx("div",{className:"notif-unread-dot","aria-hidden":"true"})]})});O5.displayName="NotificationItem";const T5=b.memo(({filter:e,searchQuery:t})=>a.jsxs("div",{className:"notif-empty-state",children:[a.jsx("div",{className:"notif-empty-icon",children:e==="unread"?a.jsx(rA,{size:64}):a.jsx(tA,{size:64})}),a.jsx("h3",{className:"notif-empty-title",children:t?"No matching notifications":e==="unread"?"All caught up!":"No notifications yet"}),a.jsx("p",{className:"notif-empty-message",children:t?"Try adjusting your search terms":e==="unread"?"You have no unread notifications":"Notifications will appear here when you receive them"})]}));T5.displayName="EmptyState";const M5=b.memo(()=>a.jsxs("div",{className:"notif-loading-state",children:[a.jsx("div",{className:"notif-loading-spinner",children:a.jsx(ut,{size:32,className:"spinning"})}),a.jsx("p",{children:"Loading notifications..."})]}));M5.displayName="LoadingState";const PJ=()=>{const e=jt(),{user:t}=sr(),{showToast:r}=Nn(),{notifications:n,unreadCount:s,loading:i,fetchNotifications:o,markAsRead:l,markAllAsRead:c,deleteNotification:d,clearReadNotifications:u}=BP(),[f,h]=b.useState("all"),[p,m]=b.useState(""),[v,g]=b.useState(1),[y,x]=b.useState(1),[w,j]=b.useState(0),[N,S]=b.useState([]),[_,k]=b.useState(!1),P=20,E=b.useMemo(()=>{var F;return(t==null?void 0:t.role_name)==="Admin"||((F=t==null?void 0:t.permissions)==null?void 0:F.can_manage_system)},[t]),C=b.useCallback(async()=>{try{const V=await o(v,P,f==="unread");V&&V.pagination&&(x(V.pagination.total_pages||1),j(V.pagination.total_records||0))}catch(F){console.error("Failed to load notifications:",F),r("Failed to load notifications","error")}},[v,f,o,r]);b.useEffect(()=>{C()},[C]);const A=b.useCallback(async()=>{k(!0),await C(),r("Notifications refreshed","success"),setTimeout(()=>k(!1),500)},[C,r]),D=b.useCallback(F=>{h(F),g(1),S([]),r(`Showing ${F} notifications`,"info")},[r]),M=b.useMemo(()=>n.filter(F=>{var V,W,Y;if(p){const ie=p.toLowerCase(),ee=(V=F.title)==null?void 0:V.toLowerCase().includes(ie),ue=(W=F.message)==null?void 0:W.toLowerCase().includes(ie),re=(Y=F.ticket_number)==null?void 0:Y.toLowerCase().includes(ie);if(!ee&&!ue&&!re)return!1}return!(f==="read"&&!F.is_read)}),[n,p,f]),O=b.useCallback(async F=>{F.is_read||await l(F.notification_id),F.related_ticket_id&&(r("Opening ticket...","info"),e(`/tickets/${F.related_ticket_id}`))},[l,e,r]),z=b.useCallback(async F=>{try{await l(F),r("Marked as read","success")}catch{r("Failed to mark as read","error")}},[l,r]),$=b.useCallback(async F=>{try{await d(F),r("Notification deleted","success"),M.length===1&&v>1?g(v-1):await C()}catch{r("Failed to delete notification","error")}},[d,M.length,v,C,r]),q=b.useCallback(async()=>{try{await c(),r(`${s} notifications marked as read`,"success"),await C()}catch{r("Failed to mark all as read","error")}},[c,s,C,r]),R=b.useCallback(async()=>{try{await u(),r("Read notifications cleared","success"),g(1),await C()}catch{r("Failed to clear notifications","error")}},[u,C,r]),L=b.useCallback(F=>{S(V=>V.includes(F)?V.filter(W=>W!==F):[...V,F])},[]),T=b.useCallback(()=>{N.length===M.length?S([]):S(M.map(F=>F.notification_id))},[N.length,M]),I=b.useCallback(async()=>{if(N.length!==0)try{for(const F of N)await d(F);r(`${N.length} notifications deleted`,"success"),S([]),await C()}catch{r("Failed to delete notifications","error")}},[N,d,C,r]),U=b.useCallback(async()=>{if(N.length!==0)try{for(const F of N)await l(F);r(`${N.length} notifications marked as read`,"success"),S([])}catch{r("Failed to mark notifications as read","error")}},[N,l,r]),K=b.useCallback(F=>{const V=new Date(F),W=new Date,Y=Math.floor((W-V)/1e3);return Y<60?"Just now":Y<3600?`${Math.floor(Y/60)}m ago`:Y<86400?`${Math.floor(Y/3600)}h ago`:Y<604800?`${Math.floor(Y/86400)}d ago`:V.toLocaleDateString("en-US",{month:"short",day:"numeric",year:V.getFullYear()!==W.getFullYear()?"numeric":void 0})},[]),H=b.useCallback(()=>{v>1&&(g(v-1),S([]))},[v]),B=b.useCallback(()=>{v<y&&(g(v+1),S([]))},[v,y]);return a.jsxs("div",{className:"notif-page",children:[a.jsxs("header",{className:"notif-header",children:[a.jsxs("div",{className:"notif-header-content",children:[a.jsxs("div",{className:"notif-header-icon",children:[a.jsx(gr,{size:28}),s>0&&a.jsx("span",{className:"notif-header-badge",children:s>99?"99+":s})]}),a.jsxs("div",{className:"notif-header-text",children:[a.jsx("h1",{className:"notif-title",children:"Notifications"}),a.jsx("p",{className:"notif-subtitle",children:s>0?`You have ${s} unread notification${s!==1?"s":""}`:"All notifications are read"})]})]}),a.jsxs("div",{className:"notif-header-actions",children:[a.jsxs("button",{type:"button",className:"notif-btn secondary",onClick:A,disabled:_,"aria-label":"Refresh notifications",children:[a.jsx(ut,{size:18,className:_?"spinning":""}),a.jsx("span",{children:"Refresh"})]}),s>0&&a.jsxs("button",{type:"button",className:"notif-btn primary",onClick:q,"aria-label":"Mark all as read",children:[a.jsx(XP,{size:18}),a.jsx("span",{children:"Mark All Read"})]})]})]}),a.jsxs("div",{className:"notif-stats-grid",children:[a.jsx(sd,{icon:tA,label:"All",value:w,color:"#6366f1",bgColor:"rgba(99, 102, 241, 0.1)",onClick:()=>D("all"),isActive:f==="all"}),a.jsx(sd,{icon:Qe,label:"Unread",value:s,color:"#3b82f6",bgColor:"rgba(59, 130, 246, 0.1)",onClick:()=>D("unread"),isActive:f==="unread"}),a.jsx(sd,{icon:rA,label:"Read",value:w-s,color:"#22c55e",bgColor:"rgba(34, 197, 94, 0.1)",onClick:()=>D("read"),isActive:f==="read"})]}),a.jsxs("div",{className:"notif-toolbar",children:[a.jsxs("div",{className:"notif-toolbar-left",children:[a.jsxs("div",{className:"notif-search",children:[a.jsx(aa,{size:18,className:"notif-search-icon"}),a.jsx("input",{type:"text",placeholder:"Search notifications...",value:p,onChange:F=>m(F.target.value),className:"notif-search-input","aria-label":"Search notifications"}),p&&a.jsx("button",{type:"button",className:"notif-search-clear",onClick:()=>m(""),"aria-label":"Clear search",children:a.jsx(Rr,{size:16})})]}),N.length>0&&a.jsxs("div",{className:"notif-bulk-actions",children:[a.jsxs("span",{className:"notif-bulk-count",children:[N.length," selected"]}),a.jsx("button",{type:"button",className:"notif-bulk-btn read",onClick:U,title:"Mark selected as read",children:a.jsx(_t,{size:16})}),E&&a.jsx("button",{type:"button",className:"notif-bulk-btn delete",onClick:I,title:"Delete selected",children:a.jsx(jr,{size:16})})]})]}),a.jsx("div",{className:"notif-toolbar-right",children:E&&a.jsxs("button",{type:"button",className:"notif-btn danger-outline",onClick:R,disabled:w-s===0,children:[a.jsx(x6,{size:16}),a.jsx("span",{children:"Clear Read"})]})})]}),M.length>0&&a.jsx("div",{className:"notif-select-all",children:a.jsxs("label",{className:"notif-checkbox-label",children:[a.jsx("input",{type:"checkbox",checked:N.length===M.length&&M.length>0,onChange:T}),a.jsxs("span",{children:["Select all ",M.length," notification",M.length!==1?"s":""]})]})}),a.jsx("div",{className:"notif-container",children:i&&M.length===0?a.jsx(M5,{}):M.length===0?a.jsx(T5,{filter:f,searchQuery:p}):a.jsx("div",{className:"notif-list",children:M.map(F=>a.jsx(O5,{notification:F,isSelected:N.includes(F.notification_id),onSelect:L,onClick:O,onMarkRead:z,onDelete:$,canDelete:E,formatTime:K},F.notification_id))})}),y>1&&a.jsxs("div",{className:"notif-pagination",children:[a.jsxs("button",{type:"button",className:"notif-page-btn",disabled:v===1,onClick:H,"aria-label":"Previous page",children:[a.jsx(Ay,{size:18}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"notif-page-info",children:[a.jsx("span",{className:"notif-page-current",children:v}),a.jsx("span",{className:"notif-page-separator",children:"of"}),a.jsx("span",{className:"notif-page-total",children:y})]}),a.jsxs("button",{type:"button",className:"notif-page-btn",disabled:v===y,onClick:B,"aria-label":"Next page",children:[a.jsx("span",{children:"Next"}),a.jsx(Br,{size:18})]})]})]})},AJ=()=>{const[e,t]=b.useState(null),[r,n]=b.useState(!0),s=jt();b.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await oe.get("/password-expiry/status");d.data.success&&t(d.data.data),n(!1)}catch(d){console.error(" Failed to fetch password expiry status:",d),n(!1)}},o=d=>{if(!d)return"N/A";try{return new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}},l=()=>e?e.expiryDisabled?{icon:a.jsx(Ce,{size:24}),iconClass:"pwd-expiry-icon-success",title:"Password Policy",subtitle:"Password expiry is disabled",statusClass:"pwd-expiry-status-success",statusText:"No Expiry",showDetails:!1}:e.expired?{icon:a.jsx(rh,{size:24}),iconClass:"pwd-expiry-icon-danger",title:"Password Expired",subtitle:"Your password has expired",statusClass:"pwd-expiry-status-danger",statusText:"Expired",showDetails:!0,urgent:!0}:e.daysRemaining<=7?{icon:a.jsx(Te,{size:24}),iconClass:"pwd-expiry-icon-danger",title:"Password Expiring Soon",subtitle:`Expires in ${e.daysRemaining} days`,statusClass:"pwd-expiry-status-danger",statusText:`${e.daysRemaining} days left`,showDetails:!0,urgent:!0}:e.daysRemaining<=14?{icon:a.jsx(Ee,{size:24}),iconClass:"pwd-expiry-icon-warning",title:"Password Status",subtitle:`Expires in ${e.daysRemaining} days`,statusClass:"pwd-expiry-status-warning",statusText:`${e.daysRemaining} days left`,showDetails:!0,urgent:!1}:{icon:a.jsx(Ce,{size:24}),iconClass:"pwd-expiry-icon-success",title:"Password Status",subtitle:"Your password is secure",statusClass:"pwd-expiry-status-success",statusText:`${e.daysRemaining} days left`,showDetails:!0,urgent:!1}:null;if(r)return a.jsxs("div",{className:"profile-card",children:[a.jsx("h3",{children:"Password Status"}),a.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:a.jsx(Ie,{className:"spinner",size:32})})]});if(!e)return null;const c=l();return c?a.jsxs("div",{className:"profile-card",children:[a.jsx("h3",{children:"Password Status"}),a.jsxs("div",{className:"pwd-expiry-card-content",children:[a.jsxs("div",{className:"pwd-expiry-header",children:[a.jsx("div",{className:`pwd-expiry-icon ${c.iconClass}`,children:c.icon}),a.jsxs("div",{className:"pwd-expiry-title",children:[a.jsx("h4",{children:c.title}),a.jsx("p",{children:c.subtitle})]}),a.jsx("div",{className:`pwd-expiry-badge ${c.statusClass}`,children:c.statusText})]}),c.showDetails&&!e.expiryDisabled&&a.jsxs("div",{className:"pwd-expiry-details-grid",children:[a.jsxs("div",{className:"pwd-expiry-detail",children:[a.jsx("span",{className:"pwd-expiry-detail-label",children:"Last Changed"}),a.jsx("span",{className:"pwd-expiry-detail-value",children:o(e.passwordLastChanged)})]}),a.jsxs("div",{className:"pwd-expiry-detail",children:[a.jsx("span",{className:"pwd-expiry-detail-label",children:"Expires On"}),a.jsx("span",{className:"pwd-expiry-detail-value",children:o(e.passwordExpiresAt)})]}),a.jsxs("div",{className:"pwd-expiry-detail",children:[a.jsx("span",{className:"pwd-expiry-detail-label",children:"Policy Period"}),a.jsxs("span",{className:"pwd-expiry-detail-value",children:[e.expiryPolicy," days"]})]}),a.jsxs("div",{className:"pwd-expiry-detail",children:[a.jsx("span",{className:"pwd-expiry-detail-label",children:"Warning Threshold"}),a.jsxs("span",{className:"pwd-expiry-detail-value",children:[e.warningThreshold," days"]})]})]}),!e.expiryDisabled&&a.jsxs("button",{className:`pwd-expiry-change-btn ${c.urgent?"pwd-expiry-btn-urgent":""}`,onClick:()=>s("/profile/change-password"),children:["Change Password ",c.urgent&&"Now"]})]})]}):null},OJ=()=>{const{user:e,refreshUser:t}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,f]=b.useState(null),[h,p]=b.useState({first_name:"",last_name:"",email:"",phone_number:"",role_name:"",role_code:"",department_name:"",created_at:null,last_login:null}),[m,v]=b.useState(null);b.useEffect(()=>{g()},[]);const g=async()=>{var _,k;try{n(!0);const P=await oe.get("/profile");if(P.data.success){const E=P.data.data;p({first_name:E.first_name||"",last_name:E.last_name||"",email:E.email||"",phone_number:E.phone_number||"",role_name:E.role_name||"User",role_code:E.role_code||"USER",department_name:E.department_name||null,created_at:E.created_at||null,last_login:E.last_login||null}),E.profile_picture?v(E.profile_picture):v(null)}}catch(P){d(((k=(_=P.response)==null?void 0:_.data)==null?void 0:k.message)||"Failed to fetch profile")}finally{n(!1)}},y=_=>{const{name:k,value:P}=_.target;p(E=>({...E,[k]:P}))},x=async _=>{var k,P;_.preventDefault(),d(null),f(null);try{n(!0),(await oe.put("/profile",{first_name:h.first_name,last_name:h.last_name,email:h.email,phone_number:h.phone_number})).data.success&&(f("Profile updated successfully!"),i(!1),await t(),await g(),setTimeout(()=>f(null),3e3))}catch(E){d(((P=(k=E.response)==null?void 0:k.data)==null?void 0:P.message)||"Failed to update profile")}finally{n(!1)}},w=async _=>{var E,C;const k=_.target.files[0];if(!k)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(k.type)){d("Please upload a valid image file (JPG, PNG, GIF, WEBP)");return}if(k.size>5*1024*1024){d("File size must be less than 5MB");return}d(null),f(null);try{l(!0);const A=new FormData;A.append("profile_picture",k);const D=await oe.post("/profile/picture",A,{headers:{"Content-Type":"multipart/form-data"}});if(D.data.success){const M=D.data.data.profile_picture;v(M),f("Profile picture updated successfully!"),await t(),setTimeout(async()=>{await g(),f(null)},1e3)}}catch(A){d(((C=(E=A.response)==null?void 0:E.data)==null?void 0:C.message)||"Failed to upload profile picture")}finally{l(!1)}},j=async()=>{var _,k;if(window.confirm("Are you sure you want to delete your profile picture?")){d(null),f(null);try{l(!0),(await oe.delete("/profile/picture")).data.success&&(v(null),f("Profile picture deleted successfully!"),await t(),setTimeout(()=>f(null),3e3))}catch(P){d(((k=(_=P.response)==null?void 0:_.data)==null?void 0:k.message)||"Failed to delete profile picture")}finally{l(!1)}}},N=()=>{i(!1),g(),d(null)},S=_=>{if(!_)return"N/A";try{return new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}};return r&&!h.email?a.jsx("div",{className:"profile-page",children:a.jsxs("div",{className:"loading-container",children:[a.jsx(Ie,{className:"spinner",size:48}),a.jsx("p",{children:"Loading profile..."})]})}):a.jsxs("div",{className:"profile-page",children:[a.jsx("h1",{children:"My Profile"}),c&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx("span",{children:c}),a.jsx("button",{onClick:()=>d(null),children:a.jsx(Oe,{size:16})})]}),u&&a.jsxs("div",{className:"alert alert-success",children:[a.jsx("span",{children:u}),a.jsx("button",{onClick:()=>f(null),children:a.jsx(Oe,{size:16})})]}),a.jsxs("div",{className:"profile-container",children:[a.jsxs("div",{className:"profile-picture-card profile-card",children:[a.jsx("h3",{children:"Profile Picture"}),a.jsxs("div",{className:"profile-picture-section",children:[a.jsxs("div",{style:{position:"relative",width:"200px",height:"200px"},children:[m&&a.jsx("img",{src:m,alt:"Profile",style:{width:"200px",height:"200px",borderRadius:"50%",objectFit:"cover",border:"4px solid #e5e7eb",display:"block",background:"white"},onLoad:()=>{},onError:_=>{}}),!m&&a.jsx("div",{style:{width:"200px",height:"200px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea, #764ba2)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",border:"4px solid #e5e7eb"},children:a.jsx(Ke,{size:64})}),a.jsx("label",{htmlFor:"profile-picture-input",style:{position:"absolute",bottom:"10px",right:"10px",width:"50px",height:"50px",borderRadius:"50%",background:"#667eea",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"3px solid white",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:o?a.jsx(Ie,{size:20}):a.jsx(N6,{size:20})}),a.jsx("input",{type:"file",id:"profile-picture-input",accept:"image/*",onChange:w,style:{display:"none"},disabled:o})]}),a.jsxs("div",{className:"profile-picture-actions",children:[a.jsx("p",{className:"profile-picture-hint",children:"JPG, PNG, GIF or WEBP. Max size 5MB"}),m&&a.jsx("button",{className:"btn-danger-outline btn-small",onClick:j,disabled:o,children:"Delete Picture"})]})]})]}),a.jsxs("div",{className:"profile-card",children:[a.jsxs("div",{className:"profile-card-header",children:[a.jsx("h3",{children:"Personal Information"}),!s&&a.jsxs("button",{className:"btn-secondary btn-small",onClick:()=>i(!0),children:[a.jsx(zs,{size:16}),"Edit"]})]}),a.jsxs("form",{onSubmit:x,className:"profile-form",children:[a.jsxs("div",{className:"form-row",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"First Name"}),a.jsx("input",{type:"text",name:"first_name",value:h.first_name,onChange:y,disabled:!s,required:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Last Name"}),a.jsx("input",{type:"text",name:"last_name",value:h.last_name,onChange:y,disabled:!s,required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Email Address"}),a.jsxs("div",{className:"input-with-icon",children:[a.jsx(Qe,{size:20}),a.jsx("input",{type:"email",name:"email",value:h.email,onChange:y,disabled:!s,required:!0})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Phone Number"}),a.jsxs("div",{className:"input-with-icon",children:[a.jsx(Io,{size:20}),a.jsx("input",{type:"tel",name:"phone_number",value:h.phone_number,onChange:y,disabled:!s})]})]}),s&&a.jsxs("div",{className:"form-actions",children:[a.jsxs("button",{type:"button",className:"btn-secondary",onClick:N,disabled:r,children:[a.jsx(Oe,{size:20}),"Cancel"]}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner-small",size:20}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:20}),"Save Changes"]})})]})]})]}),a.jsxs("div",{className:"profile-card",children:[a.jsx("h3",{children:"Account Information"}),a.jsxs("div",{className:"info-grid",children:[a.jsxs("div",{className:"info-item",children:[a.jsxs("div",{className:"info-label",children:[a.jsx(Ae,{size:18}),a.jsx("span",{children:"Role"})]}),a.jsx("div",{className:"info-value",children:a.jsx("span",{className:`role-badge role-${h.role_code.toLowerCase()}`,children:h.role_name})})]}),a.jsxs("div",{className:"info-item",children:[a.jsxs("div",{className:"info-label",children:[a.jsx(na,{size:18}),a.jsx("span",{children:"Department"})]}),a.jsx("div",{className:"info-value",children:h.department_name||"Not assigned"})]}),a.jsxs("div",{className:"info-item",children:[a.jsxs("div",{className:"info-label",children:[a.jsx(vn,{size:18}),a.jsx("span",{children:"Member Since"})]}),a.jsx("div",{className:"info-value",children:S(h.created_at)})]}),a.jsxs("div",{className:"info-item",children:[a.jsxs("div",{className:"info-label",children:[a.jsx(vn,{size:18}),a.jsx("span",{children:"Last Login"})]}),a.jsx("div",{className:"info-value",children:S(h.last_login)})]})]})]}),a.jsx(AJ,{})]})]})},TJ=()=>{const e=jt(),[t,r]=b.useState(!1),[n,s]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState({current_password:"",new_password:"",confirm_password:""}),[d,u]=b.useState({current:!1,new:!1,confirm:!1}),[f,h]=b.useState({score:0,feedback:[]}),[p,m]=b.useState(null),[v,g]=b.useState(!0);b.useEffect(()=>{(async()=>{try{g(!0);const k=await oe.get("/security/settings");if(k.data.success&&k.data.data){const P=k.data.data,E={minLength:parseInt(P.password_min_length)||8,requireUppercase:P.password_require_uppercase==="true"||P.password_require_uppercase===!0,requireLowercase:P.password_require_lowercase==="true"||P.password_require_lowercase===!0,requireNumber:P.password_require_number==="true"||P.password_require_number===!0,requireSpecial:P.password_require_special==="true"||P.password_require_special===!0,expiryDays:parseInt(P.password_expiry_days)||90,historyCount:parseInt(P.password_history_count)||5};m(E)}}catch{m({minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumber:!0,requireSpecial:!0,expiryDays:90,historyCount:5})}finally{g(!1)}})()},[]);const y=_=>{if(!p)return{score:0,feedback:[]};let k=0;const P=[];return _.length>=p.minLength?(k++,P.push(`At least ${p.minLength} characters`)):P.push(`Needs at least ${p.minLength} characters`),p.requireUppercase&&p.requireLowercase&&(/[a-z]/.test(_)&&/[A-Z]/.test(_)?(k++,P.push("Contains uppercase and lowercase")):P.push("Needs uppercase and lowercase letters")),p.requireNumber&&(/\d/.test(_)?(k++,P.push("Contains numbers")):P.push("Needs numbers")),p.requireSpecial&&(/[!@#$%^&*(),.?":{}|<>]/.test(_)?(k++,P.push("Contains special characters")):P.push("Needs special characters")),{score:k,feedback:P}},x=_=>{const{name:k,value:P}=_.target;c(E=>({...E,[k]:P})),k==="new_password"&&h(y(P)),n&&s(null)},w=_=>{u(k=>({...k,[_]:!k[_]}))},j=async _=>{var k,P;if(_.preventDefault(),s(null),o(!1),!p){s("Please wait, loading password requirements...");return}if(!l.current_password){s("Please enter your current password");return}if(!l.new_password){s("Please enter a new password");return}if(l.new_password.length<p.minLength){s(`Password must be at least ${p.minLength} characters long`);return}if(l.new_password!==l.confirm_password){s("New passwords do not match");return}if(l.current_password===l.new_password){s("New password must be different from current password");return}try{r(!0),(await oe.put("/profile/password",l)).data.success&&(o(!0),c({current_password:"",new_password:"",confirm_password:""}),setTimeout(()=>{e("/profile")},2e3))}catch(E){s(((P=(k=E.response)==null?void 0:k.data)==null?void 0:P.message)||"Failed to change password")}finally{r(!1)}},N=()=>{const{score:_}=f;return _===0?"#e5e7eb":_===1?"#ef4444":_===2?"#f59e0b":_===3?"#3b82f6":"#22c55e"},S=()=>{const{score:_}=f;return _===0?"":_===1?"Weak":_===2?"Fair":_===3?"Good":"Strong"};return v?a.jsxs("div",{className:"profile-page",children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"header-left",children:[a.jsx(Ge,{size:28,className:"page-icon"}),a.jsxs("div",{children:[a.jsx("h1",{className:"page-title",children:"Change Password"}),a.jsx("p",{className:"page-subtitle",children:"Loading password requirements..."})]})]})}),a.jsx("div",{className:"change-password-container",children:a.jsxs("div",{className:"profile-card",style:{textAlign:"center",padding:"3rem"},children:[a.jsx(Ie,{className:"spinner-small",size:32,style:{margin:"0 auto"}}),a.jsx("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"Loading password policy from database..."})]})})]}):a.jsxs("div",{className:"profile-page",children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"header-left",children:[a.jsx("button",{className:"btn-icon",onClick:()=>e("/profile"),children:a.jsx(In,{size:24})}),a.jsx(Ge,{size:28,className:"page-icon"}),a.jsxs("div",{children:[a.jsx("h1",{className:"page-title",children:"Change Password"}),a.jsx("p",{className:"page-subtitle",children:"Update your account password"})]})]})}),i&&a.jsxs("div",{className:"alert alert-success",children:[a.jsx(Sr,{size:20}),a.jsx("span",{children:"Password changed successfully! Redirecting..."})]}),n&&a.jsxs("div",{className:"alert alert-error",children:[a.jsx(Oe,{size:20}),a.jsx("span",{children:n}),a.jsx("button",{onClick:()=>s(null),children:a.jsx(Oe,{size:16})})]}),a.jsxs("div",{className:"change-password-container",children:[a.jsxs("div",{className:"profile-card",children:[a.jsx("h3",{children:"Update Your Password"}),a.jsxs("form",{onSubmit:j,className:"password-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"current_password",children:"Current Password"}),a.jsxs("div",{className:"password-input-wrapper",children:[a.jsx(Ge,{size:20,className:"input-icon"}),a.jsx("input",{type:d.current?"text":"password",id:"current_password",name:"current_password",value:l.current_password,onChange:x,placeholder:"Enter your current password",disabled:t,required:!0}),a.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w("current"),tabIndex:-1,children:d.current?a.jsx(ta,{size:20}):a.jsx(_t,{size:20})})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"new_password",children:"New Password"}),a.jsxs("div",{className:"password-input-wrapper",children:[a.jsx(Ge,{size:20,className:"input-icon"}),a.jsx("input",{type:d.new?"text":"password",id:"new_password",name:"new_password",value:l.new_password,onChange:x,placeholder:"Enter your new password",disabled:t,required:!0}),a.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w("new"),tabIndex:-1,children:d.new?a.jsx(ta,{size:20}):a.jsx(_t,{size:20})})]}),l.new_password&&a.jsxs("div",{className:"password-strength",children:[a.jsx("div",{className:"strength-bar",children:a.jsx("div",{className:"strength-bar-fill",style:{width:`${f.score/4*100}%`,backgroundColor:N()}})}),a.jsx("div",{className:"strength-label",style:{color:N()},children:S()})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"confirm_password",children:"Confirm New Password"}),a.jsxs("div",{className:"password-input-wrapper",children:[a.jsx(Ge,{size:20,className:"input-icon"}),a.jsx("input",{type:d.confirm?"text":"password",id:"confirm_password",name:"confirm_password",value:l.confirm_password,onChange:x,placeholder:"Confirm your new password",disabled:t,required:!0}),a.jsx("button",{type:"button",className:"password-toggle",onClick:()=>w("confirm"),tabIndex:-1,children:d.confirm?a.jsx(ta,{size:20}):a.jsx(_t,{size:20})})]}),l.confirm_password&&l.new_password!==l.confirm_password&&a.jsx("p",{className:"error-text",children:"Passwords do not match"})]}),a.jsxs("div",{className:"form-actions",children:[a.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>e("/profile"),disabled:t,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn-primary",disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"spinner-small",size:20}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ae,{size:20}),"Change Password"]})})]})]})]}),a.jsxs("div",{className:"profile-card",children:[a.jsx("h3",{children:"Password Requirements"}),p&&a.jsxs("div",{className:"password-requirements",children:[a.jsxs("div",{className:`requirement-item ${l.new_password.length>=p.minLength?"met":""}`,children:[l.new_password.length>=p.minLength?a.jsx(Sr,{size:18,className:"check-icon"}):a.jsx(Oe,{size:18,className:"x-icon"}),a.jsxs("span",{children:["At least ",p.minLength," characters long"]})]}),p.requireUppercase&&p.requireLowercase&&a.jsxs("div",{className:`requirement-item ${/[a-z]/.test(l.new_password)&&/[A-Z]/.test(l.new_password)?"met":""}`,children:[/[a-z]/.test(l.new_password)&&/[A-Z]/.test(l.new_password)?a.jsx(Sr,{size:18,className:"check-icon"}):a.jsx(Oe,{size:18,className:"x-icon"}),a.jsx("span",{children:"Contains uppercase and lowercase letters"})]}),p.requireNumber&&a.jsxs("div",{className:`requirement-item ${/\d/.test(l.new_password)?"met":""}`,children:[/\d/.test(l.new_password)?a.jsx(Sr,{size:18,className:"check-icon"}):a.jsx(Oe,{size:18,className:"x-icon"}),a.jsx("span",{children:"Contains at least one number"})]}),p.requireSpecial&&a.jsxs("div",{className:`requirement-item ${/[!@#$%^&*(),.?":{}|<>]/.test(l.new_password)?"met":""}`,children:[/[!@#$%^&*(),.?":{}|<>]/.test(l.new_password)?a.jsx(Sr,{size:18,className:"check-icon"}):a.jsx(Oe,{size:18,className:"x-icon"}),a.jsx("span",{children:"Contains special characters (!@#$%^&*)"})]}),a.jsx("div",{style:{borderTop:"1px solid #e5e7eb",margin:"1.5rem 0"}}),a.jsxs("div",{className:"requirement-item",style:{background:"#f0f9ff",border:"1px solid #bfdbfe"},children:[a.jsx(Sr,{size:18,style:{color:"#3b82f6"}}),a.jsxs("span",{style:{color:"#1e40af"},children:["Password expires after ",a.jsxs("strong",{children:[p.expiryDays," days"]})]})]}),a.jsxs("div",{className:"requirement-item",style:{background:"#f0f9ff",border:"1px solid #bfdbfe"},children:[a.jsx(Sr,{size:18,style:{color:"#3b82f6"}}),a.jsxs("span",{style:{color:"#1e40af"},children:["Cannot reuse last ",a.jsxs("strong",{children:[p.historyCount," passwords"]})]})]})]})]})]})]})},MJ=()=>{var Z,J,pe,X,ae,le,fe,Q,we,Ne,je,_e,Pe,Zt,ua,qn,Us,rl,nl,al,sl,il,ne,Me,Le,ft,Et,Ft,Tt,ht,nn,rs,ol,Di,ll,cl,Y0,X0,Z0,Q0,J0,eb,tb,rb,nb,ab,sb,ib,ob,lb,cb,ub,db,fb,hb,pb,mb,vb,gb,yb,xb,bb,jb,wb,Nb,_b,kb,Sb,Eb,Cb,Pb,Ab,Ob,Tb,Mb,Db,Rb,Lb,Ib,zb,$b,Fb,Bb,qb,Ub,Hb,Wb,Kb,Vb,Gb,Yb,Xb,Zb,Qb,Jb,e1,t1,r1,n1,a1,s1,i1,o1,l1,c1,u1,d1,f1,h1,p1,m1,v1,g1,y1,x1,b1,j1,w1,N1,_1,k1,S1,E1,C1,P1,A1,O1,T1,M1,D1,R1,L1,I1,z1,$1,F1,B1,q1,U1,H1,W1,K1,V1,G1,Y1,X1,Z1,Q1,J1,ej,tj,rj,nj,aj,sj,ij,oj,lj,cj,uj,dj,fj,hj,pj,mj,vj,gj,yj,xj,bj,jj,wj,Nj,_j,kj,Sj,Ej,Cj,Pj,Aj,Oj,Tj,Mj,Dj,Rj,Lj,Ij,zj,$j,Fj,Bj,qj,Uj,Hj,Wj,Kj,Vj,Gj,Yj,Xj,Zj,Qj,Jj,ew,tw,rw,nw,aw,sw,iw,ow,lw,cw,uw,dw,fw,hw,pw,mw,vw,gw,yw,xw,bw,jw,ww,Nw,_w,kw,Sw,Ew,Cw,Pw,Aw,Ow,Tw,Mw,Dw,Rw;const{user:e}=sr(),t=jt(),[r,n]=b.useState("general"),[s,i]=b.useState({}),[o,l]=b.useState(!0),[c,d]=b.useState(!1),[u,f]=b.useState(!1),[h,p]=b.useState({type:"",text:""}),[m,v]=b.useState(!1),[g,y]=b.useState(null),[x,w]=b.useState(""),[j,N]=b.useState(!1),[S,_]=b.useState([]),[k,P]=b.useState([]),[E,C]=b.useState(!1),[A,D]=b.useState(!1),[M,O]=b.useState([]),[z,$]=b.useState(null),[q,R]=b.useState(!1),[L,T]=b.useState(1),[I,U]=b.useState(null),K=[{id:"general",label:"General",icon:jl},{id:"email",label:"Email & SMTP",icon:Qe},{id:"ticket",label:"Tickets",icon:Pt},{id:"sla",label:"SLA",icon:Ee},{id:"security",label:"Security",icon:Ae},{id:"notifications",label:"Notifications",icon:gr},{id:"backup",label:"Backup",icon:as}];b.useEffect(()=>{H(),B()},[]),b.useEffect(()=>{r==="backup"&&(ue(1),re())},[r]);const H=async()=>{var G,qe;l(!0),p({type:"",text:""});try{const $e=await oe.get("/settings");$e.data.success&&i($e.data.data.settings)}catch($e){console.error("Failed to fetch settings:",$e),p({type:"error",text:((qe=(G=$e.response)==null?void 0:G.data)==null?void 0:qe.message)||"Failed to load settings"})}finally{l(!1)}},B=async()=>{C(!0);try{const G=await oe.get("/system/lookups/settings");G.data.success&&(_(G.data.data.priorities),P(G.data.data.categories))}catch(G){console.error("Failed to fetch lookups:",G)}finally{C(!1)}},F=(G,qe,$e)=>{i(Un=>{var _r;return{...Un,[G]:{...Un[G],[qe]:{...(_r=Un[G])==null?void 0:_r[qe],value:$e}}}})},V=async()=>{var G,qe;d(!0),p({type:"",text:""});try{const $e={};Object.keys(s).forEach(_r=>{Object.keys(s[_r]).forEach(ul=>{$e[ul]=s[_r][ul].value})}),(await oe.put("/settings/bulk",{settings:$e})).data.success&&(p({type:"success",text:"Settings saved successfully!"}),await H())}catch($e){console.error("Failed to save settings:",$e),p({type:"error",text:((qe=(G=$e.response)==null?void 0:G.data)==null?void 0:qe.message)||"Failed to save settings"})}finally{d(!1)}},W=async()=>{var G,qe;f(!0),y(null);try{const $e=await oe.post("/settings/test-smtp");y({success:$e.data.success,message:$e.data.message})}catch($e){y({success:!1,message:((qe=(G=$e.response)==null?void 0:G.data)==null?void 0:qe.message)||"SMTP test failed"})}finally{f(!1)}},Y=async()=>{var G,qe;if(!x||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)){p({type:"error",text:"Please enter a valid email address"});return}N(!0),p({type:"",text:""});try{(await oe.post("/settings/send-test-email",{email:x})).data.success&&(p({type:"success",text:"Test email sent successfully! Check your inbox."}),w(""))}catch($e){p({type:"error",text:((qe=(G=$e.response)==null?void 0:G.data)==null?void 0:qe.message)||"Failed to send test email"})}finally{N(!1)}},ie=()=>{t("/email-queue")},ee=()=>{t("/email-templates")},ue=async(G=1)=>{R(!0);try{const qe=await oe.get(`/backup/history?page=${G}&limit=10`);qe.data.success&&(O(qe.data.data.backups),U(qe.data.data.pagination))}catch(qe){console.error("Failed to fetch backup history:",qe),p({type:"error",text:"Failed to load backup history"})}finally{R(!1)}},re=async()=>{try{const G=await oe.get("/backup/stats");G.data.success&&$(G.data.data)}catch(G){console.error("Failed to fetch backup stats:",G)}},de=async()=>{var G,qe;if(window.confirm("Create a backup now? This may take several minutes depending on data size.")){D(!0),p({type:"",text:""});try{const $e=await oe.post("/backup/create");$e.data.success&&(p({type:"success",text:`Backup created successfully! Total size: ${$e.data.data.totalSizeMB.toFixed(2)} MB`}),await ue(L),await re())}catch($e){console.error("Failed to create backup:",$e),p({type:"error",text:((qe=(G=$e.response)==null?void 0:G.data)==null?void 0:qe.message)||"Failed to create backup"})}finally{D(!1)}}},ve=async(G,qe)=>{var $e,Un;if(window.confirm(`Delete backup "${qe}"? This action cannot be undone.`))try{(await oe.delete(`/backup/${G}`)).data.success&&(p({type:"success",text:"Backup deleted successfully"}),await ue(L),await re())}catch(_r){console.error("Failed to delete backup:",_r),p({type:"error",text:((Un=($e=_r.response)==null?void 0:$e.data)==null?void 0:Un.message)||"Failed to delete backup"})}},me=async(G,qe)=>{var $e,Un;try{p({type:"info",text:"Preparing backup download..."});const _r=await oe.get(`/backup/${G}/download`,{responseType:"blob"}),ul=window.URL.createObjectURL(new Blob([_r.data])),dl=document.createElement("a");dl.href=ul,dl.setAttribute("download",`${qe}.zip`),document.body.appendChild(dl),dl.click(),dl.remove(),window.URL.revokeObjectURL(ul),p({type:"success",text:"Backup download started"})}catch(_r){console.error("Failed to download backup:",_r),p({type:"error",text:((Un=($e=_r.response)==null?void 0:$e.data)==null?void 0:Un.message)||"Failed to download backup"})}};return(Z=e==null?void 0:e.permissions)!=null&&Z.can_manage_system?o?a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:a.jsx(Ie,{className:"spinner",size:32})}):a.jsxs("div",{className:"settings-page",children:[a.jsxs("div",{className:"settings-header",children:[a.jsxs("div",{className:"settings-header-left",children:[a.jsx(th,{size:32}),a.jsxs("div",{children:[a.jsx("h1",{children:"System Settings"}),a.jsx("p",{children:"Configure and manage your helpdesk system"})]})]}),a.jsxs("div",{className:"settings-header-actions",children:[a.jsxs("button",{className:"btn-secondary",onClick:H,disabled:o,children:[a.jsx(ut,{size:18}),"Refresh"]}),a.jsx("button",{className:"btn-primary",onClick:V,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{size:18,className:"spinner"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{size:18}),"Save Changes"]})})]})]}),h.text&&a.jsxs("div",{className:`alert alert-${h.type}`,children:[h.type==="success"?a.jsx(Ce,{size:20}):a.jsx(Se,{size:20}),a.jsx("span",{children:h.text})]}),a.jsxs("div",{className:"settings-container",children:[a.jsx("div",{className:"settings-tabs",children:K.map(G=>{const qe=G.icon;return a.jsxs("button",{className:`settings-tab ${r===G.id?"active":""}`,onClick:()=>n(G.id),children:[a.jsx(qe,{size:18}),a.jsx("span",{children:G.label})]},G.id)})}),a.jsxs("div",{className:"settings-content",children:[r==="general"&&a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(jl,{}),a.jsx("h3",{children:"System Information"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(ma,{size:16}),"System Name"]}),a.jsx("input",{type:"text",className:"form-input",value:((pe=(J=s.general)==null?void 0:J.system_name)==null?void 0:pe.value)||"",onChange:G=>F("general","system_name",G.target.value),placeholder:"Nexus Support"}),a.jsx("small",{className:"form-help",children:"Display name for your helpdesk system"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Yr,{size:16}),"System Title"]}),a.jsx("input",{type:"text",className:"form-input",value:((ae=(X=s.general)==null?void 0:X.system_title)==null?void 0:ae.value)||"",onChange:G=>F("general","system_title",G.target.value),placeholder:"IT Helpdesk"}),a.jsx("small",{className:"form-help",children:"Browser tab title"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ke,{size:16}),"Company Name"]}),a.jsx("input",{type:"text",className:"form-input",value:((fe=(le=s.general)==null?void 0:le.company_name)==null?void 0:fe.value)||"",onChange:G=>F("general","company_name",G.target.value),placeholder:"Your Company"}),a.jsx("small",{className:"form-help",children:"Your organization name"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(jl,{size:16}),"Timezone"]}),a.jsxs("select",{className:"form-select",value:((we=(Q=s.general)==null?void 0:Q.timezone)==null?void 0:we.value)||"Asia/Kolkata",onChange:G=>F("general","timezone",G.target.value),children:[a.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),a.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"}),a.jsx("option",{value:"Europe/London",children:"Europe/London (GMT)"}),a.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (JST)"})]}),a.jsx("small",{className:"form-help",children:"System timezone"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(vn,{size:16}),"Date Format"]}),a.jsxs("select",{className:"form-select",value:((je=(Ne=s.general)==null?void 0:Ne.date_format)==null?void 0:je.value)||"DD/MM/YYYY",onChange:G=>F("general","date_format",G.target.value),children:[a.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),a.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),a.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]}),a.jsx("small",{className:"form-help",children:"Date display format"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Time Format"]}),a.jsxs("select",{className:"form-select",value:((Pe=(_e=s.general)==null?void 0:_e.time_format)==null?void 0:Pe.value)||"24",onChange:G=>F("general","time_format",G.target.value),children:[a.jsx("option",{value:"12",children:"12 Hour"}),a.jsx("option",{value:"24",children:"24 Hour"})]}),a.jsx("small",{className:"form-help",children:"Time display format"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Te,{}),a.jsx("h3",{children:"Maintenance Mode"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable Maintenance Mode"]}),a.jsxs("select",{className:"form-select",value:String(((ua=(Zt=s.general)==null?void 0:Zt.maintenance_mode)==null?void 0:ua.value)||"false"),onChange:G=>F("general","maintenance_mode",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Put system in maintenance mode"})]}),a.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Yn,{size:16}),"Maintenance Message"]}),a.jsx("textarea",{className:"form-textarea",value:((Us=(qn=s.general)==null?void 0:qn.maintenance_message)==null?void 0:Us.value)||"",onChange:G=>F("general","maintenance_message",G.target.value),placeholder:"System is under maintenance...",rows:"3",disabled:String((nl=(rl=s.general)==null?void 0:rl.maintenance_mode)==null?void 0:nl.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Message shown during maintenance"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(gr,{}),a.jsx("h3",{children:"System Announcement"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(gr,{size:16}),"Enable Announcement"]}),a.jsxs("select",{className:"form-select",value:String(((sl=(al=s.general)==null?void 0:al.announcement_enabled)==null?void 0:sl.value)||"false"),onChange:G=>F("general","announcement_enabled",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Show announcement banner on dashboard"})]}),a.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Yn,{size:16}),"Announcement Text"]}),a.jsx("textarea",{className:"form-textarea",value:((ne=(il=s.general)==null?void 0:il.system_announcement)==null?void 0:ne.value)||"",onChange:G=>F("general","system_announcement",G.target.value),placeholder:"Enter announcement message...",rows:"3",disabled:String((Le=(Me=s.general)==null?void 0:Me.announcement_enabled)==null?void 0:Le.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Message to display on the dashboard"})]})]})})]})]}),r==="email"&&a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Qe,{}),a.jsx("h3",{children:"SMTP Configuration"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable SMTP"]}),a.jsxs("select",{className:"form-select",value:String(((Et=(ft=s.email)==null?void 0:ft.smtp_enabled)==null?void 0:Et.value)||"false"),onChange:G=>F("email","smtp_enabled",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Enable email sending functionality"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Qe,{size:16}),"SMTP Host"]}),a.jsx("input",{type:"text",className:"form-input",value:((Tt=(Ft=s.email)==null?void 0:Ft.smtp_host)==null?void 0:Tt.value)||"",onChange:G=>F("email","smtp_host",G.target.value),placeholder:"smtp.gmail.com"}),a.jsx("small",{className:"form-help",children:"Your SMTP server address"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(ma,{size:16}),"SMTP Port"]}),a.jsx("input",{type:"number",className:"form-input",value:((nn=(ht=s.email)==null?void 0:ht.smtp_port)==null?void 0:nn.value)||"",onChange:G=>F("email","smtp_port",G.target.value),placeholder:"587"}),a.jsx("small",{className:"form-help",children:"SMTP port (usually 587 or 465)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ae,{size:16}),"SMTP Encryption"]}),a.jsxs("select",{className:"form-select",value:((ol=(rs=s.email)==null?void 0:rs.smtp_encryption)==null?void 0:ol.value)||"tls",onChange:G=>F("email","smtp_encryption",G.target.value),children:[a.jsx("option",{value:"tls",children:"TLS"}),a.jsx("option",{value:"ssl",children:"SSL"}),a.jsx("option",{value:"none",children:"None"})]}),a.jsx("small",{className:"form-help",children:"Encryption type"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ke,{size:16}),"SMTP Username"]}),a.jsx("input",{type:"text",className:"form-input",value:((ll=(Di=s.email)==null?void 0:Di.smtp_username)==null?void 0:ll.value)||"",onChange:G=>F("email","smtp_username",G.target.value),placeholder:"your-email@gmail.com"}),a.jsx("small",{className:"form-help",children:"SMTP authentication username"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ge,{size:16}),"SMTP Password"]}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx("input",{type:m?"text":"password",className:"form-input",value:((Y0=(cl=s.email)==null?void 0:cl.smtp_password)==null?void 0:Y0.value)||"",onChange:G=>F("email","smtp_password",G.target.value),placeholder:"",style:{paddingRight:"40px"}}),a.jsx("button",{type:"button",onClick:()=>v(!m),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"transparent",border:"none",cursor:"pointer",color:"#64748b"},children:m?a.jsx(ta,{size:18}):a.jsx(_t,{size:18})})]}),a.jsx("small",{className:"form-help",children:"SMTP authentication password"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Qe,{size:16}),"From Email Address"]}),a.jsx("input",{type:"email",className:"form-input",value:((Z0=(X0=s.email)==null?void 0:X0.email_from_address)==null?void 0:Z0.value)||"",onChange:G=>F("email","email_from_address",G.target.value),placeholder:"noreply@yourcompany.com"}),a.jsx("small",{className:"form-help",children:'Email address shown in "From" field'})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ke,{size:16}),"From Name"]}),a.jsx("input",{type:"text",className:"form-input",value:((J0=(Q0=s.email)==null?void 0:Q0.email_from_name)==null?void 0:J0.value)||"",onChange:G=>F("email","email_from_name",G.target.value),placeholder:"IT Helpdesk"}),a.jsx("small",{className:"form-help",children:'Name shown in "From" field'})]})]}),a.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"12px",alignItems:"center"},children:[a.jsx("button",{className:"btn-secondary",onClick:W,disabled:u||String((tb=(eb=s.email)==null?void 0:eb.smtp_enabled)==null?void 0:tb.value)!=="true",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{size:18,className:"spinner"}),"Testing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(so,{size:18}),"Test Connection"]})}),g&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"6px",backgroundColor:g.success?"#d1fae5":"#fee2e2",color:g.success?"#065f46":"#991b1b",fontSize:"14px"},children:[g.success?a.jsx(Ce,{size:16}):a.jsx(Se,{size:16}),a.jsx("span",{children:g.message})]})]})]})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(gr,{}),a.jsx("h3",{children:"Email Notifications"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable Email Notifications"]}),a.jsxs("select",{className:"form-select",value:String(((nb=(rb=s.notification)==null?void 0:rb.email_notifications_enabled)==null?void 0:nb.value)||"false"),onChange:G=>F("notification","email_notifications_enabled",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Master switch for all email notifications"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Pt,{size:16}),"Ticket Created"]}),a.jsxs("select",{className:"form-select",value:String(((sb=(ab=s.notification)==null?void 0:ab.notify_on_ticket_created)==null?void 0:sb.value)||"false"),onChange:G=>F("notification","notify_on_ticket_created",G.target.value),disabled:String((ob=(ib=s.notification)==null?void 0:ib.email_notifications_enabled)==null?void 0:ob.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify admins when new ticket is created"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ke,{size:16}),"Ticket Assigned"]}),a.jsxs("select",{className:"form-select",value:String(((cb=(lb=s.notification)==null?void 0:lb.notify_on_ticket_assigned)==null?void 0:cb.value)||"false"),onChange:G=>F("notification","notify_on_ticket_assigned",G.target.value),disabled:String((db=(ub=s.notification)==null?void 0:ub.email_notifications_enabled)==null?void 0:db.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify engineer when ticket is assigned"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(ut,{size:16}),"Ticket Updated"]}),a.jsxs("select",{className:"form-select",value:String(((hb=(fb=s.notification)==null?void 0:fb.notify_on_ticket_updated)==null?void 0:hb.value)||"false"),onChange:G=>F("notification","notify_on_ticket_updated",G.target.value),disabled:String((mb=(pb=s.notification)==null?void 0:pb.email_notifications_enabled)==null?void 0:mb.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify when ticket status changes"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Yn,{size:16}),"Comment Added"]}),a.jsxs("select",{className:"form-select",value:String(((gb=(vb=s.notification)==null?void 0:vb.notify_on_ticket_commented)==null?void 0:gb.value)||"false"),onChange:G=>F("notification","notify_on_ticket_commented",G.target.value),disabled:String((xb=(yb=s.notification)==null?void 0:yb.email_notifications_enabled)==null?void 0:xb.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify when comment is added"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(so,{}),a.jsx("h3",{children:"Send Test Email"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsx("div",{className:"form-grid",children:a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Qe,{size:16}),"Test Email Address"]}),a.jsx("input",{type:"email",className:"form-input",value:x,onChange:G=>w(G.target.value),placeholder:"your-email@example.com"}),a.jsx("small",{className:"form-help",children:"Enter email address to receive test email"})]})}),a.jsx("div",{style:{marginTop:"16px"},children:a.jsx("button",{className:"btn-primary",onClick:Y,disabled:j||!x||String((jb=(bb=s.email)==null?void 0:bb.smtp_enabled)==null?void 0:jb.value)!=="true",children:j?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{size:18,className:"spinner"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(so,{size:18}),"Send Test Email"]})})})]})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Vp,{}),a.jsx("h3",{children:"Email Management"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsx("p",{style:{color:"#64748b",marginBottom:"16px"},children:"Manage email queue and templates"}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsxs("button",{className:"btn-secondary",onClick:ie,children:[a.jsx(Vp,{size:18}),"View Email Queue"]}),a.jsxs("button",{className:"btn-secondary",onClick:ee,children:[a.jsx(Qe,{size:18}),"Manage Templates"]})]})]})]})]}),r==="ticket"&&a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(ma,{}),a.jsx("h3",{children:"Ticket Numbering"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsx("div",{className:"form-grid",children:a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(ma,{size:16}),"Ticket Number Prefix"]}),a.jsx("input",{type:"text",className:"form-input",value:((Nb=(wb=s.ticket)==null?void 0:wb.ticket_number_prefix)==null?void 0:Nb.value)||"",onChange:G=>F("ticket","ticket_number_prefix",G.target.value),placeholder:"TKT",maxLength:"10"}),a.jsx("small",{className:"form-help",children:"Prefix for ticket numbers (e.g., TKT-001)"})]})})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Pt,{}),a.jsx("h3",{children:"Default Values"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Te,{size:16}),"Default Priority"]}),a.jsx("select",{className:"form-select",value:((kb=(_b=s.ticket)==null?void 0:_b.ticket_default_priority)==null?void 0:kb.value)||"3",onChange:G=>F("ticket","ticket_default_priority",G.target.value),disabled:E,children:S.map(G=>a.jsx("option",{value:G.priority_id,children:G.priority_name},G.priority_id))}),a.jsx("small",{className:"form-help",children:"Default priority for new tickets"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(ma,{size:16}),"Default Category"]}),a.jsx("select",{className:"form-select",value:((Eb=(Sb=s.ticket)==null?void 0:Sb.ticket_default_category)==null?void 0:Eb.value)||"9",onChange:G=>F("ticket","ticket_default_category",G.target.value),disabled:E,children:k.map(G=>a.jsx("option",{value:G.category_id,children:G.category_name},G.category_id))}),a.jsx("small",{className:"form-help",children:"Default category for new tickets"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Ke,{}),a.jsx("h3",{children:"Auto-Assignment"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable Auto-Assignment"]}),a.jsxs("select",{className:"form-select",value:String(((Pb=(Cb=s.ticket)==null?void 0:Cb.ticket_auto_assignment)==null?void 0:Pb.value)||"false"),onChange:G=>F("ticket","ticket_auto_assignment",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Automatically assign tickets to engineers"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ea,{size:16}),"Assignment Method"]}),a.jsxs("select",{className:"form-select",value:((Ob=(Ab=s.ticket)==null?void 0:Ab.ticket_assignment_method)==null?void 0:Ob.value)||"round_robin",onChange:G=>F("ticket","ticket_assignment_method",G.target.value),disabled:String((Mb=(Tb=s.ticket)==null?void 0:Tb.ticket_auto_assignment)==null?void 0:Mb.value)!=="true",children:[a.jsx("option",{value:"round_robin",children:"Round Robin"}),a.jsx("option",{value:"load_balanced",children:"Load Balanced"}),a.jsx("option",{value:"department",children:"Department Based"})]}),a.jsx("small",{className:"form-help",children:"How tickets are distributed to engineers"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Te,{}),a.jsx("h3",{children:"Auto-Escalation"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable Auto-Escalation"]}),a.jsxs("select",{className:"form-select",value:String(((Rb=(Db=s.ticket)==null?void 0:Db.ticket_auto_escalate)==null?void 0:Rb.value)||"false"),onChange:G=>F("ticket","ticket_auto_escalate",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Automatically escalate unresolved tickets"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Escalation Threshold (Hours)"]}),a.jsx("input",{type:"number",className:"form-input",value:((Ib=(Lb=s.ticket)==null?void 0:Lb.ticket_escalate_hours)==null?void 0:Ib.value)||"24",onChange:G=>F("ticket","ticket_escalate_hours",G.target.value),min:"1",max:"168",disabled:String(($b=(zb=s.ticket)==null?void 0:zb.ticket_auto_escalate)==null?void 0:$b.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Hours before escalating unresolved tickets"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Ge,{}),a.jsx("h3",{children:"Ticket Lifecycle & Permissions"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable Auto-Close"]}),a.jsxs("select",{className:"form-select",value:String(((Bb=(Fb=s.ticket)==null?void 0:Fb.ticket_auto_close_enabled)==null?void 0:Bb.value)||"false"),onChange:G=>F("ticket","ticket_auto_close_enabled",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Automatically close resolved tickets after specified days"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(vn,{size:16}),"Auto-Close After (Days)"]}),a.jsx("input",{type:"number",className:"form-input",value:((Ub=(qb=s.ticket)==null?void 0:qb.ticket_auto_close_days)==null?void 0:Ub.value)||"30",onChange:G=>F("ticket","ticket_auto_close_days",G.target.value),min:"1",max:"365",disabled:String((Wb=(Hb=s.ticket)==null?void 0:Hb.ticket_auto_close_enabled)==null?void 0:Wb.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Days to wait before auto-closing resolved tickets"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ke,{size:16}),"Allow Users to Close Tickets"]}),a.jsxs("select",{className:"form-select",value:String(((Vb=(Kb=s.ticket)==null?void 0:Kb.ticket_allow_user_close)==null?void 0:Vb.value)||"false"),onChange:G=>F("ticket","ticket_allow_user_close",G.target.value),children:[a.jsx("option",{value:"true",children:"Allowed"}),a.jsx("option",{value:"false",children:"Not Allowed"})]}),a.jsx("small",{className:"form-help",children:"Let users close their own tickets"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ae,{size:16}),"Require Manager Approval to Close"]}),a.jsxs("select",{className:"form-select",value:String(((Yb=(Gb=s.ticket)==null?void 0:Gb.ticket_require_approval_close)==null?void 0:Yb.value)||"false"),onChange:G=>F("ticket","ticket_require_approval_close",G.target.value),children:[a.jsx("option",{value:"true",children:"Required"}),a.jsx("option",{value:"false",children:"Not Required"})]}),a.jsx("small",{className:"form-help",children:"Require manager approval before closing tickets"})]})]}),a.jsxs("div",{style:{marginTop:"20px",padding:"14px 18px",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[a.jsx(wa,{size:18,style:{color:"#0369a1",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{children:a.jsxs("p",{style:{fontSize:"13px",color:"#0369a1",margin:0,lineHeight:"1.6",fontWeight:"500"},children:[a.jsx("strong",{children:" Quick Tip:"})," Enable auto-close above to activate the background job. The auto-close job runs daily at midnight and closes resolved tickets that have exceeded the specified threshold days."]})})]})]})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Ea,{}),a.jsx("h3",{children:"Background Jobs Status"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Se,{size:16}),"Auto-Escalation Job"]}),a.jsxs("div",{style:{padding:"12px 16px",backgroundColor:String((Zb=(Xb=s.ticket)==null?void 0:Xb.ticket_auto_escalate)==null?void 0:Zb.value)==="true"?"#dcfce7":"#fee2e2",border:`1px solid ${String((Jb=(Qb=s.ticket)==null?void 0:Qb.ticket_auto_escalate)==null?void 0:Jb.value)==="true"?"#86efac":"#fca5a5"}`,borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"8px"},children:[a.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:String((t1=(e1=s.ticket)==null?void 0:e1.ticket_auto_escalate)==null?void 0:t1.value)==="true"?"#22c55e":"#ef4444",flexShrink:0}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:String((n1=(r1=s.ticket)==null?void 0:r1.ticket_auto_escalate)==null?void 0:n1.value)==="true"?"#166534":"#991b1b"},children:String((s1=(a1=s.ticket)==null?void 0:a1.ticket_auto_escalate)==null?void 0:s1.value)==="true"?"Active - Running hourly":"Inactive"})]}),a.jsx("small",{className:"form-help",children:"Background job that escalates overdue tickets"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ge,{size:16}),"Auto-Close Job"]}),a.jsxs("div",{style:{padding:"12px 16px",backgroundColor:String((o1=(i1=s.ticket)==null?void 0:i1.ticket_auto_close_enabled)==null?void 0:o1.value)==="true"?"#dcfce7":"#fee2e2",border:`1px solid ${String((c1=(l1=s.ticket)==null?void 0:l1.ticket_auto_close_enabled)==null?void 0:c1.value)==="true"?"#86efac":"#fca5a5"}`,borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"8px"},children:[a.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:String((d1=(u1=s.ticket)==null?void 0:u1.ticket_auto_close_enabled)==null?void 0:d1.value)==="true"?"#22c55e":"#ef4444",flexShrink:0}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:String((h1=(f1=s.ticket)==null?void 0:f1.ticket_auto_close_enabled)==null?void 0:h1.value)==="true"?"#166534":"#991b1b"},children:String((m1=(p1=s.ticket)==null?void 0:p1.ticket_auto_close_enabled)==null?void 0:m1.value)==="true"?"Active - Running daily":"Inactive"})]}),a.jsx("small",{className:"form-help",children:"Background job that auto-closes old resolved tickets"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Qe,{size:16}),"Email Processor Job"]}),a.jsxs("div",{style:{padding:"12px 16px",backgroundColor:String((g1=(v1=s.email)==null?void 0:v1.smtp_enabled)==null?void 0:g1.value)==="true"?"#dcfce7":"#fee2e2",border:`1px solid ${String((x1=(y1=s.email)==null?void 0:y1.smtp_enabled)==null?void 0:x1.value)==="true"?"#86efac":"#fca5a5"}`,borderRadius:"8px",display:"flex",alignItems:"center",gap:"10px",marginTop:"8px"},children:[a.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:String((j1=(b1=s.email)==null?void 0:b1.smtp_enabled)==null?void 0:j1.value)==="true"?"#22c55e":"#ef4444",flexShrink:0}}),a.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:String((N1=(w1=s.email)==null?void 0:w1.smtp_enabled)==null?void 0:N1.value)==="true"?"#166534":"#991b1b"},children:String((k1=(_1=s.email)==null?void 0:_1.smtp_enabled)==null?void 0:k1.value)==="true"?"Active - Running every 5 minutes":"Inactive"})]}),a.jsx("small",{className:"form-help",children:"Background job that sends queued emails"})]})]}),a.jsxs("div",{style:{marginTop:"20px",padding:"14px 18px",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[a.jsx(wa,{size:18,style:{color:"#0369a1",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{children:a.jsxs("p",{style:{fontSize:"13px",color:"#0369a1",margin:0,lineHeight:"1.6",fontWeight:"500"},children:[a.jsx("strong",{children:" Quick Tip:"})," Changes to background job settings apply immediately without requiring a server restart. Jobs check settings before each execution."]})})]})]})]})]}),r==="sla"&&a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(an,{}),a.jsx("h3",{children:"SLA Background Monitoring Job"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable SLA Monitoring Job"]}),a.jsxs("select",{className:"form-select",value:String(((E1=(S1=s.sla)==null?void 0:S1.sla_monitoring_enabled)==null?void 0:E1.value)||"false"),onChange:G=>F("sla","sla_monitoring_enabled",G.target.value),style:{borderColor:String((P1=(C1=s.sla)==null?void 0:C1.sla_monitoring_enabled)==null?void 0:P1.value)==="true"?"#16a34a":"#dc2626",borderWidth:"2px"},children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Controls the background cron job that monitors SLA breaches every 15 minutes"})]}),a.jsxs("div",{style:{marginTop:"16px",padding:"14px 18px",backgroundColor:String((O1=(A1=s.sla)==null?void 0:A1.sla_monitoring_enabled)==null?void 0:O1.value)==="true"?"#f0fdf4":"#fef2f2",border:"1px solid "+(String((M1=(T1=s.sla)==null?void 0:T1.sla_monitoring_enabled)==null?void 0:M1.value)==="true"?"#86efac":"#fecaca"),borderRadius:"8px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[a.jsx(Te,{size:18,style:{color:String((R1=(D1=s.sla)==null?void 0:D1.sla_monitoring_enabled)==null?void 0:R1.value)==="true"?"#16a34a":"#dc2626",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{children:a.jsxs("p",{style:{fontSize:"13px",color:String((I1=(L1=s.sla)==null?void 0:L1.sla_monitoring_enabled)==null?void 0:I1.value)==="true"?"#16a34a":"#dc2626",margin:0,lineHeight:"1.6",fontWeight:"500"},children:[a.jsx("strong",{children:" Important:"})," This controls the background SLA breach detection job. When enabled, the system monitors all open tickets every 15 minutes for SLA violations. Changes take effect within 15 minutes."]})})]})]})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Ee,{}),a.jsx("h3",{children:"SLA Tracking Configuration"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable SLA Tracking"]}),a.jsxs("select",{className:"form-select",value:String((($1=(z1=s.sla)==null?void 0:z1.sla_enabled)==null?void 0:$1.value)||"false"),onChange:G=>F("sla","sla_enabled",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Enable Service Level Agreement tracking with business hours calculation"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Business Hours Start"]}),a.jsx("input",{type:"time",className:"form-input",value:((B1=(F1=s.sla)==null?void 0:F1.sla_business_hours_start)==null?void 0:B1.value)||"09:00",onChange:G=>F("sla","sla_business_hours_start",G.target.value),disabled:String((U1=(q1=s.sla)==null?void 0:q1.sla_enabled)==null?void 0:U1.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Start of business hours (24-hour format)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Business Hours End"]}),a.jsx("input",{type:"time",className:"form-input",value:((W1=(H1=s.sla)==null?void 0:H1.sla_business_hours_end)==null?void 0:W1.value)||"17:00",onChange:G=>F("sla","sla_business_hours_end",G.target.value),disabled:String((V1=(K1=s.sla)==null?void 0:K1.sla_enabled)==null?void 0:V1.value)!=="true"}),a.jsx("small",{className:"form-help",children:"End of business hours (24-hour format)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(vn,{size:16}),"Working Days"]}),a.jsx("input",{type:"text",className:"form-input",value:((Y1=(G1=s.sla)==null?void 0:G1.sla_working_days)==null?void 0:Y1.value)||"mon,tue,wed,thu,fri,sat",onChange:G=>F("sla","sla_working_days",G.target.value),placeholder:"mon,tue,wed,thu,fri,sat",disabled:String((Z1=(X1=s.sla)==null?void 0:X1.sla_enabled)==null?void 0:Z1.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Comma-separated working days (sun,mon,tue,wed,thu,fri,sat)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Te,{size:16}),"SLA Warning Threshold (%)"]}),a.jsx("input",{type:"number",className:"form-input",value:((J1=(Q1=s.sla)==null?void 0:Q1.sla_warning_threshold)==null?void 0:J1.value)||"90",onChange:G=>F("sla","sla_warning_threshold",G.target.value),min:"1",max:"100",disabled:String((tj=(ej=s.sla)==null?void 0:ej.sla_enabled)==null?void 0:tj.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Show warning when ticket reaches X% of SLA time (default: 90%)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(gr,{size:16}),"Notify Manager on Breach"]}),a.jsxs("select",{className:"form-select",value:String(((nj=(rj=s.sla)==null?void 0:rj.sla_breach_notify_manager)==null?void 0:nj.value)||"false"),onChange:G=>F("sla","sla_breach_notify_manager",G.target.value),disabled:String((sj=(aj=s.sla)==null?void 0:aj.sla_enabled)==null?void 0:sj.value)!=="true",children:[a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]}),a.jsx("small",{className:"form-help",children:"Send notification to managers when SLA is breached"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ea,{size:16}),"Auto-Escalate on Breach"]}),a.jsxs("select",{className:"form-select",value:String(((oj=(ij=s.sla)==null?void 0:ij.sla_breach_auto_escalate)==null?void 0:oj.value)||"false"),onChange:G=>F("sla","sla_breach_auto_escalate",G.target.value),disabled:String((cj=(lj=s.sla)==null?void 0:lj.sla_enabled)==null?void 0:cj.value)!=="true",children:[a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]}),a.jsx("small",{className:"form-help",children:"Automatically escalate tickets when SLA is breached"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Yn,{size:16}),"Notify on SLA Warning"]}),a.jsxs("select",{className:"form-select",value:String(((dj=(uj=s.sla)==null?void 0:uj.notify_on_sla_warning)==null?void 0:dj.value)||"true"),onChange:G=>F("sla","notify_on_sla_warning",G.target.value),disabled:String((hj=(fj=s.sla)==null?void 0:fj.sla_enabled)==null?void 0:hj.value)!=="true",children:[a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]}),a.jsx("small",{className:"form-help",children:"Send notification when ticket reaches SLA warning threshold"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Yn,{size:16}),"Notify on SLA Breach"]}),a.jsxs("select",{className:"form-select",value:String(((mj=(pj=s.sla)==null?void 0:pj.notify_on_sla_breach)==null?void 0:mj.value)||"true"),onChange:G=>F("sla","sla_breach",G.target.value),disabled:String((gj=(vj=s.sla)==null?void 0:vj.sla_enabled)==null?void 0:gj.value)!=="true",children:[a.jsx("option",{value:"true",children:"Yes"}),a.jsx("option",{value:"false",children:"No"})]}),a.jsx("small",{className:"form-help",children:"Send notification when ticket breaches SLA deadline"})]})]}),a.jsxs("div",{style:{marginTop:"24px",padding:"14px 18px",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[a.jsx(wa,{size:18,style:{color:"#0369a1",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{children:a.jsxs("p",{style:{fontSize:"13px",color:"#0369a1",margin:0,lineHeight:"1.6",fontWeight:"500"},children:[a.jsx("strong",{children:" How SLA Works:"})," When SLA tracking is enabled, due dates are calculated based on business hours and working days. When disabled, due dates use simple time addition (24/7 calculation). The monitoring job runs every 15 minutes to check for violations."]})})]})]})]})]}),r==="security"&&a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Ge,{}),a.jsx("h3",{children:"Password Policy"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ge,{size:16}),"Minimum Password Length"]}),a.jsx("input",{type:"number",className:"form-input",value:((xj=(yj=s.security)==null?void 0:yj.password_min_length)==null?void 0:xj.value)||"8",onChange:G=>F("security","password_min_length",G.target.value),min:"6",max:"20"}),a.jsx("small",{className:"form-help",children:"Minimum characters required"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ae,{size:16}),"Require Uppercase Letter"]}),a.jsxs("select",{className:"form-select",value:String(((jj=(bj=s.security)==null?void 0:bj.password_require_uppercase)==null?void 0:jj.value)||"false"),onChange:G=>F("security","password_require_uppercase",G.target.value),children:[a.jsx("option",{value:"true",children:"Required"}),a.jsx("option",{value:"false",children:"Optional"})]}),a.jsx("small",{className:"form-help",children:"Require at least one uppercase letter"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ae,{size:16}),"Require Lowercase Letter"]}),a.jsxs("select",{className:"form-select",value:String(((Nj=(wj=s.security)==null?void 0:wj.password_require_lowercase)==null?void 0:Nj.value)||"false"),onChange:G=>F("security","password_require_lowercase",G.target.value),children:[a.jsx("option",{value:"true",children:"Required"}),a.jsx("option",{value:"false",children:"Optional"})]}),a.jsx("small",{className:"form-help",children:"Require at least one lowercase letter"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ae,{size:16}),"Require Number"]}),a.jsxs("select",{className:"form-select",value:String(((kj=(_j=s.security)==null?void 0:_j.password_require_number)==null?void 0:kj.value)||"false"),onChange:G=>F("security","password_require_number",G.target.value),children:[a.jsx("option",{value:"true",children:"Required"}),a.jsx("option",{value:"false",children:"Optional"})]}),a.jsx("small",{className:"form-help",children:"Require at least one number"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ae,{size:16}),"Require Special Character"]}),a.jsxs("select",{className:"form-select",value:String(((Ej=(Sj=s.security)==null?void 0:Sj.password_require_special)==null?void 0:Ej.value)||"false"),onChange:G=>F("security","password_require_special",G.target.value),children:[a.jsx("option",{value:"true",children:"Required"}),a.jsx("option",{value:"false",children:"Optional"})]}),a.jsx("small",{className:"form-help",children:"Require at least one special character"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Password Expiry (Days)"]}),a.jsx("input",{type:"number",className:"form-input",value:((Pj=(Cj=s.security)==null?void 0:Cj.password_expiry_days)==null?void 0:Pj.value)||"90",onChange:G=>F("security","password_expiry_days",G.target.value),min:"0"}),a.jsx("small",{className:"form-help",children:"Days before password expires (0 = never)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Vp,{size:16}),"Password History Count"]}),a.jsx("input",{type:"number",className:"form-input",value:((Oj=(Aj=s.security)==null?void 0:Aj.password_history_count)==null?void 0:Oj.value)||"5",onChange:G=>F("security","password_history_count",G.target.value),min:"0",max:"10"}),a.jsx("small",{className:"form-help",children:"Prevent reuse of last X passwords"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Ke,{}),a.jsx("h3",{children:"Session Management"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Session Timeout (Minutes)"]}),a.jsx("input",{type:"number",className:"form-input",value:((Mj=(Tj=s.security)==null?void 0:Tj.session_timeout_minutes)==null?void 0:Mj.value)||"480",onChange:G=>F("security","session_timeout_minutes",G.target.value),min:"30"}),a.jsx("small",{className:"form-help",children:"Inactivity timeout in minutes"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Auto Logout on Inactivity"]}),a.jsxs("select",{className:"form-select",value:String(((Rj=(Dj=s.security)==null?void 0:Dj.session_auto_logout)==null?void 0:Rj.value)||"false"),onChange:G=>F("security","session_auto_logout",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Automatically logout inactive users"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ke,{size:16}),"Max Concurrent Sessions"]}),a.jsx("input",{type:"number",className:"form-input",value:((Ij=(Lj=s.security)==null?void 0:Lj.max_concurrent_sessions)==null?void 0:Ij.value)||"3",onChange:G=>F("security","max_concurrent_sessions",G.target.value),min:"1",max:"10"}),a.jsx("small",{className:"form-help",children:"Maximum sessions per user"})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Ae,{}),a.jsx("h3",{children:"Account Security"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Te,{size:16}),"Lockout After Failed Attempts"]}),a.jsx("input",{type:"number",className:"form-input",value:(($j=(zj=s.security)==null?void 0:zj.lockout_attempts)==null?void 0:$j.value)||"5",onChange:G=>F("security","lockout_attempts",G.target.value),min:"3",max:"10"}),a.jsx("small",{className:"form-help",children:"Account locks after X failed login attempts"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Lockout Duration (Minutes)"]}),a.jsx("input",{type:"number",className:"form-input",value:((Bj=(Fj=s.security)==null?void 0:Fj.lockout_duration_minutes)==null?void 0:Bj.value)||"30",onChange:G=>F("security","lockout_duration_minutes",G.target.value),min:"5"}),a.jsx("small",{className:"form-help",children:"Account locked for X minutes"})]}),a.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ae,{size:16}),"Two-Factor Authentication"]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",marginTop:"8px"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:"#1e293b",marginBottom:"4px"},children:String((Uj=(qj=s.security)==null?void 0:qj.two_factor_enabled)==null?void 0:Uj.value)==="true"?"Enabled":"Disabled"}),a.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:"Manage your two-factor authentication settings"})]}),a.jsxs("button",{type:"button",onClick:()=>t("/security"),style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:"#6366f1",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:G=>G.currentTarget.style.background="#4f46e5",onMouseLeave:G=>G.currentTarget.style.background="#6366f1",children:[a.jsx(Ae,{size:16}),"Manage 2FA"]})]}),a.jsx("small",{className:"form-help",children:"Configure two-factor authentication for your account"})]}),a.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[a.jsxs("label",{className:"form-label",children:[a.jsx(jl,{size:16}),"IP Whitelist"]}),a.jsx("textarea",{className:"form-textarea",value:((Wj=(Hj=s.security)==null?void 0:Hj.ip_whitelist)==null?void 0:Wj.value)||"",onChange:G=>F("security","ip_whitelist",G.target.value),placeholder:"192.168.1.1, 10.0.0.1",rows:"3"}),a.jsx("small",{className:"form-help",children:"Comma-separated IP addresses (leave empty to allow all)"})]})]})})]})]}),r==="notifications"&&a.jsx("div",{className:"settings-form",children:a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(gr,{}),a.jsx("h3",{children:"In-App Notifications"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable Notifications"]}),a.jsxs("select",{className:"form-select",value:String(((Vj=(Kj=s.notification)==null?void 0:Kj.notification_enabled)==null?void 0:Vj.value)||"false"),onChange:G=>F("notification","notification_enabled",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Enable in-app notifications"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(gr,{size:16}),"Notification Sound"]}),a.jsxs("select",{className:"form-select",value:String(((Yj=(Gj=s.notification)==null?void 0:Gj.notification_sound)==null?void 0:Yj.value)||"false"),onChange:G=>F("notification","notification_sound",G.target.value),disabled:String((Zj=(Xj=s.notification)==null?void 0:Xj.notification_enabled)==null?void 0:Zj.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Play sound for notifications"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(jl,{size:16}),"Desktop Notifications"]}),a.jsxs("select",{className:"form-select",value:String(((Jj=(Qj=s.notification)==null?void 0:Qj.notification_desktop)==null?void 0:Jj.value)||"false"),onChange:G=>F("notification","notification_desktop",G.target.value),disabled:String((tw=(ew=s.notification)==null?void 0:ew.notification_enabled)==null?void 0:tw.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Enable desktop/browser notifications"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Pt,{size:16}),"Notify on Ticket Created"]}),a.jsxs("select",{className:"form-select",value:String(((nw=(rw=s.notification)==null?void 0:rw.notification_ticket_created)==null?void 0:nw.value)||"false"),onChange:G=>F("notification","notification_ticket_created",G.target.value),disabled:String((sw=(aw=s.notification)==null?void 0:aw.notification_enabled)==null?void 0:sw.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify when new ticket is created"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ke,{size:16}),"Notify on Ticket Assigned"]}),a.jsxs("select",{className:"form-select",value:String(((ow=(iw=s.notification)==null?void 0:iw.notification_ticket_assigned)==null?void 0:ow.value)||"false"),onChange:G=>F("notification","notification_ticket_assigned",G.target.value),disabled:String((cw=(lw=s.notification)==null?void 0:lw.notification_enabled)==null?void 0:cw.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify when ticket is assigned"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Yn,{size:16}),"Notify on Comment Added"]}),a.jsxs("select",{className:"form-select",value:String(((dw=(uw=s.notification)==null?void 0:uw.notification_ticket_commented)==null?void 0:dw.value)||"false"),onChange:G=>F("notification","notification_ticket_commented",G.target.value),disabled:String((hw=(fw=s.notification)==null?void 0:fw.notification_enabled)==null?void 0:hw.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify when comment is added"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(ut,{size:16}),"Notify on Status Change"]}),a.jsxs("select",{className:"form-select",value:String(((mw=(pw=s.notification)==null?void 0:pw.notification_ticket_status_changed)==null?void 0:mw.value)||"false"),onChange:G=>F("notification","notification_ticket_status_changed",G.target.value),disabled:String((gw=(vw=s.notification)==null?void 0:vw.notification_enabled)==null?void 0:gw.value)!=="true",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Notify when ticket status changes"})]})]})}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Te,{}),a.jsx("h3",{children:"SLA Email Notifications"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(gr,{size:16}),"Send SLA Warning Emails"]}),a.jsxs("select",{className:"form-select",value:String(((xw=(yw=s.notification)==null?void 0:yw.notify_on_sla_warning)==null?void 0:xw.value)||"false"),onChange:G=>F("notification","notify_on_sla_warning",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Email assigned engineer at warning threshold"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Te,{size:16}),"Send SLA Breach Emails"]}),a.jsxs("select",{className:"form-select",value:String(((jw=(bw=s.notification)==null?void 0:bw.notify_on_sla_breach)==null?void 0:jw.value)||"false"),onChange:G=>F("notification","notify_on_sla_breach",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Email all stakeholders on breach"})]})]}),a.jsxs("div",{style:{marginTop:"16px",padding:"14px 18px",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"8px",display:"flex",gap:"12px",alignItems:"flex-start"},children:[a.jsx(wa,{size:18,style:{color:"#0369a1",flexShrink:0,marginTop:"2px"}}),a.jsx("div",{children:a.jsxs("p",{style:{fontSize:"13px",color:"#0369a1",margin:0,lineHeight:"1.6",fontWeight:"500"},children:[a.jsx("strong",{children:" Note:"})," Only applies when SLA Monitoring Job is enabled in SLA tab."]})})]})]})]})]})}),r==="backup"&&a.jsxs("div",{className:"settings-form",children:[z&&z.total_backups!==void 0&&a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(as,{}),a.jsx("h3",{children:"Backup Overview"})]}),a.jsx("div",{className:"settings-section-content",children:a.jsxs("div",{className:"backup-stats-grid",children:[a.jsxs("div",{className:"backup-stat-card",children:[a.jsx("div",{className:"backup-stat-icon",children:a.jsx(as,{size:24})}),a.jsxs("div",{className:"backup-stat-content",children:[a.jsx("div",{className:"backup-stat-value",children:z.total_backups||0}),a.jsx("div",{className:"backup-stat-label",children:"Total Backups"})]})]}),a.jsxs("div",{className:"backup-stat-card success",children:[a.jsx("div",{className:"backup-stat-icon",children:a.jsx(Ce,{size:24})}),a.jsxs("div",{className:"backup-stat-content",children:[a.jsx("div",{className:"backup-stat-value",children:z.completed_backups||0}),a.jsx("div",{className:"backup-stat-label",children:"Completed"})]})]}),a.jsxs("div",{className:"backup-stat-card error",children:[a.jsx("div",{className:"backup-stat-icon",children:a.jsx(Se,{size:24})}),a.jsxs("div",{className:"backup-stat-content",children:[a.jsx("div",{className:"backup-stat-value",children:z.failed_backups||0}),a.jsx("div",{className:"backup-stat-label",children:"Failed"})]})]}),a.jsxs("div",{className:"backup-stat-card",children:[a.jsx("div",{className:"backup-stat-icon",children:a.jsx(as,{size:24})}),a.jsxs("div",{className:"backup-stat-content",children:[a.jsxs("div",{className:"backup-stat-value",children:[z.total_size_mb?(z.total_size_mb/1024).toFixed(2):"0.00"," GB"]}),a.jsx("div",{className:"backup-stat-label",children:"Total Size"})]})]})]})})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(as,{}),a.jsx("h3",{children:"Backup Configuration"})]}),a.jsxs("div",{className:"settings-section-content",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(an,{size:16}),"Enable Automatic Backups"]}),a.jsxs("select",{className:"form-select",value:String(((Nw=(ww=s.backup)==null?void 0:ww.backup_enabled)==null?void 0:Nw.value)||"false"),onChange:G=>F("backup","backup_enabled",G.target.value),children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]}),a.jsx("small",{className:"form-help",children:"Enable scheduled automatic backups"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Backup Frequency"]}),a.jsxs("select",{className:"form-select",value:((kw=(_w=s.backup)==null?void 0:_w.backup_frequency)==null?void 0:kw.value)||"daily",onChange:G=>F("backup","backup_frequency",G.target.value),disabled:String((Ew=(Sw=s.backup)==null?void 0:Sw.backup_enabled)==null?void 0:Ew.value)!=="true",children:[a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"})]}),a.jsx("small",{className:"form-help",children:"How often to create backups"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(Ee,{size:16}),"Backup Time"]}),a.jsx("input",{type:"time",className:"form-input",value:((Pw=(Cw=s.backup)==null?void 0:Cw.backup_time)==null?void 0:Pw.value)||"02:00",onChange:G=>F("backup","backup_time",G.target.value),disabled:String((Ow=(Aw=s.backup)==null?void 0:Aw.backup_enabled)==null?void 0:Ow.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Time to run backup (24-hour format)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:[a.jsx(vn,{size:16}),"Retention Period (Days)"]}),a.jsx("input",{type:"number",className:"form-input",value:((Mw=(Tw=s.backup)==null?void 0:Tw.backup_retention_days)==null?void 0:Mw.value)||"30",onChange:G=>F("backup","backup_retention_days",G.target.value),min:"7",disabled:String((Rw=(Dw=s.backup)==null?void 0:Dw.backup_enabled)==null?void 0:Rw.value)!=="true"}),a.jsx("small",{className:"form-help",children:"Days to keep backups before deletion"})]})]}),a.jsxs("div",{style:{marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #e2e8f0"},children:[a.jsx("button",{className:"btn-primary",onClick:de,disabled:A,style:{display:"flex",alignItems:"center",gap:"8px"},children:A?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{size:18,className:"spin"}),a.jsx("span",{children:"Creating Backup..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(as,{size:18}),a.jsx("span",{children:"Create Backup Now"})]})}),a.jsx("small",{className:"form-help",style:{marginTop:"8px",display:"block"},children:"Create an immediate backup of database and files"})]})]})]}),a.jsxs("div",{className:"settings-section",children:[a.jsxs("div",{className:"settings-section-header",children:[a.jsx(Yr,{}),a.jsx("h3",{children:"Backup History"})]}),a.jsx("div",{className:"settings-section-content",children:q?a.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[a.jsx(Ie,{size:32,className:"spin",style:{margin:"0 auto"}}),a.jsx("p",{style:{marginTop:"16px",color:"#64748b"},children:"Loading backups..."})]}):!M||M.length===0?a.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:[a.jsx(as,{size:48,style:{margin:"0 auto 16px",opacity:.3}}),a.jsx("p",{children:"No backups found"}),a.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:"Create your first backup using the button above"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"table-container",children:a.jsxs("table",{className:"data-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Backup Name"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Size"}),a.jsx("th",{children:"Duration"}),a.jsx("th",{children:"Created By"}),a.jsx("th",{children:"Created At"}),a.jsx("th",{children:"Actions"})]})}),a.jsx("tbody",{children:M.map(G=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(as,{size:16}),a.jsx("span",{style:{fontWeight:"500"},children:G.backup_name||"N/A"})]})}),a.jsx("td",{children:a.jsx("span",{className:`badge ${G.backup_trigger==="AUTOMATIC"?"badge-info":"badge-warning"}`,children:G.backup_trigger||"N/A"})}),a.jsx("td",{children:a.jsx("span",{className:`badge ${G.status==="COMPLETED"?"badge-success":G.status==="FAILED"?"badge-danger":"badge-warning"}`,children:G.status||"N/A"})}),a.jsx("td",{children:G.total_size_mb?`${G.total_size_mb.toFixed(2)} MB`:"N/A"}),a.jsx("td",{children:G.duration_seconds?`${G.duration_seconds}s`:"N/A"}),a.jsx("td",{children:G.created_by_name||"System"}),a.jsx("td",{children:G.created_at?new Date(G.created_at).toLocaleString():"N/A"}),a.jsx("td",{children:a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[G.status==="COMPLETED"&&a.jsx("button",{className:"btn-icon",onClick:()=>me(G.backup_id,G.backup_name),title:"Download Backup",children:a.jsx(xo,{size:16})}),a.jsx("button",{className:"btn-icon btn-icon-danger",onClick:()=>ve(G.backup_id,G.backup_name),title:"Delete Backup",children:a.jsx(jr,{size:16})})]})})]},G.backup_id))})]})}),I&&I.totalPages>1&&a.jsxs("div",{className:"pagination",style:{marginTop:"20px"},children:[a.jsx("button",{className:"btn-secondary",onClick:()=>{T(L-1),ue(L-1)},disabled:L===1,children:"Previous"}),a.jsxs("span",{style:{margin:"0 16px",color:"#64748b"},children:["Page ",L," of ",I.totalPages]}),a.jsx("button",{className:"btn-secondary",onClick:()=>{T(L+1),ue(L+1)},disabled:L===I.totalPages,children:"Next"})]})]})})]})]})]})]})]}):a.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[a.jsx(Ae,{size:48,style:{color:"#ef4444",marginBottom:"16px"}}),a.jsx("h2",{style:{color:"#1e293b",marginBottom:"8px"},children:"Access Denied"}),a.jsx("p",{style:{color:"#64748b"},children:"You don't have permission to access system settings."})]})},DJ=({stats:e,loading:t})=>{if(t)return a.jsx("div",{className:"stats-grid",children:[...Array(4)].map((n,s)=>a.jsxs("div",{className:"stat-card skeleton",children:[a.jsx("div",{style:{height:"1rem",background:"#e5e7eb",borderRadius:"0.25rem",width:"50%",marginBottom:"0.75rem"}}),a.jsx("div",{style:{height:"2rem",background:"#e5e7eb",borderRadius:"0.25rem",width:"75%"}})]},s))});const r=[{title:"Total Emails",value:(e==null?void 0:e.total_emails)||0,icon:Qe,color:"text-blue-600",bgColor:"bg-blue-100"},{title:"Sent",value:(e==null?void 0:e.sent_count)||0,icon:Ce,color:"text-green-600",bgColor:"bg-green-100"},{title:"Failed",value:(e==null?void 0:e.failed_count)||0,icon:Rr,color:"text-red-600",bgColor:"bg-red-100"},{title:"Pending",value:(e==null?void 0:e.pending_count)||0,icon:Ee,color:"text-yellow-600",bgColor:"bg-yellow-100"}];return a.jsx("div",{className:"stats-grid",children:r.map((n,s)=>a.jsx("div",{className:"stat-card",children:a.jsxs("div",{className:"stat-card-content",children:[a.jsxs("div",{className:"stat-info",children:[a.jsx("p",{className:"stat-label",children:n.title}),a.jsx("p",{className:"stat-value",children:n.value.toLocaleString()})]}),a.jsx("div",{className:`stat-icon ${n.bgColor} ${n.color}`,children:a.jsx(n.icon,{style:{width:"2rem",height:"2rem"}})})]})},s))})},RJ=({emails:e,loading:t,pagination:r,onPageChange:n,onViewEmail:s,onRetryEmail:i,onDeleteEmail:o})=>{const[l,c]=b.useState(null),d=p=>({SENT:"status-badge sent",PENDING:"status-badge pending",FAILED:"status-badge failed"})[p]||"status-badge",u=p=>{const m=new Date,v=new Date(p),g=Math.floor((m-v)/1e3);return g<60?"Just now":g<3600?`${Math.floor(g/60)}m ago`:g<86400?`${Math.floor(g/3600)}h ago`:g<604800?`${Math.floor(g/86400)}d ago`:v.toLocaleDateString()},f=async p=>{c(p);try{await i(p)}finally{c(null)}},h=async p=>{if(window.confirm("Are you sure you want to delete this email?")){c(p);try{await o(p)}finally{c(null)}}};return t?a.jsx("div",{className:"table-wrapper",children:a.jsx("div",{className:"table-container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"RECIPIENT"}),a.jsx("th",{children:"SUBJECT"}),a.jsx("th",{children:"TYPE"}),a.jsx("th",{children:"STATUS"}),a.jsx("th",{children:"DATE"}),a.jsx("th",{style:{textAlign:"right"},children:"ACTIONS"})]})}),a.jsx("tbody",{children:[...Array(5)].map((p,m)=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("div",{style:{height:"1rem",background:"#e5e7eb",borderRadius:"0.25rem",width:"75%"}})}),a.jsx("td",{children:a.jsx("div",{style:{height:"1rem",background:"#e5e7eb",borderRadius:"0.25rem",width:"100%"}})}),a.jsx("td",{children:a.jsx("div",{style:{height:"1rem",background:"#e5e7eb",borderRadius:"0.25rem",width:"80%"}})}),a.jsx("td",{children:a.jsx("div",{style:{height:"1.5rem",background:"#e5e7eb",borderRadius:"9999px",width:"5rem"}})}),a.jsx("td",{children:a.jsx("div",{style:{height:"1rem",background:"#e5e7eb",borderRadius:"0.25rem",width:"50%"}})}),a.jsx("td",{children:a.jsxs("div",{className:"actions-cell",children:[a.jsx("div",{style:{height:"2rem",width:"2rem",background:"#e5e7eb",borderRadius:"0.25rem"}}),a.jsx("div",{style:{height:"2rem",width:"2rem",background:"#e5e7eb",borderRadius:"0.25rem"}}),a.jsx("div",{style:{height:"2rem",width:"2rem",background:"#e5e7eb",borderRadius:"0.25rem"}})]})})]},m))})]})})}):!e||e.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx(Qe,{className:"empty-icon"}),a.jsx("h3",{className:"empty-title",children:"No emails found"}),a.jsx("p",{className:"empty-description",children:"There are no emails in the queue matching your filters."})]}):a.jsxs("div",{className:"table-wrapper",children:[a.jsx("div",{className:"table-container",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"RECIPIENT"}),a.jsx("th",{children:"SUBJECT"}),a.jsx("th",{children:"TYPE"}),a.jsx("th",{children:"STATUS"}),a.jsx("th",{children:"DATE"}),a.jsx("th",{style:{textAlign:"right"},children:"ACTIONS"})]})}),a.jsx("tbody",{children:e.map(p=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{className:"recipient-cell",children:[a.jsx("span",{className:"recipient-email",children:p.recipient_email}),p.recipient_name&&a.jsx("span",{className:"recipient-name",children:p.recipient_name})]})}),a.jsx("td",{children:a.jsx("div",{className:"subject-cell",title:p.subject,children:p.subject})}),a.jsx("td",{children:p.email_type}),a.jsxs("td",{children:[a.jsx("span",{className:d(p.status),children:p.status}),p.retry_count>0&&a.jsxs("span",{className:"retry-info",children:["(",p.retry_count," retries)"]})]}),a.jsx("td",{children:u(p.created_at)}),a.jsx("td",{children:a.jsxs("div",{className:"actions-cell",children:[a.jsx("button",{onClick:()=>s(p),className:"action-btn view",title:"View Details",disabled:l===p.email_id,children:a.jsx(_t,{style:{width:"1.25rem",height:"1.25rem"}})}),p.status==="FAILED"&&a.jsx("button",{onClick:()=>f(p.email_id),className:"action-btn retry",title:"Retry",disabled:l===p.email_id,children:a.jsx(aA,{style:{width:"1.25rem",height:"1.25rem",animation:l===p.email_id?"spin 1s linear infinite":"none"}})}),a.jsx("button",{onClick:()=>h(p.email_id),className:"action-btn delete",title:"Delete",disabled:l===p.email_id,children:a.jsx(jr,{style:{width:"1.25rem",height:"1.25rem"}})})]})})]},p.email_id))})]})}),r&&r.totalPages>1&&a.jsxs("div",{className:"pagination-wrapper",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{className:"pagination-info",children:["Showing"," ",a.jsx("span",{style:{fontWeight:"500"},children:(r.currentPage-1)*r.limit+1})," ","to"," ",a.jsx("span",{style:{fontWeight:"500"},children:Math.min(r.currentPage*r.limit,r.totalRecords)})," ","of"," ",a.jsx("span",{style:{fontWeight:"500"},children:r.totalRecords})," ","results"]}),a.jsxs("div",{className:"pagination-controls",children:[a.jsx("button",{onClick:()=>n(r.currentPage-1),disabled:r.currentPage===1,className:"pagination-btn",children:"Previous"}),[...Array(r.totalPages)].map((p,m)=>{const v=m+1;return v===1||v===r.totalPages||v>=r.currentPage-1&&v<=r.currentPage+1?a.jsx("button",{onClick:()=>n(v),className:`pagination-btn ${v===r.currentPage?"active":""}`,children:v},v):v===r.currentPage-2||v===r.currentPage+2?a.jsx("span",{className:"pagination-btn",style:{cursor:"default"},children:"..."},v):null}),a.jsx("button",{onClick:()=>n(r.currentPage+1),disabled:r.currentPage===r.totalPages,className:"pagination-btn",children:"Next"})]})]})]})},LJ=({email:e,isOpen:t,onClose:r})=>!t||!e?null:a.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},onClick:r,children:a.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:"0.5rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",maxWidth:"56rem",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:n=>n.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:[a.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:"Email Details"}),a.jsx("button",{onClick:r,style:{color:"#6b7280",background:"transparent",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",transition:"color 0.2s"},onMouseOver:n=>n.currentTarget.style.color="#374151",onMouseOut:n=>n.currentTarget.style.color="#6b7280",children:a.jsx(Oe,{style:{width:"1.5rem",height:"1.5rem"}})})]}),a.jsxs("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1},children:[a.jsx("div",{style:{marginBottom:"1.5rem"},children:a.jsx("span",{style:{display:"inline-block",padding:"0.5rem 1rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"600",backgroundColor:e.status==="SENT"?"#d1fae5":e.status==="PENDING"?"#fef3c7":"#fee2e2",color:e.status==="SENT"?"#065f46":e.status==="PENDING"?"#92400e":"#991b1b"},children:e.status})}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"1.5rem"},children:[a.jsxs("div",{children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[a.jsx(Qe,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Recipient Email"]}),a.jsx("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:e.recipient_email})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[a.jsx(Ke,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Recipient Name"]}),a.jsx("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:e.recipient_name||"N/A"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[a.jsx(v_,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Email Type"]}),a.jsx("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:e.email_type})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[a.jsx(v_,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Template Used"]}),a.jsx("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:e.template_used||"N/A"})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[a.jsx(vn,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Created At"]}),a.jsx("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:new Date(e.created_at).toLocaleString()})]}),a.jsxs("div",{children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[a.jsx(vn,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Sent At"]}),a.jsx("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:e.sent_at?new Date(e.sent_at).toLocaleString():"Not sent yet"})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Retry Count"}),a.jsxs("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:[e.retry_count," / ",e.max_retries]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Priority"}),a.jsxs("p",{style:{color:"#111827",fontWeight:"500",margin:0},children:["Level ",e.priority]})]})]}),a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Subject"}),a.jsx("p",{style:{color:"#111827",fontWeight:"500",backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e5e7eb",margin:0},children:e.subject})]}),e.error_message&&a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"500",color:"#b91c1c",marginBottom:"0.5rem"},children:[a.jsx(Se,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Error Message"]}),a.jsx("p",{style:{color:"#7f1d1d",backgroundColor:"#fee2e2",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #fecaca",margin:0},children:e.error_message})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem",display:"block"},children:"Email Body Preview"}),a.jsx("div",{style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e5e7eb"},children:a.jsx("iframe",{srcDoc:e.body,style:{width:"100%",height:"24rem",border:"none",borderRadius:"0.25rem",backgroundColor:"#ffffff"},title:"Email Preview",sandbox:"allow-same-origin"})})]})]}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",padding:"1.5rem",borderTop:"1px solid #e5e7eb"},children:a.jsx("button",{onClick:r,style:{padding:"0.5rem 1.5rem",color:"#374151",backgroundColor:"#f3f4f6",border:"none",borderRadius:"0.5rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.currentTarget.style.backgroundColor="#e5e7eb",onMouseOut:n=>n.currentTarget.style.backgroundColor="#f3f4f6",children:"Close"})})]})});class IJ{async getEmailQueue(t={}){try{return(await oe.get("/email-queue",{params:t})).data}catch(r){throw console.error(" Get email queue failed:",r),r}}async getEmailQueueStats(){try{return(await oe.get("/email-queue/stats")).data}catch(t){throw console.error(" Get email stats failed:",t),t}}async getEmailById(t){try{return(await oe.get(`/email-queue/${t}`)).data}catch(r){throw console.error(" Get email details failed:",r),r}}async retryEmail(t){try{return(await oe.post(`/email-queue/${t}/retry`)).data}catch(r){throw console.error(" Retry email failed:",r),r}}async retryAllFailed(){try{return(await oe.post("/email-queue/retry-all-failed")).data}catch(t){throw console.error(" Retry all failed emails failed:",t),t}}async deleteEmail(t){try{return(await oe.delete(`/email-queue/${t}`)).data}catch(r){throw console.error(" Delete email failed:",r),r}}async clearOldEmails(t=30){try{return(await oe.delete("/email-queue/clear-old",{params:{days:t}})).data}catch(r){throw console.error(" Clear old emails failed:",r),r}}}const Ks=new IJ,zJ=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,i]=b.useState(!0),[o,l]=b.useState(!0),[c,d]=b.useState(null),[u,f]=b.useState(!1),[h,p]=b.useState(!1),[m,v]=b.useState({currentPage:1,limit:20,totalRecords:0,totalPages:0}),[g,y]=b.useState({status:"",email_type:"",search:"",start_date:"",end_date:""}),x=3e4,w=b.useCallback(async()=>{try{i(!0);const M={page:m.currentPage,limit:m.limit,...g};Object.keys(M).forEach(z=>{(M[z]===""||M[z]===null)&&delete M[z]});const O=await Ks.getEmailQueue(M);O.success&&(t(O.data.emails),v(O.data.pagination))}catch(M){console.error("Failed to fetch email queue:",M)}finally{i(!1)}},[m.currentPage,m.limit,g]),j=b.useCallback(async()=>{try{l(!0);const M=await Ks.getEmailQueueStats();M.success&&n(M.data.overview)}catch(M){console.error("Failed to fetch stats:",M)}finally{l(!1)}},[]);b.useEffect(()=>{w(),j()},[w,j]),b.useEffect(()=>{const M=setInterval(()=>{w(),j()},x);return()=>clearInterval(M)},[w,j]);const N=()=>{w(),j()},S=M=>{v(O=>({...O,currentPage:M}))},_=(M,O)=>{y(z=>({...z,[M]:O})),v(z=>({...z,currentPage:1}))},k=M=>{M.preventDefault(),w()},P=async M=>{try{const O=await Ks.getEmailById(M.email_id);O.success&&(d(O.data),f(!0))}catch(O){console.error("Failed to fetch email details:",O),alert("Failed to load email details")}},E=async M=>{try{(await Ks.retryEmail(M)).success&&(alert("Email retry initiated successfully"),w(),j())}catch(O){console.error("Failed to retry email:",O),alert("Failed to retry email")}},C=async M=>{try{(await Ks.deleteEmail(M)).success&&(alert("Email deleted successfully"),w(),j())}catch(O){console.error("Failed to delete email:",O),alert("Failed to delete email")}},A=async()=>{if(window.confirm("Are you sure you want to retry all failed emails?"))try{p(!0);const M=await Ks.retryAllFailed();M.success&&(alert(`Successfully retried ${M.data.retried} email(s)`),w(),j())}catch(M){console.error("Failed to retry all failed:",M),alert("Failed to retry failed emails")}finally{p(!1)}},D=async()=>{const M=prompt("Delete emails older than how many days?","30");if(M&&window.confirm(`Are you sure you want to delete emails older than ${M} days?`))try{p(!0);const O=await Ks.clearOldEmails(parseInt(M));O.success&&(alert(`Successfully deleted ${O.data.deletedCount} email(s)`),w(),j())}catch(O){console.error("Failed to clear old emails:",O),alert("Failed to clear old emails")}finally{p(!1)}};return a.jsx("div",{className:"email-queue-page",children:a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{className:"page-title",children:"Email Queue Management"}),a.jsx("p",{className:"page-description",children:"Monitor and manage email notifications"})]}),a.jsx(DJ,{stats:r,loading:o}),a.jsxs("div",{className:"filters-section",children:[a.jsxs("div",{className:"filters-row",children:[a.jsxs("form",{onSubmit:k,className:"search-wrapper",children:[a.jsx(aa,{className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search by email or subject...",value:g.search,onChange:M=>_("search",M.target.value),className:"search-input"})]}),a.jsxs("select",{value:g.status,onChange:M=>_("status",M.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"SENT",children:"Sent"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"FAILED",children:"Failed"})]}),a.jsxs("select",{value:g.email_type,onChange:M=>_("email_type",M.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"TICKET_CREATED",children:"Ticket Created"}),a.jsx("option",{value:"TICKET_ASSIGNED",children:"Ticket Assigned"}),a.jsx("option",{value:"TICKET_STATUS_CHANGED",children:"Status Changed"}),a.jsx("option",{value:"TICKET_COMMENT_ADDED",children:"Comment Added"})]}),a.jsxs("button",{onClick:N,disabled:s,className:"refresh-btn",children:[a.jsx(ut,{className:s?"icon-spin":""}),"Refresh"]})]}),a.jsxs("div",{className:"bulk-actions",children:[a.jsxs("button",{onClick:A,disabled:h||(r==null?void 0:r.failed_count)===0,className:"bulk-action-btn retry-all",children:[a.jsx(aA,{className:h?"icon-spin":""}),"Retry All Failed (",(r==null?void 0:r.failed_count)||0,")"]}),a.jsxs("button",{onClick:D,disabled:h,className:"bulk-action-btn clear-old",children:[a.jsx(jr,{}),"Clear Old Emails"]})]})]}),a.jsx(RJ,{emails:e,loading:s,pagination:m,onPageChange:S,onViewEmail:P,onRetryEmail:E,onDeleteEmail:C}),a.jsx(LJ,{email:c,isOpen:u,onClose:()=>{f(!1),d(null)}})]})})};class $J{async getAllTemplates(t={}){try{return(await oe.get("/email-templates",{params:t})).data}catch(r){throw console.error(" Get all templates failed:",r),r}}async getTemplateById(t){try{return(await oe.get(`/email-templates/${t}`)).data}catch(r){throw console.error(" Get template by ID failed:",r),r}}async createTemplate(t){try{return(await oe.post("/email-templates",t)).data}catch(r){throw console.error(" Create template failed:",r),r}}async updateTemplate(t,r){try{return(await oe.put(`/email-templates/${t}`,r)).data}catch(n){throw console.error(" Update template failed:",n),n}}async deleteTemplate(t){try{return(await oe.delete(`/email-templates/${t}`)).data}catch(r){throw console.error(" Delete template failed:",r),r}}async previewTemplate(t,r=null){try{return(await oe.post(`/email-templates/${t}/preview`,{sampleData:r})).data}catch(n){throw console.error(" Preview template failed:",n),n}}async toggleTemplateStatus(t){try{return(await oe.patch(`/email-templates/${t}/toggle`)).data}catch(r){throw console.error(" Toggle template status failed:",r),r}}}const Ii=new $J;function FJ(){this.__data__=[],this.size=0}var BJ=FJ;function qJ(e,t){return e===t||e!==e&&t!==t}var D5=qJ,UJ=D5;function HJ(e,t){for(var r=e.length;r--;)if(UJ(e[r][0],t))return r;return-1}var np=HJ,WJ=np,KJ=Array.prototype,VJ=KJ.splice;function GJ(e){var t=this.__data__,r=WJ(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():VJ.call(t,r,1),--this.size,!0}var YJ=GJ,XJ=np;function ZJ(e){var t=this.__data__,r=XJ(t,e);return r<0?void 0:t[r][1]}var QJ=ZJ,JJ=np;function eee(e){return JJ(this.__data__,e)>-1}var tee=eee,ree=np;function nee(e,t){var r=this.__data__,n=ree(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var aee=nee,see=BJ,iee=YJ,oee=QJ,lee=tee,cee=aee;function Xo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xo.prototype.clear=see;Xo.prototype.delete=iee;Xo.prototype.get=oee;Xo.prototype.has=lee;Xo.prototype.set=cee;var ap=Xo,uee=ap;function dee(){this.__data__=new uee,this.size=0}var fee=dee;function hee(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var pee=hee;function mee(e){return this.__data__.get(e)}var vee=mee;function gee(e){return this.__data__.has(e)}var yee=gee,xee=typeof Wr=="object"&&Wr&&Wr.Object===Object&&Wr,R5=xee,bee=R5,jee=typeof self=="object"&&self&&self.Object===Object&&self,wee=bee||jee||Function("return this")(),ts=wee,Nee=ts,_ee=Nee.Symbol,K0=_ee,h2=K0,L5=Object.prototype,kee=L5.hasOwnProperty,See=L5.toString,Al=h2?h2.toStringTag:void 0;function Eee(e){var t=kee.call(e,Al),r=e[Al];try{e[Al]=void 0;var n=!0}catch{}var s=See.call(e);return n&&(t?e[Al]=r:delete e[Al]),s}var Cee=Eee,Pee=Object.prototype,Aee=Pee.toString;function Oee(e){return Aee.call(e)}var Tee=Oee,p2=K0,Mee=Cee,Dee=Tee,Ree="[object Null]",Lee="[object Undefined]",m2=p2?p2.toStringTag:void 0;function Iee(e){return e==null?e===void 0?Lee:Ree:m2&&m2 in Object(e)?Mee(e):Dee(e)}var sp=Iee;function zee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var I5=zee,$ee=sp,Fee=I5,Bee="[object AsyncFunction]",qee="[object Function]",Uee="[object GeneratorFunction]",Hee="[object Proxy]";function Wee(e){if(!Fee(e))return!1;var t=$ee(e);return t==qee||t==Uee||t==Bee||t==Hee}var z5=Wee,Kee=ts,Vee=Kee["__core-js_shared__"],Gee=Vee,xm=Gee,v2=function(){var e=/[^.]+$/.exec(xm&&xm.keys&&xm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Yee(e){return!!v2&&v2 in e}var Xee=Yee,Zee=Function.prototype,Qee=Zee.toString;function Jee(e){if(e!=null){try{return Qee.call(e)}catch{}try{return e+""}catch{}}return""}var $5=Jee,ete=z5,tte=Xee,rte=I5,nte=$5,ate=/[\\^$.*+?()[\]{}|]/g,ste=/^\[object .+?Constructor\]$/,ite=Function.prototype,ote=Object.prototype,lte=ite.toString,cte=ote.hasOwnProperty,ute=RegExp("^"+lte.call(cte).replace(ate,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dte(e){if(!rte(e)||tte(e))return!1;var t=ete(e)?ute:ste;return t.test(nte(e))}var fte=dte;function hte(e,t){return e==null?void 0:e[t]}var pte=hte,mte=fte,vte=pte;function gte(e,t){var r=vte(e,t);return mte(r)?r:void 0}var Zo=gte,yte=Zo,xte=ts,bte=yte(xte,"Map"),V0=bte,jte=Zo,wte=jte(Object,"create"),ip=wte,g2=ip;function Nte(){this.__data__=g2?g2(null):{},this.size=0}var _te=Nte;function kte(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ste=kte,Ete=ip,Cte="__lodash_hash_undefined__",Pte=Object.prototype,Ate=Pte.hasOwnProperty;function Ote(e){var t=this.__data__;if(Ete){var r=t[e];return r===Cte?void 0:r}return Ate.call(t,e)?t[e]:void 0}var Tte=Ote,Mte=ip,Dte=Object.prototype,Rte=Dte.hasOwnProperty;function Lte(e){var t=this.__data__;return Mte?t[e]!==void 0:Rte.call(t,e)}var Ite=Lte,zte=ip,$te="__lodash_hash_undefined__";function Fte(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zte&&t===void 0?$te:t,this}var Bte=Fte,qte=_te,Ute=Ste,Hte=Tte,Wte=Ite,Kte=Bte;function Qo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qo.prototype.clear=qte;Qo.prototype.delete=Ute;Qo.prototype.get=Hte;Qo.prototype.has=Wte;Qo.prototype.set=Kte;var Vte=Qo,y2=Vte,Gte=ap,Yte=V0;function Xte(){this.size=0,this.__data__={hash:new y2,map:new(Yte||Gte),string:new y2}}var Zte=Xte;function Qte(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Jte=Qte,ere=Jte;function tre(e,t){var r=e.__data__;return ere(t)?r[typeof t=="string"?"string":"hash"]:r.map}var op=tre,rre=op;function nre(e){var t=rre(this,e).delete(e);return this.size-=t?1:0,t}var are=nre,sre=op;function ire(e){return sre(this,e).get(e)}var ore=ire,lre=op;function cre(e){return lre(this,e).has(e)}var ure=cre,dre=op;function fre(e,t){var r=dre(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hre=fre,pre=Zte,mre=are,vre=ore,gre=ure,yre=hre;function Jo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jo.prototype.clear=pre;Jo.prototype.delete=mre;Jo.prototype.get=vre;Jo.prototype.has=gre;Jo.prototype.set=yre;var F5=Jo,xre=ap,bre=V0,jre=F5,wre=200;function Nre(e,t){var r=this.__data__;if(r instanceof xre){var n=r.__data__;if(!bre||n.length<wre-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jre(n)}return r.set(e,t),this.size=r.size,this}var _re=Nre,kre=ap,Sre=fee,Ere=pee,Cre=vee,Pre=yee,Are=_re;function el(e){var t=this.__data__=new kre(e);this.size=t.size}el.prototype.clear=Sre;el.prototype.delete=Ere;el.prototype.get=Cre;el.prototype.has=Pre;el.prototype.set=Are;var Ore=el,Tre="__lodash_hash_undefined__";function Mre(e){return this.__data__.set(e,Tre),this}var Dre=Mre;function Rre(e){return this.__data__.has(e)}var Lre=Rre,Ire=F5,zre=Dre,$re=Lre;function _f(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ire;++t<r;)this.add(e[t])}_f.prototype.add=_f.prototype.push=zre;_f.prototype.has=$re;var Fre=_f;function Bre(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var qre=Bre;function Ure(e,t){return e.has(t)}var Hre=Ure,Wre=Fre,Kre=qre,Vre=Hre,Gre=1,Yre=2;function Xre(e,t,r,n,s,i){var o=r&Gre,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,p=r&Yre?new Wre:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var m=e[f],v=t[f];if(n)var g=o?n(v,m,f,t,e,i):n(m,v,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!Kre(t,function(y,x){if(!Vre(p,x)&&(m===y||s(m,y,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(m===v||s(m,v,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var B5=Xre,Zre=ts,Qre=Zre.Uint8Array,Jre=Qre;function ene(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var tne=ene;function rne(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var nne=rne,x2=K0,b2=Jre,ane=D5,sne=B5,ine=tne,one=nne,lne=1,cne=2,une="[object Boolean]",dne="[object Date]",fne="[object Error]",hne="[object Map]",pne="[object Number]",mne="[object RegExp]",vne="[object Set]",gne="[object String]",yne="[object Symbol]",xne="[object ArrayBuffer]",bne="[object DataView]",j2=x2?x2.prototype:void 0,bm=j2?j2.valueOf:void 0;function jne(e,t,r,n,s,i,o){switch(r){case bne:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xne:return!(e.byteLength!=t.byteLength||!i(new b2(e),new b2(t)));case une:case dne:case pne:return ane(+e,+t);case fne:return e.name==t.name&&e.message==t.message;case mne:case gne:return e==t+"";case hne:var l=ine;case vne:var c=n&lne;if(l||(l=one),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=cne,o.set(e,t);var u=sne(l(e),l(t),n,s,i,o);return o.delete(e),u;case yne:if(bm)return bm.call(e)==bm.call(t)}return!1}var wne=jne;function Nne(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var _ne=Nne,kne=Array.isArray,G0=kne,Sne=_ne,Ene=G0;function Cne(e,t,r){var n=t(e);return Ene(e)?n:Sne(n,r(e))}var Pne=Cne;function Ane(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var One=Ane;function Tne(){return[]}var Mne=Tne,Dne=One,Rne=Mne,Lne=Object.prototype,Ine=Lne.propertyIsEnumerable,w2=Object.getOwnPropertySymbols,zne=w2?function(e){return e==null?[]:(e=Object(e),Dne(w2(e),function(t){return Ine.call(e,t)}))}:Rne,$ne=zne;function Fne(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Bne=Fne;function qne(e){return e!=null&&typeof e=="object"}var lp=qne,Une=sp,Hne=lp,Wne="[object Arguments]";function Kne(e){return Hne(e)&&Une(e)==Wne}var Vne=Kne,N2=Vne,Gne=lp,q5=Object.prototype,Yne=q5.hasOwnProperty,Xne=q5.propertyIsEnumerable,Zne=N2(function(){return arguments}())?N2:function(e){return Gne(e)&&Yne.call(e,"callee")&&!Xne.call(e,"callee")},Qne=Zne,kf={exports:{}};function Jne(){return!1}var eae=Jne;kf.exports;(function(e,t){var r=ts,n=eae,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(kf,kf.exports);var U5=kf.exports,tae=9007199254740991,rae=/^(?:0|[1-9]\d*)$/;function nae(e,t){var r=typeof e;return t=t??tae,!!t&&(r=="number"||r!="symbol"&&rae.test(e))&&e>-1&&e%1==0&&e<t}var aae=nae,sae=9007199254740991;function iae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sae}var H5=iae,oae=sp,lae=H5,cae=lp,uae="[object Arguments]",dae="[object Array]",fae="[object Boolean]",hae="[object Date]",pae="[object Error]",mae="[object Function]",vae="[object Map]",gae="[object Number]",yae="[object Object]",xae="[object RegExp]",bae="[object Set]",jae="[object String]",wae="[object WeakMap]",Nae="[object ArrayBuffer]",_ae="[object DataView]",kae="[object Float32Array]",Sae="[object Float64Array]",Eae="[object Int8Array]",Cae="[object Int16Array]",Pae="[object Int32Array]",Aae="[object Uint8Array]",Oae="[object Uint8ClampedArray]",Tae="[object Uint16Array]",Mae="[object Uint32Array]",tt={};tt[kae]=tt[Sae]=tt[Eae]=tt[Cae]=tt[Pae]=tt[Aae]=tt[Oae]=tt[Tae]=tt[Mae]=!0;tt[uae]=tt[dae]=tt[Nae]=tt[fae]=tt[_ae]=tt[hae]=tt[pae]=tt[mae]=tt[vae]=tt[gae]=tt[yae]=tt[xae]=tt[bae]=tt[jae]=tt[wae]=!1;function Dae(e){return cae(e)&&lae(e.length)&&!!tt[oae(e)]}var Rae=Dae;function Lae(e){return function(t){return e(t)}}var Iae=Lae,Sf={exports:{}};Sf.exports;(function(e,t){var r=R5,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Sf,Sf.exports);var zae=Sf.exports,$ae=Rae,Fae=Iae,_2=zae,k2=_2&&_2.isTypedArray,Bae=k2?Fae(k2):$ae,W5=Bae,qae=Bne,Uae=Qne,Hae=G0,Wae=U5,Kae=aae,Vae=W5,Gae=Object.prototype,Yae=Gae.hasOwnProperty;function Xae(e,t){var r=Hae(e),n=!r&&Uae(e),s=!r&&!n&&Wae(e),i=!r&&!n&&!s&&Vae(e),o=r||n||s||i,l=o?qae(e.length,String):[],c=l.length;for(var d in e)(t||Yae.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Kae(d,c)))&&l.push(d);return l}var Zae=Xae,Qae=Object.prototype;function Jae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Qae;return e===r}var ese=Jae;function tse(e,t){return function(r){return e(t(r))}}var rse=tse,nse=rse,ase=nse(Object.keys,Object),sse=ase,ise=ese,ose=sse,lse=Object.prototype,cse=lse.hasOwnProperty;function use(e){if(!ise(e))return ose(e);var t=[];for(var r in Object(e))cse.call(e,r)&&r!="constructor"&&t.push(r);return t}var dse=use,fse=z5,hse=H5;function pse(e){return e!=null&&hse(e.length)&&!fse(e)}var mse=pse,vse=Zae,gse=dse,yse=mse;function xse(e){return yse(e)?vse(e):gse(e)}var bse=xse,jse=Pne,wse=$ne,Nse=bse;function _se(e){return jse(e,Nse,wse)}var kse=_se,S2=kse,Sse=1,Ese=Object.prototype,Cse=Ese.hasOwnProperty;function Pse(e,t,r,n,s,i){var o=r&Sse,l=S2(e),c=l.length,d=S2(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Cse.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var v=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var y=e[h],x=t[h];if(n)var w=o?n(x,y,h,t,e,i):n(y,x,h,e,t,i);if(!(w===void 0?y===x||s(y,x,r,n,i):w)){v=!1;break}g||(g=h=="constructor")}if(v&&!g){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(v=!1)}return i.delete(e),i.delete(t),v}var Ase=Pse,Ose=Zo,Tse=ts,Mse=Ose(Tse,"DataView"),Dse=Mse,Rse=Zo,Lse=ts,Ise=Rse(Lse,"Promise"),zse=Ise,$se=Zo,Fse=ts,Bse=$se(Fse,"Set"),qse=Bse,Use=Zo,Hse=ts,Wse=Use(Hse,"WeakMap"),Kse=Wse,Sg=Dse,Eg=V0,Cg=zse,Pg=qse,Ag=Kse,K5=sp,tl=$5,E2="[object Map]",Vse="[object Object]",C2="[object Promise]",P2="[object Set]",A2="[object WeakMap]",O2="[object DataView]",Gse=tl(Sg),Yse=tl(Eg),Xse=tl(Cg),Zse=tl(Pg),Qse=tl(Ag),Qs=K5;(Sg&&Qs(new Sg(new ArrayBuffer(1)))!=O2||Eg&&Qs(new Eg)!=E2||Cg&&Qs(Cg.resolve())!=C2||Pg&&Qs(new Pg)!=P2||Ag&&Qs(new Ag)!=A2)&&(Qs=function(e){var t=K5(e),r=t==Vse?e.constructor:void 0,n=r?tl(r):"";if(n)switch(n){case Gse:return O2;case Yse:return E2;case Xse:return C2;case Zse:return P2;case Qse:return A2}return t});var Jse=Qs,jm=Ore,eie=B5,tie=wne,rie=Ase,T2=Jse,M2=G0,D2=U5,nie=W5,aie=1,R2="[object Arguments]",L2="[object Array]",Bu="[object Object]",sie=Object.prototype,I2=sie.hasOwnProperty;function iie(e,t,r,n,s,i){var o=M2(e),l=M2(t),c=o?L2:T2(e),d=l?L2:T2(t);c=c==R2?Bu:c,d=d==R2?Bu:d;var u=c==Bu,f=d==Bu,h=c==d;if(h&&D2(e)){if(!D2(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new jm),o||nie(e)?eie(e,t,r,n,s,i):tie(e,t,c,r,n,s,i);if(!(r&aie)){var p=u&&I2.call(e,"__wrapped__"),m=f&&I2.call(t,"__wrapped__");if(p||m){var v=p?e.value():e,g=m?t.value():t;return i||(i=new jm),s(v,g,r,n,i)}}return h?(i||(i=new jm),rie(e,t,r,n,s,i)):!1}var oie=iie,lie=oie,z2=lp;function V5(e,t,r,n,s){return e===t?!0:e==null||t==null||!z2(e)&&!z2(t)?e!==e&&t!==t:lie(e,t,r,n,V5,s)}var cie=V5,uie=cie;function die(e,t){return uie(e,t)}var fie=die,G5={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,s){e.exports=s()})(typeof self<"u"?self:Wr,function(){return function(r){var n={};function s(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=r,s.c=n,s.d=function(i,o,l){s.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:l})},s.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return s.d(o,"a",o),o},s.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},s.p="",s(s.s=109)}([function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(17),o=s(18),l=s(19),c=s(45),d=s(46),u=s(47),f=s(48),h=s(49),p=s(12),m=s(32),v=s(33),g=s(31),y=s(1),x={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:i.default,Format:o.default,Leaf:l.default,Embed:f.default,Scroll:c.default,Block:u.default,Inline:d.default,Text:h.default,Attributor:{Attribute:p.default,Class:m.default,Style:v.default,Store:g.default}};n.default=x},function(r,n,s){var i=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var w in x)x.hasOwnProperty(w)&&(y[w]=x[w])};return function(y,x){g(y,x);function w(){this.constructor=y}y.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(g){i(y,g);function y(x){var w=this;return x="[Parchment] "+x,w=g.call(this,x)||this,w.message=x,w.name=w.constructor.name,w}return y}(Error);n.ParchmentError=o;var l={},c={},d={},u={};n.DATA_KEY="__blot";var f;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function h(g,y){var x=m(g);if(x==null)throw new o("Unable to create "+g+" blot");var w=x,j=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:w.create(y);return new w(j,y)}n.create=h;function p(g,y){return y===void 0&&(y=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:y?p(g.parentNode,y):null}n.find=p;function m(g,y){y===void 0&&(y=f.ANY);var x;if(typeof g=="string")x=u[g]||l[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)x=u.text;else if(typeof g=="number")g&f.LEVEL&f.BLOCK?x=u.block:g&f.LEVEL&f.INLINE&&(x=u.inline);else if(g instanceof HTMLElement){var w=(g.getAttribute("class")||"").split(/\s+/);for(var j in w)if(x=c[w[j]],x)break;x=x||d[g.tagName]}return x==null?null:y&f.LEVEL&x.scope&&y&f.TYPE&x.scope?x:null}n.query=m;function v(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(j){return v(j)});var x=g[0];if(typeof x.blotName!="string"&&typeof x.attrName!="string")throw new o("Invalid definition");if(x.blotName==="abstract")throw new o("Cannot register abstract class");if(u[x.blotName||x.attrName]=x,typeof x.keyName=="string")l[x.keyName]=x;else if(x.className!=null&&(c[x.className]=x),x.tagName!=null){Array.isArray(x.tagName)?x.tagName=x.tagName.map(function(j){return j.toUpperCase()}):x.tagName=x.tagName.toUpperCase();var w=Array.isArray(x.tagName)?x.tagName:[x.tagName];w.forEach(function(j){(d[j]==null||x.className==null)&&(d[j]=x)})}return x}n.register=v},function(r,n,s){var i=s(51),o=s(11),l=s(3),c=s(20),d="\0",u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=l(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(m){var v=f(m)?h:p;v.push(m)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+c.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+c.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],m=c.iterator(this.ops),v=0;v<h&&m.hasNext();){var g;v<f?g=m.next(f-v):(g=m.next(h-v),p.push(g)),v+=c.length(g)}return new u(p)},u.prototype.compose=function(f){var h=c.iterator(this.ops),p=c.iterator(f.ops),m=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var g=v.retain;h.peekType()==="insert"&&h.peekLength()<=g;)g-=h.peekLength(),m.push(h.next());v.retain-g>0&&p.next(v.retain-g)}for(var y=new u(m);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(h.peekType()==="delete")y.push(h.next());else{var x=Math.min(h.peekLength(),p.peekLength()),w=h.next(x),j=p.next(x);if(typeof j.retain=="number"){var N={};typeof w.retain=="number"?N.retain=x:N.insert=w.insert;var S=c.attributes.compose(w.attributes,j.attributes,typeof w.retain=="number");if(S&&(N.attributes=S),y.push(N),!p.hasNext()&&o(y.ops[y.ops.length-1],N)){var _=new u(h.rest());return y.concat(_).chop()}}else typeof j.delete=="number"&&typeof w.retain=="number"&&y.push(j)}return y.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(x){return x.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:d;var j=x===f?"on":"with";throw new Error("diff() called "+j+" non-document")}).join("")}),m=new u,v=i(p[0],p[1],h),g=c.iterator(this.ops),y=c.iterator(f.ops);return v.forEach(function(x){for(var w=x[1].length;w>0;){var j=0;switch(x[0]){case i.INSERT:j=Math.min(y.peekLength(),w),m.push(y.next(j));break;case i.DELETE:j=Math.min(w,g.peekLength()),g.next(j),m.delete(j);break;case i.EQUAL:j=Math.min(g.peekLength(),y.peekLength(),w);var N=g.next(j),S=y.next(j);o(N.insert,S.insert)?m.retain(j,c.attributes.diff(N.attributes,S.attributes)):m.push(S).delete(j);break}w-=j}}),m.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=c.iterator(this.ops),m=new u,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),y=c.length(g)-p.peekLength(),x=typeof g.insert=="string"?g.insert.indexOf(h,y)-y:-1;if(x<0)m.push(p.next());else if(x>0)m.push(p.next(x));else{if(f(m,p.next(1).attributes||{},v)===!1)return;v+=1,m=new u}}m.length()>0&&f(m,{},v)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=c.iterator(this.ops),m=c.iterator(f.ops),v=new u;p.hasNext()||m.hasNext();)if(p.peekType()==="insert"&&(h||m.peekType()!=="insert"))v.retain(c.length(p.next()));else if(m.peekType()==="insert")v.push(m.next());else{var g=Math.min(p.peekLength(),m.peekLength()),y=p.next(g),x=m.next(g);if(y.delete)continue;x.delete?v.push(x):v.retain(g,c.attributes.transform(y.attributes,x.attributes,h))}return v.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=c.iterator(this.ops),m=0;p.hasNext()&&m<=f;){var v=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){f-=Math.min(v,f-m);continue}else g==="insert"&&(m<f||!h)&&(f+=v);m+=v}return f},r.exports=u},function(r,n){var s=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):i.call(p)==="[object Array]"},d=function(p){if(!p||i.call(p)!=="[object Object]")return!1;var m=s.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&s.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!m&&!v)return!1;var g;for(g in p);return typeof g>"u"||s.call(p,g)},u=function(p,m){o&&m.name==="__proto__"?o(p,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):p[m.name]=m.newValue},f=function(p,m){if(m==="__proto__")if(s.call(p,m)){if(l)return l(p,m).value}else return;return p[m]};r.exports=function h(){var p,m,v,g,y,x,w=arguments[0],j=1,N=arguments.length,S=!1;for(typeof w=="boolean"&&(S=w,w=arguments[1]||{},j=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});j<N;++j)if(p=arguments[j],p!=null)for(m in p)v=f(w,m),g=f(p,m),w!==g&&(S&&g&&(d(g)||(y=c(g)))?(y?(y=!1,x=v&&c(v)?v:[]):x=v&&d(v)?v:{},u(w,{name:m,newValue:h(S,x,g)})):typeof g<"u"&&u(w,{name:m,newValue:g}));return w}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var i=function(){function C(A,D){for(var M=0;M<D.length;M++){var O=D[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,D,M){return D&&C(A.prototype,D),M&&C(A,M),A}}(),o=function C(A,D,M){A===null&&(A=Function.prototype);var O=Object.getOwnPropertyDescriptor(A,D);if(O===void 0){var z=Object.getPrototypeOf(A);return z===null?void 0:C(z,D,M)}else{if("value"in O)return O.value;var $=O.get;return $===void 0?void 0:$.call(M)}},l=s(3),c=w(l),d=s(2),u=w(d),f=s(0),h=w(f),p=s(16),m=w(p),v=s(6),g=w(v),y=s(7),x=w(y);function w(C){return C&&C.__esModule?C:{default:C}}function j(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function N(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function S(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var _=1,k=function(C){S(A,C);function A(){return j(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return i(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,O){var z=h.default.query(M,h.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,O)}},{key:"formatAt",value:function(M,O,z,$){this.format(z,$)}},{key:"insertAt",value:function(M,O,z){if(typeof O=="string"&&O.endsWith(`
`)){var $=h.default.create(P.blotName);this.parent.insertBefore($,M===0?this:this.next),$.insertAt(0,O.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,M,O,z)}}]),A}(h.default.Embed);k.scope=h.default.Scope.BLOCK_BLOT;var P=function(C){S(A,C);function A(D){j(this,A);var M=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D));return M.cache={},M}return i(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(M,O){return O.length()===0?M:M.insert(O.value(),E(O))},new u.default).insert(`
`,E(this))),this.cache.delta}},{key:"deleteAt",value:function(M,O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,M,O),this.cache={}}},{key:"formatAt",value:function(M,O,z,$){O<=0||(h.default.query(z,h.default.Scope.BLOCK)?M+O===this.length()&&this.format(z,$):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,M,Math.min(O,this.length()-M-1),z,$),this.cache={})}},{key:"insertAt",value:function(M,O,z){if(z!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,M,O,z);if(O.length!==0){var $=O.split(`
`),q=$.shift();q.length>0&&(M<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),q):this.children.tail.insertAt(this.children.tail.length(),q),this.cache={});var R=this;$.reduce(function(L,T){return R=R.split(L,!0),R.insertAt(0,T),T.length},M+q.length)}}},{key:"insertBefore",value:function(M,O){var z=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,M,O),z instanceof m.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+_),this.cache.length}},{key:"moveChildren",value:function(M,O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,M,O),this.cache={}}},{key:"optimize",value:function(M){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O&&(M===0||M>=this.length()-_)){var z=this.clone();return M===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var $=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,M,O);return this.cache={},$}}}]),A}(h.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[g.default,h.default.Embed,x.default];function E(C){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C==null||(typeof C.formats=="function"&&(A=(0,c.default)(A,C.formats())),C.parent==null||C.parent.blotName=="scroll"||C.parent.statics.scope!==C.statics.scope)?A:E(C.parent,A)}n.bubbleFormats=E,n.BlockEmbed=k,n.default=P},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},o=function(){function R(L,T){var I=[],U=!0,K=!1,H=void 0;try{for(var B=L[Symbol.iterator](),F;!(U=(F=B.next()).done)&&(I.push(F.value),!(T&&I.length===T));U=!0);}catch(V){K=!0,H=V}finally{try{!U&&B.return&&B.return()}finally{if(K)throw H}}return I}return function(L,T){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return R(L,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function R(L,T){for(var I=0;I<T.length;I++){var U=T[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}}return function(L,T,I){return T&&R(L.prototype,T),I&&R(L,I),L}}();s(50);var c=s(2),d=E(c),u=s(14),f=E(u),h=s(8),p=E(h),m=s(9),v=E(m),g=s(0),y=E(g),x=s(15),w=E(x),j=s(3),N=E(j),S=s(10),_=E(S),k=s(34),P=E(k);function E(R){return R&&R.__esModule?R:{default:R}}function C(R,L,T){return L in R?Object.defineProperty(R,L,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[L]=T,R}function A(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}var D=(0,_.default)("quill"),M=function(){l(R,null,[{key:"debug",value:function(T){T===!0&&(T="log"),_.default.level(T)}},{key:"find",value:function(T){return T.__quill||y.default.find(T)}},{key:"import",value:function(T){return this.imports[T]==null&&D.error("Cannot import "+T+". Are you sure it was registered?"),this.imports[T]}},{key:"register",value:function(T,I){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof T!="string"){var H=T.attrName||T.blotName;typeof H=="string"?this.register("formats/"+H,T,I):Object.keys(T).forEach(function(B){U.register(B,T[B],I)})}else this.imports[T]!=null&&!K&&D.warn("Overwriting "+T+" with",I),this.imports[T]=I,(T.startsWith("blots/")||T.startsWith("formats/"))&&I.blotName!=="abstract"?y.default.register(I):T.startsWith("modules")&&typeof I.register=="function"&&I.register()}}]);function R(L){var T=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,R),this.options=O(L,I),this.container=this.options.container,this.container==null)return D.error("Invalid Quill container",L);this.options.debug&&R.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(H){H===p.default.events.TEXT_CHANGE&&T.root.classList.toggle("ql-blank",T.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(H,B){var F=T.selection.lastRange,V=F&&F.length===0?F.index:void 0;z.call(T,function(){return T.editor.update(null,B,V)},H)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(R,[{key:"addContainer",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof T=="string"){var U=T;T=document.createElement("div"),T.classList.add(U)}return this.container.insertBefore(T,I),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,I,U){var K=this,H=$(T,I,U),B=o(H,4);return T=B[0],I=B[1],U=B[3],z.call(this,function(){return K.editor.deleteText(T,I)},U,T,-1*I)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,I){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return z.call(this,function(){var H=U.getSelection(!0),B=new d.default;if(H==null)return B;if(y.default.query(T,y.default.Scope.BLOCK))B=U.editor.formatLine(H.index,H.length,C({},T,I));else{if(H.length===0)return U.selection.format(T,I),B;B=U.editor.formatText(H.index,H.length,C({},T,I))}return U.setSelection(H,p.default.sources.SILENT),B},K)}},{key:"formatLine",value:function(T,I,U,K,H){var B=this,F=void 0,V=$(T,I,U,K,H),W=o(V,4);return T=W[0],I=W[1],F=W[2],H=W[3],z.call(this,function(){return B.editor.formatLine(T,I,F)},H,T,0)}},{key:"formatText",value:function(T,I,U,K,H){var B=this,F=void 0,V=$(T,I,U,K,H),W=o(V,4);return T=W[0],I=W[1],F=W[2],H=W[3],z.call(this,function(){return B.editor.formatText(T,I,F)},H,T,0)}},{key:"getBounds",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof T=="number"?U=this.selection.getBounds(T,I):U=this.selection.getBounds(T.index,T.length);var K=this.container.getBoundingClientRect();return{bottom:U.bottom-K.top,height:U.height,left:U.left-K.left,right:U.right-K.left,top:U.top-K.top,width:U.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,U=$(T,I),K=o(U,2);return T=K[0],I=K[1],this.editor.getContents(T,I)}},{key:"getFormat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof T=="number"?this.editor.getFormat(T,I):this.editor.getFormat(T.index,T.length)}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof T!="number"?this.scroll.lines(T.index,T.length):this.scroll.lines(T,I)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,U=$(T,I),K=o(U,2);return T=K[0],I=K[1],this.editor.getText(T,I)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,I,U){var K=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R.sources.API;return z.call(this,function(){return K.editor.insertEmbed(T,I,U)},H,T)}},{key:"insertText",value:function(T,I,U,K,H){var B=this,F=void 0,V=$(T,0,U,K,H),W=o(V,4);return T=W[0],F=W[2],H=W[3],z.call(this,function(){return B.editor.insertText(T,I,F)},H,T,I.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(T,I,U){this.clipboard.dangerouslyPasteHTML(T,I,U)}},{key:"removeFormat",value:function(T,I,U){var K=this,H=$(T,I,U),B=o(H,4);return T=B[0],I=B[1],U=B[3],z.call(this,function(){return K.editor.removeFormat(T,I)},U,T)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var I=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return z.call(this,function(){T=new d.default(T);var K=I.getLength(),H=I.editor.deleteText(0,K),B=I.editor.applyDelta(T),F=B.ops[B.ops.length-1];F!=null&&typeof F.insert=="string"&&F.insert[F.insert.length-1]===`
`&&(I.editor.deleteText(I.getLength()-1,1),B.delete(1));var V=H.compose(B);return V},U)}},{key:"setSelection",value:function(T,I,U){if(T==null)this.selection.setRange(null,I||R.sources.API);else{var K=$(T,I,U),H=o(K,4);T=H[0],I=H[1],U=H[3],this.selection.setRange(new x.Range(T,I),U),U!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,U=new d.default().insert(T);return this.setContents(U,I)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,I=this.scroll.update(T);return this.selection.update(T),I}},{key:"updateContents",value:function(T){var I=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return z.call(this,function(){return T=new d.default(T),I.editor.applyDelta(T,U)},U,!0)}}]),R}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=p.default.events,M.sources=p.default.sources,M.version="1.3.7",M.imports={delta:d.default,parchment:y.default,"core/module":v.default,"core/theme":P.default};function O(R,L){if(L=(0,N.default)(!0,{container:R,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===M.DEFAULTS.theme)L.theme=P.default;else if(L.theme=M.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var T=(0,N.default)(!0,{},L.theme.DEFAULTS);[T,L].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(H){K.modules[H]===!0&&(K.modules[H]={})})});var I=Object.keys(T.modules).concat(Object.keys(L.modules)),U=I.reduce(function(K,H){var B=M.import("modules/"+H);return B==null?D.error("Cannot load "+H+" module. Are you sure you registered it?"):K[H]=B.DEFAULTS||{},K},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,N.default)(!0,{},M.DEFAULTS,{modules:U},T,L),["bounds","container","scrollingContainer"].forEach(function(K){typeof L[K]=="string"&&(L[K]=document.querySelector(L[K]))}),L.modules=Object.keys(L.modules).reduce(function(K,H){return L.modules[H]&&(K[H]=L.modules[H]),K},{}),L}function z(R,L,T,I){if(this.options.strict&&!this.isEnabled()&&L===p.default.sources.USER)return new d.default;var U=T==null?null:this.getSelection(),K=this.editor.delta,H=R();if(U!=null&&(T===!0&&(T=U.index),I==null?U=q(U,H,L):I!==0&&(U=q(U,T,I,L)),this.setSelection(U,p.default.sources.SILENT)),H.length()>0){var B,F=[p.default.events.TEXT_CHANGE,H,K,L];if((B=this.emitter).emit.apply(B,[p.default.events.EDITOR_CHANGE].concat(F)),L!==p.default.sources.SILENT){var V;(V=this.emitter).emit.apply(V,F)}}return H}function $(R,L,T,I,U){var K={};return typeof R.index=="number"&&typeof R.length=="number"?typeof L!="number"?(U=I,I=T,T=L,L=R.length,R=R.index):(L=R.length,R=R.index):typeof L!="number"&&(U=I,I=T,T=L,L=0),(typeof T>"u"?"undefined":i(T))==="object"?(K=T,U=I):typeof T=="string"&&(I!=null?K[T]=I:U=T),U=U||p.default.sources.API,[R,L,K,U]}function q(R,L,T,I){if(R==null)return null;var U=void 0,K=void 0;if(L instanceof d.default){var H=[R.index,R.index+R.length].map(function(W){return L.transformPosition(W,I!==p.default.sources.USER)}),B=o(H,2);U=B[0],K=B[1]}else{var F=[R.index,R.index+R.length].map(function(W){return W<L||W===L&&I===p.default.sources.USER?W:T>=0?W+T:Math.max(L,W+T)}),V=o(F,2);U=V[0],K=V[1]}return new x.Range(U,K-U)}n.expandConfig=O,n.overload=$,n.default=M},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&g(y.prototype,x),w&&g(y,w),y}}(),o=function g(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,x,w)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(w)}},l=s(7),c=f(l),d=s(0),u=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function m(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=function(g){m(y,g);function y(){return h(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"formatAt",value:function(w,j,N,S){if(y.compare(this.statics.blotName,N)<0&&u.default.query(N,u.default.Scope.BLOT)){var _=this.isolate(w,j);S&&_.wrap(N,S)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,w,j,N,S)}},{key:"optimize",value:function(w){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,w),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var j=this.parent.isolate(this.offset(),this.length());this.moveChildren(j),j.wrap(this)}}}],[{key:"compare",value:function(w,j){var N=y.order.indexOf(w),S=y.order.indexOf(j);return N>=0||S>=0?N-S:w===j?0:w<j?-1:1}}]),y}(u.default.Inline);v.allowedChildren=[v,u.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function x(w,j){for(var N=0;N<j.length;N++){var S=j[N];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,j,N){return j&&x(w.prototype,j),N&&x(w,N),w}}(),o=function x(w,j,N){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,j);if(S===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:x(_,j,N)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(N)}},l=s(54),c=f(l),d=s(10),u=f(d);function f(x){return x&&x.__esModule?x:{default:x}}function h(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function p(x,w){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:x}function m(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):x.__proto__=w)}var v=(0,u.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(x){document.addEventListener(x,function(){for(var w=arguments.length,j=Array(w),N=0;N<w;N++)j[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var _;(_=S.__quill.emitter).handleDOM.apply(_,j)}})})});var y=function(x){m(w,x);function w(){h(this,w);var j=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return j.listeners={},j.on("error",v.error),j}return i(w,[{key:"emit",value:function(){v.log.apply(v,arguments),o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var S=arguments.length,_=Array(S>1?S-1:0),k=1;k<S;k++)_[k-1]=arguments[k];(this.listeners[N.type]||[]).forEach(function(P){var E=P.node,C=P.handler;(N.target===E||E.contains(N.target))&&C.apply(void 0,[N].concat(_))})}},{key:"listenDOM",value:function(N,S,_){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:S,handler:_})}}]),w}(c.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i(this,l),this.quill=c,this.options=d};o.DEFAULTS={},n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=["error","warn","log","info"],o="warn";function l(d){if(i.indexOf(d)<=i.indexOf(o)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[d].apply(u,h)}}function c(d){return i.reduce(function(u,f){return u[f]=l.bind(console,f,d),u},{})}l.level=c.level=function(d){o=d},n.default=c},function(r,n,s){var i=Array.prototype.slice,o=s(52),l=s(53),c=r.exports=function(h,p,m){return m||(m={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?m.strict?h===p:h==p:f(h,p,m)};function d(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,m){var v,g;if(d(h)||d(p)||h.prototype!==p.prototype)return!1;if(l(h))return l(p)?(h=i.call(h),p=i.call(p),c(h,p,m)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(v=0;v<h.length;v++)if(h[v]!==p[v])return!1;return!0}try{var y=o(h),x=o(p)}catch{return!1}if(y.length!=x.length)return!1;for(y.sort(),x.sort(),v=y.length-1;v>=0;v--)if(y[v]!=x[v])return!1;for(v=y.length-1;v>=0;v--)if(g=y[v],!c(h[g],p[g],m))return!1;return typeof h==typeof p}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),o=function(){function l(c,d,u){u===void 0&&(u={}),this.attrName=c,this.keyName=d;var f=i.Scope.TYPE&i.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&i.Scope.LEVEL|f:this.scope=i.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(d){return d.name})},l.prototype.add=function(c,d){return this.canAdd(c,d)?(c.setAttribute(this.keyName,d),!0):!1},l.prototype.canAdd=function(c,d){var u=i.query(c,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var d=c.getAttribute(this.keyName);return this.canAdd(c,d)&&d?d:""},l}();n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var i=function(){function k(P,E){var C=[],A=!0,D=!1,M=void 0;try{for(var O=P[Symbol.iterator](),z;!(A=(z=O.next()).done)&&(C.push(z.value),!(E&&C.length===E));A=!0);}catch($){D=!0,M=$}finally{try{!A&&O.return&&O.return()}finally{if(D)throw M}}return C}return function(P,E){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return k(P,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(P,E){for(var C=0;C<E.length;C++){var A=E[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,E,C){return E&&k(P.prototype,E),C&&k(P,C),P}}(),l=function k(P,E,C){P===null&&(P=Function.prototype);var A=Object.getOwnPropertyDescriptor(P,E);if(A===void 0){var D=Object.getPrototypeOf(P);return D===null?void 0:k(D,E,C)}else{if("value"in A)return A.value;var M=A.get;return M===void 0?void 0:M.call(C)}},c=s(2),d=x(c),u=s(0),f=x(u),h=s(4),p=x(h),m=s(6),v=x(m),g=s(7),y=x(g);function x(k){return k&&k.__esModule?k:{default:k}}function w(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function j(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:k}function N(k,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(k,P):k.__proto__=P)}var S=function(k){N(P,k);function P(){return w(this,P),j(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(v.default);S.blotName="code",S.tagName="CODE";var _=function(k){N(P,k);function P(){return w(this,P),j(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return o(P,[{key:"delta",value:function(){var C=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(D,M){return D.insert(M).insert(`
`,C.formats())},new d.default)}},{key:"format",value:function(C,A){if(!(C===this.statics.blotName&&A)){var D=this.descendant(y.default,this.length()-1),M=i(D,1),O=M[0];O!=null&&O.deleteAt(O.length()-1,1),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,C,A)}}},{key:"formatAt",value:function(C,A,D,M){if(A!==0&&!(f.default.query(D,f.default.Scope.BLOCK)==null||D===this.statics.blotName&&M===this.statics.formats(this.domNode))){var O=this.newlineIndex(C);if(!(O<0||O>=C+A)){var z=this.newlineIndex(C,!0)+1,$=O-z+1,q=this.isolate(z,$),R=q.next;q.format(D,M),R instanceof P&&R.formatAt(0,C-z+A-$,D,M)}}}},{key:"insertAt",value:function(C,A,D){if(D==null){var M=this.descendant(y.default,C),O=i(M,2),z=O[0],$=O[1];z.insertAt($,A)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var D=this.domNode.textContent.slice(C).indexOf(`
`);return D>-1?C+D:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,C);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(C),A.moveChildren(this),A.remove())}},{key:"replace",value:function(C){l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var D=f.default.find(A);D==null?A.parentNode.removeChild(A):D instanceof f.default.Embed?D.remove():D.unwrap()})}}],[{key:"create",value:function(C){var A=l(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,C);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),P}(p.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",n.Code=S,n.default=_},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},o=function(){function R(L,T){var I=[],U=!0,K=!1,H=void 0;try{for(var B=L[Symbol.iterator](),F;!(U=(F=B.next()).done)&&(I.push(F.value),!(T&&I.length===T));U=!0);}catch(V){K=!0,H=V}finally{try{!U&&B.return&&B.return()}finally{if(K)throw H}}return I}return function(L,T){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return R(L,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function R(L,T){for(var I=0;I<T.length;I++){var U=T[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}}return function(L,T,I){return T&&R(L.prototype,T),I&&R(L,I),L}}(),c=s(2),d=A(c),u=s(20),f=A(u),h=s(0),p=A(h),m=s(13),v=A(m),g=s(24),y=A(g),x=s(4),w=A(x),j=s(16),N=A(j),S=s(21),_=A(S),k=s(11),P=A(k),E=s(3),C=A(E);function A(R){return R&&R.__esModule?R:{default:R}}function D(R,L,T){return L in R?Object.defineProperty(R,L,{value:T,enumerable:!0,configurable:!0,writable:!0}):R[L]=T,R}function M(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}var O=/^[ -~]*$/,z=function(){function R(L){M(this,R),this.scroll=L,this.delta=this.getDelta()}return l(R,[{key:"applyDelta",value:function(T){var I=this,U=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),T=q(T),T.reduce(function(H,B){var F=B.retain||B.delete||B.insert.length||1,V=B.attributes||{};if(B.insert!=null){if(typeof B.insert=="string"){var W=B.insert;W.endsWith(`
`)&&U&&(U=!1,W=W.slice(0,-1)),H>=K&&!W.endsWith(`
`)&&(U=!0),I.scroll.insertAt(H,W);var Y=I.scroll.line(H),ie=o(Y,2),ee=ie[0],ue=ie[1],re=(0,C.default)({},(0,x.bubbleFormats)(ee));if(ee instanceof w.default){var de=ee.descendant(p.default.Leaf,ue),ve=o(de,1),me=ve[0];re=(0,C.default)(re,(0,x.bubbleFormats)(me))}V=f.default.attributes.diff(re,V)||{}}else if(i(B.insert)==="object"){var Z=Object.keys(B.insert)[0];if(Z==null)return H;I.scroll.insertAt(H,Z,B.insert[Z])}K+=F}return Object.keys(V).forEach(function(J){I.scroll.formatAt(H,F,J,V[J])}),H+F},0),T.reduce(function(H,B){return typeof B.delete=="number"?(I.scroll.deleteAt(H,B.delete),H):H+(B.retain||B.insert.length||1)},0),this.scroll.batchEnd(),this.update(T)}},{key:"deleteText",value:function(T,I){return this.scroll.deleteAt(T,I),this.update(new d.default().retain(T).delete(I))}},{key:"formatLine",value:function(T,I){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(H){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[H])){var B=U.scroll.lines(T,Math.max(I,1)),F=I;B.forEach(function(V){var W=V.length();if(!(V instanceof v.default))V.format(H,K[H]);else{var Y=T-V.offset(U.scroll),ie=V.newlineIndex(Y+F)-Y+1;V.formatAt(Y,ie,H,K[H])}F-=W})}}),this.scroll.optimize(),this.update(new d.default().retain(T).retain(I,(0,_.default)(K)))}},{key:"formatText",value:function(T,I){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(H){U.scroll.formatAt(T,I,H,K[H])}),this.update(new d.default().retain(T).retain(I,(0,_.default)(K)))}},{key:"getContents",value:function(T,I){return this.delta.slice(T,T+I)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(T,I){return T.concat(I.delta())},new d.default)}},{key:"getFormat",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],K=[];I===0?this.scroll.path(T).forEach(function(B){var F=o(B,1),V=F[0];V instanceof w.default?U.push(V):V instanceof p.default.Leaf&&K.push(V)}):(U=this.scroll.lines(T,I),K=this.scroll.descendants(p.default.Leaf,T,I));var H=[U,K].map(function(B){if(B.length===0)return{};for(var F=(0,x.bubbleFormats)(B.shift());Object.keys(F).length>0;){var V=B.shift();if(V==null)return F;F=$((0,x.bubbleFormats)(V),F)}return F});return C.default.apply(C.default,H)}},{key:"getText",value:function(T,I){return this.getContents(T,I).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(T,I,U){return this.scroll.insertAt(T,I,U),this.update(new d.default().retain(T).insert(D({},I,U)))}},{key:"insertText",value:function(T,I){var U=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I=I.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(T,I),Object.keys(K).forEach(function(H){U.scroll.formatAt(T,I.length,H,K[H])}),this.update(new d.default().retain(T).insert(I,(0,_.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var T=this.scroll.children.head;return T.statics.blotName!==w.default.blotName||T.children.length>1?!1:T.children.head instanceof N.default}},{key:"removeFormat",value:function(T,I){var U=this.getText(T,I),K=this.scroll.line(T+I),H=o(K,2),B=H[0],F=H[1],V=0,W=new d.default;B!=null&&(B instanceof v.default?V=B.newlineIndex(F)-F+1:V=B.length()-F,W=B.delta().slice(F,F+V-1).insert(`
`));var Y=this.getContents(T,I+V),ie=Y.diff(new d.default().insert(U).concat(W)),ee=new d.default().retain(T).concat(ie);return this.applyDelta(ee)}},{key:"update",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(I.length===1&&I[0].type==="characterData"&&I[0].target.data.match(O)&&p.default.find(I[0].target)){var H=p.default.find(I[0].target),B=(0,x.bubbleFormats)(H),F=H.offset(this.scroll),V=I[0].oldValue.replace(y.default.CONTENTS,""),W=new d.default().insert(V),Y=new d.default().insert(H.value()),ie=new d.default().retain(F).concat(W.diff(Y,U));T=ie.reduce(function(ee,ue){return ue.insert?ee.insert(ue.insert,B):ee.push(ue)},new d.default),this.delta=K.compose(T)}else this.delta=this.getDelta(),(!T||!(0,P.default)(K.compose(T),this.delta))&&(T=K.diff(this.delta,U));return T}}]),R}();function $(R,L){return Object.keys(L).reduce(function(T,I){return R[I]==null||(L[I]===R[I]?T[I]=L[I]:Array.isArray(L[I])?L[I].indexOf(R[I])<0&&(T[I]=L[I].concat([R[I]])):T[I]=[L[I],R[I]]),T},{})}function q(R){return R.reduce(function(L,T){if(T.insert===1){var I=(0,_.default)(T.attributes);return delete I.image,L.insert({image:T.attributes.image},I)}if(T.attributes!=null&&(T.attributes.list===!0||T.attributes.bullet===!0)&&(T=(0,_.default)(T),T.attributes.list?T.attributes.list="ordered":(T.attributes.list="bullet",delete T.attributes.bullet)),typeof T.insert=="string"){var U=T.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(U,T.attributes)}return L.push(T)},new d.default)}n.default=z},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var i=function(){function k(P,E){var C=[],A=!0,D=!1,M=void 0;try{for(var O=P[Symbol.iterator](),z;!(A=(z=O.next()).done)&&(C.push(z.value),!(E&&C.length===E));A=!0);}catch($){D=!0,M=$}finally{try{!A&&O.return&&O.return()}finally{if(D)throw M}}return C}return function(P,E){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return k(P,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(P,E){for(var C=0;C<E.length;C++){var A=E[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,E,C){return E&&k(P.prototype,E),C&&k(P,C),P}}(),l=s(0),c=y(l),d=s(21),u=y(d),f=s(11),h=y(f),p=s(8),m=y(p),v=s(10),g=y(v);function y(k){return k&&k.__esModule?k:{default:k}}function x(k){if(Array.isArray(k)){for(var P=0,E=Array(k.length);P<k.length;P++)E[P]=k[P];return E}else return Array.from(k)}function w(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}var j=(0,g.default)("quill:selection"),N=function k(P){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,k),this.index=P,this.length=E},S=function(){function k(P,E){var C=this;w(this,k),this.emitter=E,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){C.mouseDown||setTimeout(C.update.bind(C,m.default.sources.USER),1)}),this.emitter.on(m.default.events.EDITOR_CHANGE,function(A,D){A===m.default.events.TEXT_CHANGE&&D.length()>0&&C.update(m.default.sources.SILENT)}),this.emitter.on(m.default.events.SCROLL_BEFORE_UPDATE,function(){if(C.hasFocus()){var A=C.getNativeRange();A!=null&&A.start.node!==C.cursor.textNode&&C.emitter.once(m.default.events.SCROLL_UPDATE,function(){try{C.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(m.default.events.SCROLL_OPTIMIZE,function(A,D){if(D.range){var M=D.range,O=M.startNode,z=M.startOffset,$=M.endNode,q=M.endOffset;C.setNativeRange(O,z,$,q)}}),this.update(m.default.sources.SILENT)}return o(k,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var C=E.cursor.restore();if(!C)return;setTimeout(function(){E.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(m.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,C){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||c.default.query(E,c.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var D=c.default.find(A.start.node,!1);if(D==null)return;if(D instanceof c.default.Leaf){var M=D.split(A.start.offset);D.parent.insertBefore(this.cursor,M)}else D.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(E,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();E=Math.min(E,A-1),C=Math.min(E+C,A-1)-E;var D=void 0,M=this.scroll.leaf(E),O=i(M,2),z=O[0],$=O[1];if(z==null)return null;var q=z.position($,!0),R=i(q,2);D=R[0],$=R[1];var L=document.createRange();if(C>0){L.setStart(D,$);var T=this.scroll.leaf(E+C),I=i(T,2);if(z=I[0],$=I[1],z==null)return null;var U=z.position($,!0),K=i(U,2);return D=K[0],$=K[1],L.setEnd(D,$),L.getBoundingClientRect()}else{var H="left",B=void 0;return D instanceof Text?($<D.data.length?(L.setStart(D,$),L.setEnd(D,$+1)):(L.setStart(D,$-1),L.setEnd(D,$),H="right"),B=L.getBoundingClientRect()):(B=z.domNode.getBoundingClientRect(),$>0&&(H="right")),{bottom:B.top+B.height,height:B.height,left:B[H],right:B[H],top:B.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var C=E.getRangeAt(0);if(C==null)return null;var A=this.normalizeNative(C);return j.info("getNativeRange",A),A}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var C=this.normalizedToRange(E);return[C,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var C=this,A=[[E.start.node,E.start.offset]];E.native.collapsed||A.push([E.end.node,E.end.offset]);var D=A.map(function(z){var $=i(z,2),q=$[0],R=$[1],L=c.default.find(q,!0),T=L.offset(C.scroll);return R===0?T:L instanceof c.default.Container?T+L.length():T+L.index(q,R)}),M=Math.min(Math.max.apply(Math,x(D)),this.scroll.length()-1),O=Math.min.apply(Math,[M].concat(x(D)));return new N(O,M-O)}},{key:"normalizeNative",value:function(E){if(!_(this.root,E.startContainer)||!E.collapsed&&!_(this.root,E.endContainer))return null;var C={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[C.start,C.end].forEach(function(A){for(var D=A.node,M=A.offset;!(D instanceof Text)&&D.childNodes.length>0;)if(D.childNodes.length>M)D=D.childNodes[M],M=0;else if(D.childNodes.length===M)D=D.lastChild,M=D instanceof Text?D.data.length:D.childNodes.length+1;else break;A.node=D,A.offset=M}),C}},{key:"rangeToNative",value:function(E){var C=this,A=E.collapsed?[E.index]:[E.index,E.index+E.length],D=[],M=this.scroll.length();return A.forEach(function(O,z){O=Math.min(M-1,O);var $=void 0,q=C.scroll.leaf(O),R=i(q,2),L=R[0],T=R[1],I=L.position(T,z!==0),U=i(I,2);$=U[0],T=U[1],D.push($,T)}),D.length<2&&(D=D.concat(D)),D}},{key:"scrollIntoView",value:function(E){var C=this.lastRange;if(C!=null){var A=this.getBounds(C.index,C.length);if(A!=null){var D=this.scroll.length()-1,M=this.scroll.line(Math.min(C.index,D)),O=i(M,1),z=O[0],$=z;if(C.length>0){var q=this.scroll.line(Math.min(C.index+C.length,D)),R=i(q,1);$=R[0]}if(!(z==null||$==null)){var L=E.getBoundingClientRect();A.top<L.top?E.scrollTop-=L.top-A.top:A.bottom>L.bottom&&(E.scrollTop+=A.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(E,C){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(j.info("setNativeRange",E,C,A,D),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||A.parentNode==null))){var O=document.getSelection();if(O!=null)if(E!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||M||E!==z.startContainer||C!==z.startOffset||A!==z.endContainer||D!==z.endOffset){E.tagName=="BR"&&(C=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),A.tagName=="BR"&&(D=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var $=document.createRange();$.setStart(E,C),$.setEnd(A,D),O.removeAllRanges(),O.addRange($)}}else O.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof C=="string"&&(A=C,C=!1),j.info("setRange",E),E!=null){var D=this.rangeToNative(E);this.setNativeRange.apply(this,x(D).concat([C]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,C=this.lastRange,A=this.getRange(),D=i(A,2),M=D[0],O=D[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(C,this.lastRange)){var z;!this.composing&&O!=null&&O.native.collapsed&&O.start.node!==this.cursor.textNode&&this.cursor.restore();var $=[m.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(C),E];if((z=this.emitter).emit.apply(z,[m.default.events.EDITOR_CHANGE].concat($)),E!==m.default.sources.SILENT){var q;(q=this.emitter).emit.apply(q,$)}}}}]),k}();function _(k,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),k.contains(P)}n.Range=N,n.default=S},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(v,g){for(var y=0;y<g.length;y++){var x=g[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,g,y){return g&&m(v.prototype,g),y&&m(v,y),v}}(),o=function m(v,g,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,g);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:m(w,g,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=s(0),c=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){h(v,m);function v(){return u(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"insertInto",value:function(y,x){y.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,y,x):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(c.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(44),l=s(30),c=s(1),d=function(f){i(h,f);function h(p){var m=f.call(this,p)||this;return m.build(),m}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(m){try{var v=u(m);p.insertBefore(v,p.children.head||void 0)}catch(g){if(g instanceof c.ParchmentError)return;throw g}})},h.prototype.deleteAt=function(p,m){if(p===0&&m===this.length())return this.remove();this.children.forEachAt(p,m,function(v,g,y){v.deleteAt(g,y)})},h.prototype.descendant=function(p,m){var v=this.children.find(m),g=v[0],y=v[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,y]:g instanceof h?g.descendant(p,y):[null,-1]},h.prototype.descendants=function(p,m,v){m===void 0&&(m=0),v===void 0&&(v=Number.MAX_VALUE);var g=[],y=v;return this.children.forEachAt(m,v,function(x,w,j){(p.blotName==null&&p(x)||p.blotName!=null&&x instanceof p)&&g.push(x),x instanceof h&&(g=g.concat(x.descendants(p,w,y))),y-=j}),g},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,m,v,g){this.children.forEachAt(p,m,function(y,x,w){y.formatAt(x,w,v,g)})},h.prototype.insertAt=function(p,m,v){var g=this.children.find(p),y=g[0],x=g[1];if(y)y.insertAt(x,m,v);else{var w=v==null?c.create("text",m):c.create(m,v);this.appendChild(w)}},h.prototype.insertBefore=function(p,m){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,m)},h.prototype.length=function(){return this.children.reduce(function(p,m){return p+m.length()},0)},h.prototype.moveChildren=function(p,m){this.children.forEach(function(v){p.insertBefore(v,m)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var m=c.create(this.statics.defaultChild);this.appendChild(m),m.optimize(p)}else this.remove()},h.prototype.path=function(p,m){m===void 0&&(m=!1);var v=this.children.find(p,m),g=v[0],y=v[1],x=[[this,p]];return g instanceof h?x.concat(g.path(y,m)):(g!=null&&x.push([g,y]),x)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,m){if(m===void 0&&(m=!1),!m){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(g,y,x){g=g.split(y,m),v.appendChild(g)}),v},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,m){var v=this,g=[],y=[];p.forEach(function(x){x.target===v.domNode&&x.type==="childList"&&(g.push.apply(g,x.addedNodes),y.push.apply(y,x.removedNodes))}),y.forEach(function(x){if(!(x.parentNode!=null&&x.tagName!=="IFRAME"&&document.body.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=c.find(x);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),g.filter(function(x){return x.parentNode==v.domNode}).sort(function(x,w){return x===w?0:x.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(x){var w=null;x.nextSibling!=null&&(w=c.find(x.nextSibling));var j=u(x);(j.next!=w||j.next==null)&&(j.parent!=null&&j.parent.removeChild(v),v.insertBefore(j,w||void 0))})},h}(l.default);function u(f){var h=c.find(f);if(h==null)try{h=c.create(f)}catch{h=c.create(c.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(m){h.domNode.appendChild(m)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}n.default=d},function(r,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12),l=s(31),c=s(17),d=s(1),u=function(f){i(h,f);function h(p){var m=f.call(this,p)||this;return m.attributes=new l.default(m.domNode),m}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,m){var v=d.query(p);v instanceof o.default?this.attributes.attribute(v,m):m&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==m)&&this.replaceWith(p,m)},h.prototype.formats=function(){var p=this.attributes.values(),m=this.statics.formats(this.domNode);return m!=null&&(p[this.statics.blotName]=m),p},h.prototype.replaceWith=function(p,m){var v=f.prototype.replaceWith.call(this,p,m);return this.attributes.copy(v),v},h.prototype.update=function(p,m){var v=this;f.prototype.update.call(this,p,m),p.some(function(g){return g.target===v.domNode&&g.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,m){var v=f.prototype.wrap.call(this,p,m);return v instanceof h&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},h}(c.default);n.default=u},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(30),l=s(1),c=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=l.Scope.INLINE_BLOT,u}(o.default);n.default=c},function(r,n,s){var i=s(11),o=s(3),l={attributes:{compose:function(d,u,f){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var h=o(!0,{},u);f||(h=Object.keys(h).reduce(function(m,v){return h[v]!=null&&(m[v]=h[v]),m},{}));for(var p in d)d[p]!==void 0&&u[p]===void 0&&(h[p]=d[p]);return Object.keys(h).length>0?h:void 0},diff:function(d,u){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var f=Object.keys(d).concat(Object.keys(u)).reduce(function(h,p){return i(d[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(d,u,f){if(typeof d!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,m){return d[m]===void 0&&(p[m]=u[m]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(d){return new c(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function c(d){this.ops=d,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(d){d||(d=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=l.length(u);if(d>=h-f?(d=h-f,this.index+=1,this.offset=0):this.offset+=d,typeof u.delete=="number")return{delete:d};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=d:typeof u.insert=="string"?p.insert=u.insert.substr(f,d):p.insert=u.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=d,this.index=u,[f].concat(h)}else return[]},r.exports=l},function(r,n){var s=function(){function i(v,g){return g!=null&&v instanceof g}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function d(v,g,y,x,w){typeof g=="object"&&(y=g.depth,x=g.prototype,w=g.includeNonEnumerable,g=g.circular);var j=[],N=[],S=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function _(k,P){if(k===null)return null;if(P===0)return k;var E,C;if(typeof k!="object")return k;if(i(k,o))E=new o;else if(i(k,l))E=new l;else if(i(k,c))E=new c(function(L,T){k.then(function(I){L(_(I,P-1))},function(I){T(_(I,P-1))})});else if(d.__isArray(k))E=[];else if(d.__isRegExp(k))E=new RegExp(k.source,m(k)),k.lastIndex&&(E.lastIndex=k.lastIndex);else if(d.__isDate(k))E=new Date(k.getTime());else{if(S&&Buffer.isBuffer(k))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(k.length):E=new Buffer(k.length),k.copy(E),E;i(k,Error)?E=Object.create(k):typeof x>"u"?(C=Object.getPrototypeOf(k),E=Object.create(C)):(E=Object.create(x),C=x)}if(g){var A=j.indexOf(k);if(A!=-1)return N[A];j.push(k),N.push(E)}i(k,o)&&k.forEach(function(L,T){var I=_(T,P-1),U=_(L,P-1);E.set(I,U)}),i(k,l)&&k.forEach(function(L){var T=_(L,P-1);E.add(T)});for(var D in k){var M;C&&(M=Object.getOwnPropertyDescriptor(C,D)),!(M&&M.set==null)&&(E[D]=_(k[D],P-1))}if(Object.getOwnPropertySymbols)for(var O=Object.getOwnPropertySymbols(k),D=0;D<O.length;D++){var z=O[D],$=Object.getOwnPropertyDescriptor(k,z);$&&!$.enumerable&&!w||(E[z]=_(k[z],P-1),$.enumerable||Object.defineProperty(E,z,{enumerable:!1}))}if(w)for(var q=Object.getOwnPropertyNames(k),D=0;D<q.length;D++){var R=q[D],$=Object.getOwnPropertyDescriptor(k,R);$&&$.enumerable||(E[R]=_(k[R],P-1),Object.defineProperty(E,R,{enumerable:!1}))}return E}return _(v,y)}d.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function u(v){return Object.prototype.toString.call(v)}d.__objToStr=u;function f(v){return typeof v=="object"&&u(v)==="[object Date]"}d.__isDate=f;function h(v){return typeof v=="object"&&u(v)==="[object Array]"}d.__isArray=h;function p(v){return typeof v=="object"&&u(v)==="[object RegExp]"}d.__isRegExp=p;function m(v){var g="";return v.global&&(g+="g"),v.ignoreCase&&(g+="i"),v.multiline&&(g+="m"),g}return d.__getRegExpFlags=m,d}();typeof r=="object"&&r.exports&&(r.exports=s)},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function E(C,A){var D=[],M=!0,O=!1,z=void 0;try{for(var $=C[Symbol.iterator](),q;!(M=(q=$.next()).done)&&(D.push(q.value),!(A&&D.length===A));M=!0);}catch(R){O=!0,z=R}finally{try{!M&&$.return&&$.return()}finally{if(O)throw z}}return D}return function(C,A){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(C,A){for(var D=0;D<A.length;D++){var M=A[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,A,D){return A&&E(C.prototype,A),D&&E(C,D),C}}(),l=function E(C,A,D){C===null&&(C=Function.prototype);var M=Object.getOwnPropertyDescriptor(C,A);if(M===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:E(O,A,D)}else{if("value"in M)return M.value;var z=M.get;return z===void 0?void 0:z.call(D)}},c=s(0),d=j(c),u=s(8),f=j(u),h=s(4),p=j(h),m=s(16),v=j(m),g=s(13),y=j(g),x=s(25),w=j(x);function j(E){return E&&E.__esModule?E:{default:E}}function N(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function S(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function _(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}function k(E){return E instanceof p.default||E instanceof h.BlockEmbed}var P=function(E){_(C,E);function C(A,D){N(this,C);var M=S(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A));return M.emitter=D.emitter,Array.isArray(D.whitelist)&&(M.whitelist=D.whitelist.reduce(function(O,z){return O[z]=!0,O},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return o(C,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(D,M){var O=this.line(D),z=i(O,2),$=z[0],q=z[1],R=this.line(D+M),L=i(R,1),T=L[0];if(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,D,M),T!=null&&$!==T&&q>0){if($ instanceof h.BlockEmbed||T instanceof h.BlockEmbed){this.optimize();return}if($ instanceof y.default){var I=$.newlineIndex($.length(),!0);if(I>-1&&($=$.split(I+1),$===T)){this.optimize();return}}else if(T instanceof y.default){var U=T.newlineIndex(0);U>-1&&T.split(U+1)}var K=T.children.head instanceof v.default?null:T.children.head;$.moveChildren(T,K),$.remove()}this.optimize()}},{key:"enable",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",D)}},{key:"formatAt",value:function(D,M,O,z){this.whitelist!=null&&!this.whitelist[O]||(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,D,M,O,z),this.optimize())}},{key:"insertAt",value:function(D,M,O){if(!(O!=null&&this.whitelist!=null&&!this.whitelist[M])){if(D>=this.length())if(O==null||d.default.query(M,d.default.Scope.BLOCK)==null){var z=d.default.create(this.statics.defaultChild);this.appendChild(z),O==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),z.insertAt(0,M,O)}else{var $=d.default.create(M,O);this.appendChild($)}else l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,D,M,O);this.optimize()}}},{key:"insertBefore",value:function(D,M){if(D.statics.scope===d.default.Scope.INLINE_BLOT){var O=d.default.create(this.statics.defaultChild);O.appendChild(D),D=O}l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,D,M)}},{key:"leaf",value:function(D){return this.path(D).pop()||[null,-1]}},{key:"line",value:function(D){return D===this.length()?this.line(D-1):this.descendant(k,D)}},{key:"lines",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,O=function z($,q,R){var L=[],T=R;return $.children.forEachAt(q,R,function(I,U,K){k(I)?L.push(I):I instanceof d.default.Container&&(L=L.concat(z(I,U,T))),T-=K}),L};return O(this,D,M)}},{key:"optimize",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,D,M),D.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,D,M))}},{key:"path",value:function(D){return l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,D).slice(1)}},{key:"update",value:function(D){if(this.batch!==!0){var M=f.default.sources.USER;typeof D=="string"&&(M=D),Array.isArray(D)||(D=this.observer.takeRecords()),D.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,M,D),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"update",this).call(this,D.concat([])),D.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,M,D)}}}]),C}(d.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[p.default,h.BlockEmbed,w.default],n.default=P},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},o=function(){function B(F,V){var W=[],Y=!0,ie=!1,ee=void 0;try{for(var ue=F[Symbol.iterator](),re;!(Y=(re=ue.next()).done)&&(W.push(re.value),!(V&&W.length===V));Y=!0);}catch(de){ie=!0,ee=de}finally{try{!Y&&ue.return&&ue.return()}finally{if(ie)throw ee}}return W}return function(F,V){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function B(F,V){for(var W=0;W<V.length;W++){var Y=V[W];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(F,Y.key,Y)}}return function(F,V,W){return V&&B(F.prototype,V),W&&B(F,W),F}}(),c=s(21),d=E(c),u=s(11),f=E(u),h=s(3),p=E(h),m=s(2),v=E(m),g=s(20),y=E(g),x=s(0),w=E(x),j=s(5),N=E(j),S=s(10),_=E(S),k=s(9),P=E(k);function E(B){return B&&B.__esModule?B:{default:B}}function C(B,F,V){return F in B?Object.defineProperty(B,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):B[F]=V,B}function A(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}function D(B,F){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:B}function M(B,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(B,F):B.__proto__=F)}var O=(0,_.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",$=function(B){M(F,B),l(F,null,[{key:"match",value:function(W,Y){return Y=H(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!Y[ie]!==W[ie]&&Y[ie]!==null})?!1:Y.key===(W.which||W.keyCode)}}]);function F(V,W){A(this,F);var Y=D(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,V,W));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(ie){ie==="list autofill"&&V.scroll.whitelist!=null&&!V.scroll.whitelist.list||Y.options.bindings[ie]&&Y.addBinding(Y.options.bindings[ie])}),Y.addBinding({key:F.keys.ENTER,shiftKey:null},I),Y.addBinding({key:F.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:F.keys.BACKSPACE},{collapsed:!0},R),Y.addBinding({key:F.keys.DELETE},{collapsed:!0},L)):(Y.addBinding({key:F.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},R),Y.addBinding({key:F.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Y.addBinding({key:F.keys.BACKSPACE},{collapsed:!1},T),Y.addBinding({key:F.keys.DELETE},{collapsed:!1},T),Y.addBinding({key:F.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},R),Y.listen(),Y}return l(F,[{key:"addBinding",value:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=H(W);if(ee==null||ee.key==null)return O.warn("Attempted to add invalid keyboard binding",ee);typeof Y=="function"&&(Y={handler:Y}),typeof ie=="function"&&(ie={handler:ie}),ee=(0,p.default)(ee,Y,ie),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var ie=Y.which||Y.keyCode,ee=(W.bindings[ie]||[]).filter(function(Pe){return F.match(Y,Pe)});if(ee.length!==0){var ue=W.quill.getSelection();if(!(ue==null||!W.quill.hasFocus())){var re=W.quill.getLine(ue.index),de=o(re,2),ve=de[0],me=de[1],Z=W.quill.getLeaf(ue.index),J=o(Z,2),pe=J[0],X=J[1],ae=ue.length===0?[pe,X]:W.quill.getLeaf(ue.index+ue.length),le=o(ae,2),fe=le[0],Q=le[1],we=pe instanceof w.default.Text?pe.value().slice(0,X):"",Ne=fe instanceof w.default.Text?fe.value().slice(Q):"",je={collapsed:ue.length===0,empty:ue.length===0&&ve.length()<=1,format:W.quill.getFormat(ue),offset:me,prefix:we,suffix:Ne},_e=ee.some(function(Pe){if(Pe.collapsed!=null&&Pe.collapsed!==je.collapsed||Pe.empty!=null&&Pe.empty!==je.empty||Pe.offset!=null&&Pe.offset!==je.offset)return!1;if(Array.isArray(Pe.format)){if(Pe.format.every(function(Zt){return je.format[Zt]==null}))return!1}else if(i(Pe.format)==="object"&&!Object.keys(Pe.format).every(function(Zt){return Pe.format[Zt]===!0?je.format[Zt]!=null:Pe.format[Zt]===!1?je.format[Zt]==null:(0,f.default)(Pe.format[Zt],je.format[Zt])}))return!1;return Pe.prefix!=null&&!Pe.prefix.test(je.prefix)||Pe.suffix!=null&&!Pe.suffix.test(je.suffix)?!1:Pe.handler.call(W,ue,je)!==!0});_e&&Y.preventDefault()}}}})}}]),F}(P.default);$.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},$.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:$.keys.TAB,format:["blockquote","indent","list"],handler:function(F,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:$.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(F,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:$.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(F,V){V.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):V.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:$.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(F){this.quill.deleteText(F.index-1,1,N.default.sources.USER)}},tab:{key:$.keys.TAB,handler:function(F){this.quill.history.cutoff();var V=new v.default().retain(F.index).delete(F.length).insert("	");this.quill.updateContents(V,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index+1,N.default.sources.SILENT)}},"list empty enter":{key:$.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(F,V){this.quill.format("list",!1,N.default.sources.USER),V.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:$.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(F){var V=this.quill.getLine(F.index),W=o(V,2),Y=W[0],ie=W[1],ee=(0,p.default)({},Y.formats(),{list:"checked"}),ue=new v.default().retain(F.index).insert(`
`,ee).retain(Y.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(ue,N.default.sources.USER),this.quill.setSelection(F.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:$.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(F,V){var W=this.quill.getLine(F.index),Y=o(W,2),ie=Y[0],ee=Y[1],ue=new v.default().retain(F.index).insert(`
`,V.format).retain(ie.length()-ee-1).retain(1,{header:null});this.quill.updateContents(ue,N.default.sources.USER),this.quill.setSelection(F.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(F,V){var W=V.prefix.length,Y=this.quill.getLine(F.index),ie=o(Y,2),ee=ie[0],ue=ie[1];if(ue>W)return!0;var re=void 0;switch(V.prefix.trim()){case"[]":case"[ ]":re="unchecked";break;case"[x]":re="checked";break;case"-":case"*":re="bullet";break;default:re="ordered"}this.quill.insertText(F.index," ",N.default.sources.USER),this.quill.history.cutoff();var de=new v.default().retain(F.index-ue).delete(W+1).retain(ee.length()-2-ue).retain(1,{list:re});this.quill.updateContents(de,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(F.index-W,N.default.sources.SILENT)}},"code exit":{key:$.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(F){var V=this.quill.getLine(F.index),W=o(V,2),Y=W[0],ie=W[1],ee=new v.default().retain(F.index+Y.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,N.default.sources.USER)}},"embed left":q($.keys.LEFT,!1),"embed left shift":q($.keys.LEFT,!0),"embed right":q($.keys.RIGHT,!1),"embed right shift":q($.keys.RIGHT,!0)}};function q(B,F){var V,W=B===$.keys.LEFT?"prefix":"suffix";return V={key:B,shiftKey:F,altKey:null},C(V,W,/^$/),C(V,"handler",function(ie){var ee=ie.index;B===$.keys.RIGHT&&(ee+=ie.length+1);var ue=this.quill.getLeaf(ee),re=o(ue,1),de=re[0];return de instanceof w.default.Embed?(B===$.keys.LEFT?F?this.quill.setSelection(ie.index-1,ie.length+1,N.default.sources.USER):this.quill.setSelection(ie.index-1,N.default.sources.USER):F?this.quill.setSelection(ie.index,ie.length+1,N.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,N.default.sources.USER),!1):!0}),V}function R(B,F){if(!(B.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(B.index),W=o(V,1),Y=W[0],ie={};if(F.offset===0){var ee=this.quill.getLine(B.index-1),ue=o(ee,1),re=ue[0];if(re!=null&&re.length()>1){var de=Y.formats(),ve=this.quill.getFormat(B.index-1,1);ie=y.default.attributes.diff(de,ve)||{}}}var me=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(F.prefix)?2:1;this.quill.deleteText(B.index-me,me,N.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(B.index-me,me,ie,N.default.sources.USER),this.quill.focus()}}function L(B,F){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(F.suffix)?2:1;if(!(B.index>=this.quill.getLength()-V)){var W={},Y=0,ie=this.quill.getLine(B.index),ee=o(ie,1),ue=ee[0];if(F.offset>=ue.length()-1){var re=this.quill.getLine(B.index+1),de=o(re,1),ve=de[0];if(ve){var me=ue.formats(),Z=this.quill.getFormat(B.index,1);W=y.default.attributes.diff(me,Z)||{},Y=ve.length()}}this.quill.deleteText(B.index,V,N.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(B.index+Y-1,V,W,N.default.sources.USER)}}function T(B){var F=this.quill.getLines(B),V={};if(F.length>1){var W=F[0].formats(),Y=F[F.length-1].formats();V=y.default.attributes.diff(Y,W)||{}}this.quill.deleteText(B,N.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(B.index,1,V,N.default.sources.USER),this.quill.setSelection(B.index,N.default.sources.SILENT),this.quill.focus()}function I(B,F){var V=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var W=Object.keys(F.format).reduce(function(Y,ie){return w.default.query(ie,w.default.Scope.BLOCK)&&!Array.isArray(F.format[ie])&&(Y[ie]=F.format[ie]),Y},{});this.quill.insertText(B.index,`
`,W,N.default.sources.USER),this.quill.setSelection(B.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(F.format).forEach(function(Y){W[Y]==null&&(Array.isArray(F.format[Y])||Y!=="link"&&V.quill.format(Y,F.format[Y],N.default.sources.USER))})}function U(B){return{key:$.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(V){var W=w.default.query("code-block"),Y=V.index,ie=V.length,ee=this.quill.scroll.descendant(W,Y),ue=o(ee,2),re=ue[0],de=ue[1];if(re!=null){var ve=this.quill.getIndex(re),me=re.newlineIndex(de,!0)+1,Z=re.newlineIndex(ve+de+ie),J=re.domNode.textContent.slice(me,Z).split(`
`);de=0,J.forEach(function(pe,X){B?(re.insertAt(me+de,W.TAB),de+=W.TAB.length,X===0?Y+=W.TAB.length:ie+=W.TAB.length):pe.startsWith(W.TAB)&&(re.deleteAt(me+de,W.TAB.length),de-=W.TAB.length,X===0?Y-=W.TAB.length:ie-=W.TAB.length),de+=pe.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(Y,ie,N.default.sources.SILENT)}}}}function K(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(V,W){this.quill.format(B,!W.format[B],N.default.sources.USER)}}}function H(B){if(typeof B=="string"||typeof B=="number")return H({key:B});if((typeof B>"u"?"undefined":i(B))==="object"&&(B=(0,d.default)(B,!1)),typeof B.key=="string")if($.keys[B.key.toUpperCase()]!=null)B.key=$.keys[B.key.toUpperCase()];else if(B.key.length===1)B.key=B.key.toUpperCase().charCodeAt(0);else return null;return B.shortKey&&(B[z]=B.shortKey,delete B.shortKey),B}n.default=$,n.SHORTKEY=z},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(x,w){var j=[],N=!0,S=!1,_=void 0;try{for(var k=x[Symbol.iterator](),P;!(N=(P=k.next()).done)&&(j.push(P.value),!(w&&j.length===w));N=!0);}catch(E){S=!0,_=E}finally{try{!N&&k.return&&k.return()}finally{if(S)throw _}}return j}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return y(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,w,j)}else{if("value"in N)return N.value;var _=N.get;return _===void 0?void 0:_.call(j)}},l=function(){function y(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&y(x.prototype,w),j&&y(x,j),x}}(),c=s(0),d=h(c),u=s(7),f=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function m(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function v(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var g=function(y){v(x,y),l(x,null,[{key:"value",value:function(){}}]);function x(w,j){p(this,x);var N=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return N.selection=j,N.textNode=document.createTextNode(x.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return l(x,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(j,N){if(this._length!==0)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,j,N);for(var S=this,_=0;S!=null&&S.statics.scope!==d.default.Scope.BLOCK_BLOT;)_+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=x.CONTENTS.length,S.optimize(),S.formatAt(_,x.CONTENTS.length,j,N),this._length=0)}},{key:"index",value:function(j,N){return j===this.textNode?0:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,j,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var j=this.textNode,N=this.selection.getNativeRange(),S=void 0,_=void 0,k=void 0;if(N!=null&&N.start.node===j&&N.end.node===j){var P=[j,N.start.offset,N.end.offset];S=P[0],_=P[1],k=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==x.CONTENTS){var E=this.textNode.data.split(x.CONTENTS).join("");this.next instanceof f.default?(S=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=x.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(x.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),_!=null){var C=[_,k].map(function(D){return Math.max(0,Math.min(S.data.length,D-1))}),A=i(C,2);return _=A[0],k=A[1],{startNode:S,startOffset:_,endNode:S,endOffset:k}}}}},{key:"update",value:function(j,N){var S=this;if(j.some(function(k){return k.type==="characterData"&&k.target===S.textNode})){var _=this.restore();_&&(N.range=_)}}},{key:"value",value:function(){return""}}]),x}(d.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=d(i),l=s(4),c=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){h(v,m);function v(){return u(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);p.allowedChildren=[c.default,l.BlockEmbed,p],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var i=function(){function g(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&g(y.prototype,x),w&&g(y,w),y}}(),o=function g(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,x,w)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(w)}},l=s(0),c=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function h(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(g){h(y,g);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"value",value:function(w){var j=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,w);return j.startsWith("rgb(")?(j=j.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+j.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):j}}]),y}(c.default.Attributor.Style),m=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new p("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=m,n.ColorStyle=v},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var i=function(){function v(g,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,x){return y&&v(g.prototype,y),x&&v(g,x),g}}(),o=function v(g,y,x){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,y);if(w===void 0){var j=Object.getPrototypeOf(g);return j===null?void 0:v(j,y,x)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(x)}},l=s(6),c=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"format",value:function(x,w){if(x!==this.statics.blotName||!w)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,x,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(x){var w=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,x);return x=this.sanitize(x),w.setAttribute("href",x),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(x){return x.getAttribute("href")}},{key:"sanitize",value:function(x){return m(x,this.PROTOCOL_WHITELIST)?x:this.SANITIZED_URL}}]),g}(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function m(v,g){var y=document.createElement("a");y.href=v;var x=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(x)>-1}n.default=p,n.sanitize=m},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&g(y.prototype,x),w&&g(y,w),y}}(),l=s(23),c=f(l),d=s(107),u=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function m(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var v=function(){function g(y){var x=this;h(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){x.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case c.default.keys.ENTER:x.togglePicker();break;case c.default.keys.ESCAPE:x.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),m(this.label,"aria-expanded"),m(this.options,"aria-hidden")}},{key:"buildItem",value:function(x){var w=this,j=document.createElement("span");return j.tabIndex="0",j.setAttribute("role","button"),j.classList.add("ql-picker-item"),x.hasAttribute("value")&&j.setAttribute("data-value",x.getAttribute("value")),x.textContent&&j.setAttribute("data-label",x.textContent),j.addEventListener("click",function(){w.selectItem(j,!0)}),j.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:w.selectItem(j,!0),N.preventDefault();break;case c.default.keys.ESCAPE:w.escape(),N.preventDefault();break}}),j}},{key:"buildLabel",value:function(){var x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML=u.default,x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}},{key:"buildOptions",value:function(){var x=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(j){var N=x.buildItem(j);w.appendChild(N),j.selected===!0&&x.selectItem(N)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var x=this;[].slice.call(this.select.attributes).forEach(function(w){x.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var x=this;this.close(),setTimeout(function(){return x.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=this.container.querySelector(".ql-selected");if(x!==j&&(j!=null&&j.classList.remove("ql-selected"),x!=null&&(x.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(x.parentNode.children,x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":i(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var x=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var j=x!=null&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",j)}}]),g}();n.default=v},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(0),o=O(i),l=s(5),c=O(l),d=s(4),u=O(d),f=s(16),h=O(f),p=s(25),m=O(p),v=s(24),g=O(v),y=s(35),x=O(y),w=s(6),j=O(w),N=s(22),S=O(N),_=s(7),k=O(_),P=s(55),E=O(P),C=s(42),A=O(C),D=s(23),M=O(D);function O(z){return z&&z.__esModule?z:{default:z}}c.default.register({"blots/block":u.default,"blots/block/embed":d.BlockEmbed,"blots/break":h.default,"blots/container":m.default,"blots/cursor":g.default,"blots/embed":x.default,"blots/inline":j.default,"blots/scroll":S.default,"blots/text":k.default,"modules/clipboard":E.default,"modules/history":A.default,"modules/keyboard":M.default}),o.default.register(u.default,h.default,g.default,j.default,S.default,k.default),n.default=c.default},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(1),o=function(){function l(c){this.domNode=c,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new i.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?d=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?d=document.createElement(c):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return i.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},l.prototype.deleteAt=function(c,d){var u=this.isolate(c,d);u.remove()},l.prototype.formatAt=function(c,d,u,f){var h=this.isolate(c,d);if(i.query(u,i.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(i.query(u,i.Scope.ATTRIBUTE)!=null){var p=i.create(this.statics.scope);h.wrap(p),p.format(u,f)}},l.prototype.insertAt=function(c,d,u){var f=u==null?i.create("text",d):i.create(d,u),h=this.split(c);this.parent.insertBefore(f,h)},l.prototype.insertInto=function(c,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var u=null;c.children.insertBefore(this,d),d!=null&&(u=d.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=u)&&c.domNode.insertBefore(this.domNode,u),this.parent=c,this.attach()},l.prototype.isolate=function(c,d){var u=this.split(c);return u.split(d),u},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[i.DATA_KEY]!=null&&delete this.domNode[i.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,d){var u=typeof c=="string"?i.create(c,d):c;return u.replace(this),u},l.prototype.split=function(c,d){return c===0?this:this.next},l.prototype.update=function(c,d){},l.prototype.wrap=function(c,d){var u=typeof c=="string"?i.create(c,d):c;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},l.blotName="abstract",l}();n.default=o},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(12),o=s(32),l=s(33),c=s(1),d=function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=i.default.keys(this.domNode),p=o.default.keys(this.domNode),m=l.default.keys(this.domNode);h.concat(p).concat(m).forEach(function(v){var g=c.query(v,c.Scope.ATTRIBUTE);g instanceof i.default&&(f.attributes[g.attrName]=g)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var m=h.attributes[p].value(h.domNode);f.format(p,m)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u}();n.default=d},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function l(d,u){var f=d.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var c=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=l(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=l(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u}(o.default);n.default=c},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(12);function l(d){var u=d.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var c=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[l(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[l(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[l(this.keyName)];return this.canAdd(f,h)?h:""},u}(o.default);n.default=c},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function c(d,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}}();function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(d,u){o(this,c),this.quill=d,this.options=u,this.modules={}}return i(c,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function y(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&y(x.prototype,w),j&&y(x,j),x}}(),o=function y(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,w,j)}else{if("value"in N)return N.value;var _=N.get;return _===void 0?void 0:_.call(j)}},l=s(0),c=f(l),d=s(7),u=f(d);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function p(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function m(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var v="\uFEFF",g=function(y){m(x,y);function x(w){h(this,x);var j=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,w));return j.contentNode=document.createElement("span"),j.contentNode.setAttribute("contenteditable",!1),[].slice.call(j.domNode.childNodes).forEach(function(N){j.contentNode.appendChild(N)}),j.leftGuard=document.createTextNode(v),j.rightGuard=document.createTextNode(v),j.domNode.appendChild(j.leftGuard),j.domNode.appendChild(j.contentNode),j.domNode.appendChild(j.rightGuard),j}return i(x,[{key:"index",value:function(j,N){return j===this.leftGuard?0:j===this.rightGuard?1:o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"index",this).call(this,j,N)}},{key:"restore",value:function(j){var N=void 0,S=void 0,_=j.data.split(v).join("");if(j===this.leftGuard)if(this.prev instanceof u.default){var k=this.prev.length();this.prev.insertAt(k,_),N={startNode:this.prev.domNode,startOffset:k+_.length}}else S=document.createTextNode(_),this.parent.insertBefore(c.default.create(S),this),N={startNode:S,startOffset:_.length};else j===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,_),N={startNode:this.next.domNode,startOffset:_.length}):(S=document.createTextNode(_),this.parent.insertBefore(c.default.create(S),this.next),N={startNode:S,startOffset:_.length}));return j.data=v,N}},{key:"update",value:function(j,N){var S=this;j.forEach(function(_){if(_.type==="characterData"&&(_.target===S.leftGuard||_.target===S.rightGuard)){var k=S.restore(_.target);k&&(N.range=k)}})}}]),x}(c.default.Embed);n.default=g},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var i=s(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new o.default.Attributor.Attribute("align","align",c),u=new o.default.Attributor.Class("align","ql-align",c),f=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=d,n.AlignClass=u,n.AlignStyle=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var i=s(0),o=c(i),l=s(26);function c(f){return f&&f.__esModule?f:{default:f}}var d=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),u=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=d,n.BackgroundStyle=u},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var i=s(0),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},d=new o.default.Attributor.Attribute("direction","dir",c),u=new o.default.Attributor.Class("direction","ql-direction",c),f=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=d,n.DirectionClass=u,n.DirectionStyle=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var i=function(){function y(x,w){for(var j=0;j<w.length;j++){var N=w[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,w,j){return w&&y(x.prototype,w),j&&y(x,j),x}}(),o=function y(x,w,j){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,w);if(N===void 0){var S=Object.getPrototypeOf(x);return S===null?void 0:y(S,w,j)}else{if("value"in N)return N.value;var _=N.get;return _===void 0?void 0:_.call(j)}},l=s(0),c=d(l);function d(y){return y&&y.__esModule?y:{default:y}}function u(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function f(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function h(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},m=new c.default.Attributor.Class("font","ql-font",p),v=function(y){h(x,y);function x(){return u(this,x),f(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return i(x,[{key:"value",value:function(j){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,j).replace(/["']/g,"")}}]),x}(c.default.Attributor.Style),g=new v("font","font-family",p);n.FontStyle=g,n.FontClass=m},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var i=s(0),o=l(i);function l(u){return u&&u.__esModule?u:{default:u}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=d},function(r,n,s){r.exports={align:{"":s(76),center:s(77),right:s(78),justify:s(79)},background:s(80),blockquote:s(81),bold:s(82),clean:s(83),code:s(58),"code-block":s(58),color:s(84),direction:{"":s(85),rtl:s(86)},float:{center:s(87),full:s(88),left:s(89),right:s(90)},formula:s(91),header:{1:s(92),2:s(93)},italic:s(94),image:s(95),indent:{"+1":s(96),"-1":s(97)},link:s(98),list:{ordered:s(99),bullet:s(100),check:s(101)},script:{sub:s(102),super:s(103)},strike:s(104),underline:s(105),video:s(106)}},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var i=function(){function w(j,N){for(var S=0;S<N.length;S++){var _=N[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,N,S){return N&&w(j.prototype,N),S&&w(j,S),j}}(),o=s(0),l=h(o),c=s(5),d=h(c),u=s(9),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function m(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function v(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var g=function(w){v(j,w);function j(N,S){p(this,j);var _=m(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,N,S));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(d.default.events.EDITOR_CHANGE,function(k,P,E,C){k!==d.default.events.TEXT_CHANGE||_.ignoreChange||(!_.options.userOnly||C===d.default.sources.USER?_.record(P,E):_.transform(P))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return i(j,[{key:"change",value:function(S,_){if(this.stack[S].length!==0){var k=this.stack[S].pop();this.stack[_].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[S],d.default.sources.USER),this.ignoreChange=!1;var P=x(k[S]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,_){if(S.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(_),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var E=this.stack.undo.pop();k=k.compose(E.undo),S=E.redo.compose(S)}else this.lastRecorded=P;this.stack.undo.push({redo:S,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(_){_.undo=S.transform(_.undo,!0),_.redo=S.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=S.transform(_.undo,!0),_.redo=S.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),j}(f.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(w){var j=w.ops[w.ops.length-1];return j==null?!1:j.insert!=null?typeof j.insert=="string"&&j.insert.endsWith(`
`):j.attributes!=null?Object.keys(j.attributes).some(function(N){return l.default.query(N,l.default.Scope.BLOCK)!=null}):!1}function x(w){var j=w.reduce(function(S,_){return S+=_.delete||0,S},0),N=w.length()-j;return y(w)&&(N-=1),N}n.default=g,n.getLastChangeIndex=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var i=function(){function I(U,K){for(var H=0;H<K.length;H++){var B=K[H];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(U,B.key,B)}}return function(U,K,H){return K&&I(U.prototype,K),H&&I(U,H),U}}(),o=function I(U,K,H){U===null&&(U=Function.prototype);var B=Object.getOwnPropertyDescriptor(U,K);if(B===void 0){var F=Object.getPrototypeOf(U);return F===null?void 0:I(F,K,H)}else{if("value"in B)return B.value;var V=B.get;return V===void 0?void 0:V.call(H)}},l=s(3),c=P(l),d=s(2),u=P(d),f=s(8),h=P(f),p=s(23),m=P(p),v=s(34),g=P(v),y=s(59),x=P(y),w=s(60),j=P(w),N=s(28),S=P(N),_=s(61),k=P(_);function P(I){return I&&I.__esModule?I:{default:I}}function E(I,U){if(!(I instanceof U))throw new TypeError("Cannot call a class as a function")}function C(I,U){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:I}function A(I,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);I.prototype=Object.create(U&&U.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(I,U):I.__proto__=U)}var D=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],O=[!1,"serif","monospace"],z=["1","2","3",!1],$=["small",!1,"large","huge"],q=function(I){A(U,I);function U(K,H){E(this,U);var B=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,H)),F=function V(W){if(!document.body.contains(K.root))return document.body.removeEventListener("click",V);B.tooltip!=null&&!B.tooltip.root.contains(W.target)&&document.activeElement!==B.tooltip.textbox&&!B.quill.hasFocus()&&B.tooltip.hide(),B.pickers!=null&&B.pickers.forEach(function(Y){Y.container.contains(W.target)||Y.close()})};return K.emitter.listenDOM("click",document.body,F),B}return i(U,[{key:"addModule",value:function(H){var B=o(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(B),B}},{key:"buildButtons",value:function(H,B){H.forEach(function(F){var V=F.getAttribute("class")||"";V.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),B[W]!=null))if(W==="direction")F.innerHTML=B[W][""]+B[W].rtl;else if(typeof B[W]=="string")F.innerHTML=B[W];else{var Y=F.value||"";Y!=null&&B[W][Y]&&(F.innerHTML=B[W][Y])}})})}},{key:"buildPickers",value:function(H,B){var F=this;this.pickers=H.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&T(W,D),new j.default(W,B.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var Y=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&T(W,M,Y==="background"?"#ffffff":"#000000"),new x.default(W,B[Y])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?T(W,O):W.classList.contains("ql-header")?T(W,z):W.classList.contains("ql-size")&&T(W,$)),new S.default(W)});var V=function(){F.pickers.forEach(function(Y){Y.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,V)}}]),U}(g.default);q.DEFAULTS=(0,c.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var H=new FileReader;H.onload=function(B){var F=U.quill.getSelection(!0);U.quill.updateContents(new u.default().retain(F.index).delete(F.length).insert({image:B.target.result}),h.default.sources.USER),U.quill.setSelection(F.index+1,h.default.sources.SILENT),K.value=""},H.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var R=function(I){A(U,I);function U(K,H){E(this,U);var B=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,K,H));return B.textbox=B.root.querySelector('input[type="text"]'),B.listen(),B}return i(U,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(B){m.default.match(B,"enter")?(H.save(),B.preventDefault()):m.default.match(B,"escape")&&(H.cancel(),B.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),B!=null?this.textbox.value=B:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var B=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,h.default.sources.USER)),this.quill.root.scrollTop=B;break}case"video":H=L(H);case"formula":{if(!H)break;var F=this.quill.getSelection(!0);if(F!=null){var V=F.index+F.length;this.quill.insertEmbed(V,this.root.getAttribute("data-mode"),H,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(V+1," ",h.default.sources.USER),this.quill.setSelection(V+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U}(k.default);function L(I){var U=I.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||I.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=I.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":I}function T(I,U){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function(H){var B=document.createElement("option");H===K?B.setAttribute("selected","selected"):B.setAttribute("value",H),I.appendChild(B)})}n.BaseTooltip=R,n.default=q},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,d=this.iterator();c=d();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,d=this.head;d!=null;){if(d===l)return c;c+=d.length(),d=d.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var d,u=this.iterator();d=u();){var f=d.length();if(l<f||c&&l===f&&(d.next==null||d.next.length()!==0))return[d,l];l-=f}return[null,0]},o.prototype.forEach=function(l){for(var c,d=this.iterator();c=d();)l(c)},o.prototype.forEachAt=function(l,c,d){if(!(c<=0))for(var u=this.find(l),f=u[0],h=u[1],p,m=l-h,v=this.iterator(f);(p=v())&&m<l+c;){var g=p.length();l>m?d(p,l-m,Math.min(c,m+g-l)):d(p,0,Math.min(g,l+c-m)),m+=g}},o.prototype.map=function(l){return this.reduce(function(c,d){return c.push(l(d)),c},[])},o.prototype.reduce=function(l,c){for(var d,u=this.iterator();d=u();)c=l(c,d);return c},o}();n.default=i},function(r,n,s){var i=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var m in p)p.hasOwnProperty(m)&&(h[m]=p[m])};return function(h,p){f(h,p);function m(){this.constructor=h}h.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(17),l=s(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,u=function(f){i(h,f);function h(p){var m=f.call(this,p)||this;return m.scroll=m,m.observer=new MutationObserver(function(v){m.update(v)}),m.observer.observe(m.domNode,c),m.attach(),m}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,m){this.update(),p===0&&m===this.length()?this.children.forEach(function(v){v.remove()}):f.prototype.deleteAt.call(this,p,m)},h.prototype.formatAt=function(p,m,v,g){this.update(),f.prototype.formatAt.call(this,p,m,v,g)},h.prototype.insertAt=function(p,m,v){this.update(),f.prototype.insertAt.call(this,p,m,v)},h.prototype.optimize=function(p,m){var v=this;p===void 0&&(p=[]),m===void 0&&(m={}),f.prototype.optimize.call(this,m);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var y=function(N,S){S===void 0&&(S=!0),!(N==null||N===v)&&N.domNode.parentNode!=null&&(N.domNode[l.DATA_KEY].mutations==null&&(N.domNode[l.DATA_KEY].mutations=[]),S&&y(N.parent))},x=function(N){N.domNode[l.DATA_KEY]==null||N.domNode[l.DATA_KEY].mutations==null||(N instanceof o.default&&N.children.forEach(x),N.optimize(m))},w=p,j=0;w.length>0;j+=1){if(j>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(N){var S=l.find(N.target,!0);S!=null&&(S.domNode===N.target&&(N.type==="childList"?(y(l.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(_){var k=l.find(_,!1);y(k,!1),k instanceof o.default&&k.children.forEach(function(P){y(P,!1)})})):N.type==="attributes"&&y(S.prev)),y(S))}),this.children.forEach(x),w=[].slice.call(this.observer.takeRecords()),g=w.slice();g.length>0;)p.push(g.pop())}},h.prototype.update=function(p,m){var v=this;m===void 0&&(m={}),p=p||this.observer.takeRecords(),p.map(function(g){var y=l.find(g.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[g],y):(y.domNode[l.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===v||g.domNode[l.DATA_KEY]==null||g.update(g.domNode[l.DATA_KEY].mutations||[],m)}),this.domNode[l.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,m),this.optimize(p,m)},h.blotName="scroll",h.defaultChild="block",h.scope=l.Scope.BLOCK_BLOT,h.tagName="DIV",h}(o.default);n.default=u},function(r,n,s){var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),l=s(1);function c(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var d=function(u){i(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var m=this;h===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(f.blotName,!0)),m.attributes.copy(v)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,m,v){if(this.formats()[m]!=null||l.query(m,l.Scope.ATTRIBUTE)){var g=this.isolate(h,p);g.format(m,v)}else u.prototype.formatAt.call(this,h,p,m,v)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var m=this.next;m instanceof f&&m.prev===this&&c(p,m.formats())&&(m.moveChildren(this),m.remove())},f.blotName="inline",f.scope=l.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=d},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(18),l=s(1),c=function(d){i(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.formats=function(f){var h=l.query(u.blotName).tagName;if(f.tagName!==h)return d.formats.call(this,f)},u.prototype.format=function(f,h){l.query(f,l.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):d.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,m){l.query(p,l.Scope.BLOCK)!=null?this.format(p,m):d.prototype.formatAt.call(this,f,h,p,m)},u.prototype.insertAt=function(f,h,p){if(p==null||l.query(h,l.Scope.INLINE)!=null)d.prototype.insertAt.call(this,f,h,p);else{var m=this.split(f),v=l.create(h,p);m.parent.insertBefore(v,m)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,f,h)},u.blotName="block",u.scope=l.Scope.BLOCK_BLOT,u.tagName="P",u}(o.default);n.default=c},function(r,n,s){var i=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var f in u)u.hasOwnProperty(f)&&(d[f]=u[f])};return function(d,u){c(d,u);function f(){this.constructor=d}d.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),l=function(c){i(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(u){},d.prototype.format=function(u,f){c.prototype.formatAt.call(this,0,this.length(),u,f)},d.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):c.prototype.formatAt.call(this,u,f,h,p)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(o.default);n.default=l},function(r,n,s){var i=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=s(19),l=s(1),c=function(d){i(u,d);function u(f){var h=d.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):d.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){d.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=l.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(m){return m.type==="characterData"&&m.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=l.Scope.INLINE_BLOT,u}(o.default);n.default=c},function(r,n,s){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var d=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>d.length)&&(c=d.length),c-=l.length;var u=d.indexOf(l,c);return u!==-1&&u===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),u=d.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=d[p],c.call(f,h,p,d))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var s=-1,i=1,o=0;function l(j,N,S){if(j==N)return j?[[o,j]]:[];(S<0||j.length<S)&&(S=null);var _=f(j,N),k=j.substring(0,_);j=j.substring(_),N=N.substring(_),_=h(j,N);var P=j.substring(j.length-_);j=j.substring(0,j.length-_),N=N.substring(0,N.length-_);var E=c(j,N);return k&&E.unshift([o,k]),P&&E.push([o,P]),m(E),S!=null&&(E=y(E,S)),E=x(E),E}function c(j,N){var S;if(!j)return[[i,N]];if(!N)return[[s,j]];var _=j.length>N.length?j:N,k=j.length>N.length?N:j,P=_.indexOf(k);if(P!=-1)return S=[[i,_.substring(0,P)],[o,k],[i,_.substring(P+k.length)]],j.length>N.length&&(S[0][0]=S[2][0]=s),S;if(k.length==1)return[[s,j],[i,N]];var E=p(j,N);if(E){var C=E[0],A=E[1],D=E[2],M=E[3],O=E[4],z=l(C,D),$=l(A,M);return z.concat([[o,O]],$)}return d(j,N)}function d(j,N){for(var S=j.length,_=N.length,k=Math.ceil((S+_)/2),P=k,E=2*k,C=new Array(E),A=new Array(E),D=0;D<E;D++)C[D]=-1,A[D]=-1;C[P+1]=0,A[P+1]=0;for(var M=S-_,O=M%2!=0,z=0,$=0,q=0,R=0,L=0;L<k;L++){for(var T=-L+z;T<=L-$;T+=2){var I=P+T,U;T==-L||T!=L&&C[I-1]<C[I+1]?U=C[I+1]:U=C[I-1]+1;for(var K=U-T;U<S&&K<_&&j.charAt(U)==N.charAt(K);)U++,K++;if(C[I]=U,U>S)$+=2;else if(K>_)z+=2;else if(O){var H=P+M-T;if(H>=0&&H<E&&A[H]!=-1){var B=S-A[H];if(U>=B)return u(j,N,U,K)}}}for(var F=-L+q;F<=L-R;F+=2){var H=P+F,B;F==-L||F!=L&&A[H-1]<A[H+1]?B=A[H+1]:B=A[H-1]+1;for(var V=B-F;B<S&&V<_&&j.charAt(S-B-1)==N.charAt(_-V-1);)B++,V++;if(A[H]=B,B>S)R+=2;else if(V>_)q+=2;else if(!O){var I=P+M-F;if(I>=0&&I<E&&C[I]!=-1){var U=C[I],K=P+U-I;if(B=S-B,U>=B)return u(j,N,U,K)}}}}return[[s,j],[i,N]]}function u(j,N,S,_){var k=j.substring(0,S),P=N.substring(0,_),E=j.substring(S),C=N.substring(_),A=l(k,P),D=l(E,C);return A.concat(D)}function f(j,N){if(!j||!N||j.charAt(0)!=N.charAt(0))return 0;for(var S=0,_=Math.min(j.length,N.length),k=_,P=0;S<k;)j.substring(P,k)==N.substring(P,k)?(S=k,P=S):_=k,k=Math.floor((_-S)/2+S);return k}function h(j,N){if(!j||!N||j.charAt(j.length-1)!=N.charAt(N.length-1))return 0;for(var S=0,_=Math.min(j.length,N.length),k=_,P=0;S<k;)j.substring(j.length-k,j.length-P)==N.substring(N.length-k,N.length-P)?(S=k,P=S):_=k,k=Math.floor((_-S)/2+S);return k}function p(j,N){var S=j.length>N.length?j:N,_=j.length>N.length?N:j;if(S.length<4||_.length*2<S.length)return null;function k($,q,R){for(var L=$.substring(R,R+Math.floor($.length/4)),T=-1,I="",U,K,H,B;(T=q.indexOf(L,T+1))!=-1;){var F=f($.substring(R),q.substring(T)),V=h($.substring(0,R),q.substring(0,T));I.length<V+F&&(I=q.substring(T-V,T)+q.substring(T,T+F),U=$.substring(0,R-V),K=$.substring(R+F),H=q.substring(0,T-V),B=q.substring(T+F))}return I.length*2>=$.length?[U,K,H,B,I]:null}var P=k(S,_,Math.ceil(S.length/4)),E=k(S,_,Math.ceil(S.length/2)),C;if(!P&&!E)return null;E?P?C=P[4].length>E[4].length?P:E:C=E:C=P;var A,D,M,O;j.length>N.length?(A=C[0],D=C[1],M=C[2],O=C[3]):(M=C[0],O=C[1],A=C[2],D=C[3]);var z=C[4];return[A,D,M,O,z]}function m(j){j.push([o,""]);for(var N=0,S=0,_=0,k="",P="",E;N<j.length;)switch(j[N][0]){case i:_++,P+=j[N][1],N++;break;case s:S++,k+=j[N][1],N++;break;case o:S+_>1?(S!==0&&_!==0&&(E=f(P,k),E!==0&&(N-S-_>0&&j[N-S-_-1][0]==o?j[N-S-_-1][1]+=P.substring(0,E):(j.splice(0,0,[o,P.substring(0,E)]),N++),P=P.substring(E),k=k.substring(E)),E=h(P,k),E!==0&&(j[N][1]=P.substring(P.length-E)+j[N][1],P=P.substring(0,P.length-E),k=k.substring(0,k.length-E))),S===0?j.splice(N-_,S+_,[i,P]):_===0?j.splice(N-S,S+_,[s,k]):j.splice(N-S-_,S+_,[s,k],[i,P]),N=N-S-_+(S?1:0)+(_?1:0)+1):N!==0&&j[N-1][0]==o?(j[N-1][1]+=j[N][1],j.splice(N,1)):N++,_=0,S=0,k="",P="";break}j[j.length-1][1]===""&&j.pop();var C=!1;for(N=1;N<j.length-1;)j[N-1][0]==o&&j[N+1][0]==o&&(j[N][1].substring(j[N][1].length-j[N-1][1].length)==j[N-1][1]?(j[N][1]=j[N-1][1]+j[N][1].substring(0,j[N][1].length-j[N-1][1].length),j[N+1][1]=j[N-1][1]+j[N+1][1],j.splice(N-1,1),C=!0):j[N][1].substring(0,j[N+1][1].length)==j[N+1][1]&&(j[N-1][1]+=j[N+1][1],j[N][1]=j[N][1].substring(j[N+1][1].length)+j[N+1][1],j.splice(N+1,1),C=!0)),N++;C&&m(j)}var v=l;v.INSERT=i,v.DELETE=s,v.EQUAL=o,r.exports=v;function g(j,N){if(N===0)return[o,j];for(var S=0,_=0;_<j.length;_++){var k=j[_];if(k[0]===s||k[0]===o){var P=S+k[1].length;if(N===P)return[_+1,j];if(N<P){j=j.slice();var E=N-S,C=[k[0],k[1].slice(0,E)],A=[k[0],k[1].slice(E)];return j.splice(_,1,C,A),[_+1,j]}else S=P}}throw new Error("cursor_pos is out of bounds!")}function y(j,N){var S=g(j,N),_=S[1],k=S[0],P=_[k],E=_[k+1];if(P==null)return j;if(P[0]!==o)return j;if(E!=null&&P[1]+E[1]===E[1]+P[1])return _.splice(k,2,E,P),w(_,k,2);if(E!=null&&E[1].indexOf(P[1])===0){_.splice(k,2,[E[0],P[1]],[0,P[1]]);var C=E[1].slice(P[1].length);return C.length>0&&_.splice(k+2,0,[E[0],C]),w(_,k,3)}else return j}function x(j){for(var N=!1,S=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},_=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},k=2;k<j.length;k+=1)j[k-2][0]===o&&_(j[k-2][1])&&j[k-1][0]===s&&S(j[k-1][1])&&j[k][0]===i&&S(j[k][1])&&(N=!0,j[k-1][1]=j[k-2][1].slice(-1)+j[k-1][1],j[k][1]=j[k-2][1].slice(-1)+j[k][1],j[k-2][1]=j[k-2][1].slice(0,-1));if(!N)return j;for(var P=[],k=0;k<j.length;k+=1)j[k][1].length>0&&P.push(j[k]);return P}function w(j,N,S){for(var _=N+S-1;_>=0&&_>=N-1;_--)if(_+1<j.length){var k=j[_],P=j[_+1];k[0]===P[1]&&j.splice(_,2,[k[0],k[1]+P[1]])}return j}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:s,n.shim=s;function s(i){var o=[];for(var l in i)o.push(l);return o}},function(r,n){var s=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=s?i:o,n.supported=i;function i(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var s=Object.prototype.hasOwnProperty,i="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(i=!1));function l(d,u,f){this.fn=d,this.context=u,this.once=f||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)s.call(f,h)&&u.push(i?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},c.prototype.listeners=function(u,f){var h=i?i+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var m=0,v=p.length,g=new Array(v);m<v;m++)g[m]=p[m].fn;return g},c.prototype.emit=function(u,f,h,p,m,v){var g=i?i+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,w,j;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,p),!0;case 5:return y.fn.call(y.context,f,h,p,m),!0;case 6:return y.fn.call(y.context,f,h,p,m,v),!0}for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];y.fn.apply(y.context,w)}else{var N=y.length,S;for(j=0;j<N;j++)switch(y[j].once&&this.removeListener(u,y[j].fn,void 0,!0),x){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,f);break;case 3:y[j].fn.call(y[j].context,f,h);break;case 4:y[j].fn.call(y[j].context,f,h,p);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];y[j].fn.apply(y[j].context,w)}}return!0},c.prototype.on=function(u,f,h){var p=new l(f,h||this),m=i?i+u:u;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],p]:this._events[m].push(p):(this._events[m]=p,this._eventsCount++),this},c.prototype.once=function(u,f,h){var p=new l(f,h||this,!0),m=i?i+u:u;return this._events[m]?this._events[m].fn?this._events[m]=[this._events[m],p]:this._events[m].push(p):(this._events[m]=p,this._eventsCount++),this},c.prototype.removeListener=function(u,f,h,p){var m=i?i+u:u;if(!this._events[m])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[m],this;var v=this._events[m];if(v.fn)v.fn===f&&(!p||v.once)&&(!h||v.context===h)&&(--this._eventsCount===0?this._events=new o:delete this._events[m]);else{for(var g=0,y=[],x=v.length;g<x;g++)(v[g].fn!==f||p&&!v[g].once||h&&v[g].context!==h)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[m]}return this},c.prototype.removeAllListeners=function(u){var f;return u?(f=i?i+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=i,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},o=function(){function Z(J,pe){var X=[],ae=!0,le=!1,fe=void 0;try{for(var Q=J[Symbol.iterator](),we;!(ae=(we=Q.next()).done)&&(X.push(we.value),!(pe&&X.length===pe));ae=!0);}catch(Ne){le=!0,fe=Ne}finally{try{!ae&&Q.return&&Q.return()}finally{if(le)throw fe}}return X}return function(J,pe){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return Z(J,pe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function Z(J,pe){for(var X=0;X<pe.length;X++){var ae=pe[X];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(J,ae.key,ae)}}return function(J,pe,X){return pe&&Z(J.prototype,pe),X&&Z(J,X),J}}(),c=s(3),d=A(c),u=s(2),f=A(u),h=s(0),p=A(h),m=s(5),v=A(m),g=s(10),y=A(g),x=s(9),w=A(x),j=s(36),N=s(37),S=s(13),_=A(S),k=s(26),P=s(38),E=s(39),C=s(40);function A(Z){return Z&&Z.__esModule?Z:{default:Z}}function D(Z,J,pe){return J in Z?Object.defineProperty(Z,J,{value:pe,enumerable:!0,configurable:!0,writable:!0}):Z[J]=pe,Z}function M(Z,J){if(!(Z instanceof J))throw new TypeError("Cannot call a class as a function")}function O(Z,J){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:Z}function z(Z,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);Z.prototype=Object.create(J&&J.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,J):Z.__proto__=J)}var $=(0,y.default)("quill:clipboard"),q="__ql-matcher",R=[[Node.TEXT_NODE,me],[Node.TEXT_NODE,re],["br",ie],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,ve],["li",ue],["b",V.bind(V,"bold")],["i",V.bind(V,"italic")],["style",ee]],L=[j.AlignAttribute,P.DirectionAttribute].reduce(function(Z,J){return Z[J.keyName]=J,Z},{}),T=[j.AlignStyle,N.BackgroundStyle,k.ColorStyle,P.DirectionStyle,E.FontStyle,C.SizeStyle].reduce(function(Z,J){return Z[J.keyName]=J,Z},{}),I=function(Z){z(J,Z);function J(pe,X){M(this,J);var ae=O(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,pe,X));return ae.quill.root.addEventListener("paste",ae.onPaste.bind(ae)),ae.container=ae.quill.addContainer("ql-clipboard"),ae.container.setAttribute("contenteditable",!0),ae.container.setAttribute("tabindex",-1),ae.matchers=[],R.concat(ae.options.matchers).forEach(function(le){var fe=o(le,2),Q=fe[0],we=fe[1];!X.matchVisual&&we===de||ae.addMatcher(Q,we)}),ae}return l(J,[{key:"addMatcher",value:function(X,ae){this.matchers.push([X,ae])}},{key:"convert",value:function(X){if(typeof X=="string")return this.container.innerHTML=X.replace(/\>\r?\n +\</g,"><"),this.convert();var ae=this.quill.getFormat(this.quill.selection.savedRange.index);if(ae[_.default.blotName]){var le=this.container.innerText;return this.container.innerHTML="",new f.default().insert(le,D({},_.default.blotName,ae[_.default.blotName]))}var fe=this.prepareMatching(),Q=o(fe,2),we=Q[0],Ne=Q[1],je=F(this.container,we,Ne);return H(je,`
`)&&je.ops[je.ops.length-1].attributes==null&&(je=je.compose(new f.default().retain(je.length()-1).delete(1))),$.log("convert",this.container.innerHTML,je),this.container.innerHTML="",je}},{key:"dangerouslyPasteHTML",value:function(X,ae){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof X=="string")this.quill.setContents(this.convert(X),ae),this.quill.setSelection(0,v.default.sources.SILENT);else{var fe=this.convert(ae);this.quill.updateContents(new f.default().retain(X).concat(fe),le),this.quill.setSelection(X+fe.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(X){var ae=this;if(!(X.defaultPrevented||!this.quill.isEnabled())){var le=this.quill.getSelection(),fe=new f.default().retain(le.index),Q=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){fe=fe.concat(ae.convert()).delete(le.length),ae.quill.updateContents(fe,v.default.sources.USER),ae.quill.setSelection(fe.length()-le.length,v.default.sources.SILENT),ae.quill.scrollingContainer.scrollTop=Q,ae.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var X=this,ae=[],le=[];return this.matchers.forEach(function(fe){var Q=o(fe,2),we=Q[0],Ne=Q[1];switch(we){case Node.TEXT_NODE:le.push(Ne);break;case Node.ELEMENT_NODE:ae.push(Ne);break;default:[].forEach.call(X.container.querySelectorAll(we),function(je){je[q]=je[q]||[],je[q].push(Ne)});break}}),[ae,le]}}]),J}(w.default);I.DEFAULTS={matchers:[],matchVisual:!0};function U(Z,J,pe){return(typeof J>"u"?"undefined":i(J))==="object"?Object.keys(J).reduce(function(X,ae){return U(X,ae,J[ae])},Z):Z.reduce(function(X,ae){return ae.attributes&&ae.attributes[J]?X.push(ae):X.insert(ae.insert,(0,d.default)({},D({},J,pe),ae.attributes))},new f.default)}function K(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return Z[J]||(Z[J]=window.getComputedStyle(Z))}function H(Z,J){for(var pe="",X=Z.ops.length-1;X>=0&&pe.length<J.length;--X){var ae=Z.ops[X];if(typeof ae.insert!="string")break;pe=ae.insert+pe}return pe.slice(-1*J.length)===J}function B(Z){if(Z.childNodes.length===0)return!1;var J=K(Z);return["block","list-item"].indexOf(J.display)>-1}function F(Z,J,pe){return Z.nodeType===Z.TEXT_NODE?pe.reduce(function(X,ae){return ae(Z,X)},new f.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(X,ae){var le=F(ae,J,pe);return ae.nodeType===Z.ELEMENT_NODE&&(le=J.reduce(function(fe,Q){return Q(ae,fe)},le),le=(ae[q]||[]).reduce(function(fe,Q){return Q(ae,fe)},le)),X.concat(le)},new f.default):new f.default}function V(Z,J,pe){return U(pe,Z,!0)}function W(Z,J){var pe=p.default.Attributor.Attribute.keys(Z),X=p.default.Attributor.Class.keys(Z),ae=p.default.Attributor.Style.keys(Z),le={};return pe.concat(X).concat(ae).forEach(function(fe){var Q=p.default.query(fe,p.default.Scope.ATTRIBUTE);Q!=null&&(le[Q.attrName]=Q.value(Z),le[Q.attrName])||(Q=L[fe],Q!=null&&(Q.attrName===fe||Q.keyName===fe)&&(le[Q.attrName]=Q.value(Z)||void 0),Q=T[fe],Q!=null&&(Q.attrName===fe||Q.keyName===fe)&&(Q=T[fe],le[Q.attrName]=Q.value(Z)||void 0))}),Object.keys(le).length>0&&(J=U(J,le)),J}function Y(Z,J){var pe=p.default.query(Z);if(pe==null)return J;if(pe.prototype instanceof p.default.Embed){var X={},ae=pe.value(Z);ae!=null&&(X[pe.blotName]=ae,J=new f.default().insert(X,pe.formats(Z)))}else typeof pe.formats=="function"&&(J=U(J,pe.blotName,pe.formats(Z)));return J}function ie(Z,J){return H(J,`
`)||J.insert(`
`),J}function ee(){return new f.default}function ue(Z,J){var pe=p.default.query(Z);if(pe==null||pe.blotName!=="list-item"||!H(J,`
`))return J;for(var X=-1,ae=Z.parentNode;!ae.classList.contains("ql-clipboard");)(p.default.query(ae)||{}).blotName==="list"&&(X+=1),ae=ae.parentNode;return X<=0?J:J.compose(new f.default().retain(J.length()-1).retain(1,{indent:X}))}function re(Z,J){return H(J,`
`)||(B(Z)||J.length()>0&&Z.nextSibling&&B(Z.nextSibling))&&J.insert(`
`),J}function de(Z,J){if(B(Z)&&Z.nextElementSibling!=null&&!H(J,`

`)){var pe=Z.offsetHeight+parseFloat(K(Z).marginTop)+parseFloat(K(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+pe*1.5&&J.insert(`
`)}return J}function ve(Z,J){var pe={},X=Z.style||{};return X.fontStyle&&K(Z).fontStyle==="italic"&&(pe.italic=!0),X.fontWeight&&(K(Z).fontWeight.startsWith("bold")||parseInt(K(Z).fontWeight)>=700)&&(pe.bold=!0),Object.keys(pe).length>0&&(J=U(J,pe)),parseFloat(X.textIndent||0)>0&&(J=new f.default().insert("	").concat(J)),J}function me(Z,J){var pe=Z.data;if(Z.parentNode.tagName==="O:P")return J.insert(pe.trim());if(pe.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return J;if(!K(Z.parentNode).whiteSpace.startsWith("pre")){var X=function(le,fe){return fe=fe.replace(/[^\u00a0]/g,""),fe.length<1&&le?" ":fe};pe=pe.replace(/\r\n/g," ").replace(/\n/g," "),pe=pe.replace(/\s\s+/g,X.bind(X,!0)),(Z.previousSibling==null&&B(Z.parentNode)||Z.previousSibling!=null&&B(Z.previousSibling))&&(pe=pe.replace(/^\s+/,X.bind(X,!1))),(Z.nextSibling==null&&B(Z.parentNode)||Z.nextSibling!=null&&B(Z.nextSibling))&&(pe=pe.replace(/\s+$/,X.bind(X,!1)))}return J.insert(pe)}n.default=I,n.matchAttributor=W,n.matchBlot=Y,n.matchNewline=re,n.matchSpacing=de,n.matchText=me},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(v,g){for(var y=0;y<g.length;y++){var x=g[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,g,y){return g&&m(v.prototype,g),y&&m(v,y),v}}(),o=function m(v,g,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,g);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:m(w,g,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=s(6),c=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){h(v,m);function v(){return u(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,[{key:"optimize",value:function(y){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(c.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var i=function(){function C(A,D){var M=[],O=!0,z=!1,$=void 0;try{for(var q=A[Symbol.iterator](),R;!(O=(R=q.next()).done)&&(M.push(R.value),!(D&&M.length===D));O=!0);}catch(L){z=!0,$=L}finally{try{!O&&q.return&&q.return()}finally{if(z)throw $}}return M}return function(A,D){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return C(A,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(A,D){for(var M=0;M<D.length;M++){var O=D[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(A,O.key,O)}}return function(A,D,M){return D&&C(A.prototype,D),M&&C(A,M),A}}(),l=s(2),c=y(l),d=s(0),u=y(d),f=s(5),h=y(f),p=s(10),m=y(p),v=s(9),g=y(v);function y(C){return C&&C.__esModule?C:{default:C}}function x(C,A,D){return A in C?Object.defineProperty(C,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):C[A]=D,C}function w(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function j(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function N(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var S=(0,m.default)("quill:toolbar"),_=function(C){N(A,C);function A(D,M){w(this,A);var O=j(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,D,M));if(Array.isArray(O.options.container)){var z=document.createElement("div");P(z,O.options.container),D.container.parentNode.insertBefore(z,D.container),O.container=z}else typeof O.options.container=="string"?O.container=document.querySelector(O.options.container):O.container=O.options.container;if(!(O.container instanceof HTMLElement)){var $;return $=S.error("Container required for toolbar",O.options),j(O,$)}return O.container.classList.add("ql-toolbar"),O.controls=[],O.handlers={},Object.keys(O.options.handlers).forEach(function(q){O.addHandler(q,O.options.handlers[q])}),[].forEach.call(O.container.querySelectorAll("button, select"),function(q){O.attach(q)}),O.quill.on(h.default.events.EDITOR_CHANGE,function(q,R){q===h.default.events.SELECTION_CHANGE&&O.update(R)}),O.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var q=O.quill.selection.getRange(),R=i(q,1),L=R[0];O.update(L)}),O}return o(A,[{key:"addHandler",value:function(M,O){this.handlers[M]=O}},{key:"attach",value:function(M){var O=this,z=[].find.call(M.classList,function(q){return q.indexOf("ql-")===0});if(z){if(z=z.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){S.warn("ignoring attaching to disabled format",z,M);return}if(u.default.query(z)==null){S.warn("ignoring attaching to nonexistent format",z,M);return}}var $=M.tagName==="SELECT"?"change":"click";M.addEventListener($,function(q){var R=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var L=M.options[M.selectedIndex];L.hasAttribute("selected")?R=!1:R=L.value||!1}else M.classList.contains("ql-active")?R=!1:R=M.value||!M.hasAttribute("value"),q.preventDefault();O.quill.focus();var T=O.quill.selection.getRange(),I=i(T,1),U=I[0];if(O.handlers[z]!=null)O.handlers[z].call(O,R);else if(u.default.query(z).prototype instanceof u.default.Embed){if(R=prompt("Enter "+z),!R)return;O.quill.updateContents(new c.default().retain(U.index).delete(U.length).insert(x({},z,R)),h.default.sources.USER)}else O.quill.format(z,R,h.default.sources.USER);O.update(U)}),this.controls.push([z,M])}}},{key:"update",value:function(M){var O=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(z){var $=i(z,2),q=$[0],R=$[1];if(R.tagName==="SELECT"){var L=void 0;if(M==null)L=null;else if(O[q]==null)L=R.querySelector("option[selected]");else if(!Array.isArray(O[q])){var T=O[q];typeof T=="string"&&(T=T.replace(/\"/g,'\\"')),L=R.querySelector('option[value="'+T+'"]')}L==null?(R.value="",R.selectedIndex=-1):L.selected=!0}else if(M==null)R.classList.remove("ql-active");else if(R.hasAttribute("value")){var I=O[q]===R.getAttribute("value")||O[q]!=null&&O[q].toString()===R.getAttribute("value")||O[q]==null&&!R.getAttribute("value");R.classList.toggle("ql-active",I)}else R.classList.toggle("ql-active",O[q]!=null)})}}]),A}(g.default);_.DEFAULTS={};function k(C,A,D){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+A),D!=null&&(M.value=D),C.appendChild(M)}function P(C,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(D){var M=document.createElement("span");M.classList.add("ql-formats"),D.forEach(function(O){if(typeof O=="string")k(M,O);else{var z=Object.keys(O)[0],$=O[z];Array.isArray($)?E(M,z,$):k(M,z,$)}}),C.appendChild(M)})}function E(C,A,D){var M=document.createElement("select");M.classList.add("ql-"+A),D.forEach(function(O){var z=document.createElement("option");O!==!1?z.setAttribute("value",O):z.setAttribute("selected","selected"),M.appendChild(z)}),C.appendChild(M)}_.DEFAULTS={container:null,handlers:{clean:function(){var A=this,D=this.quill.getSelection();if(D!=null)if(D.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(O){u.default.query(O,u.default.Scope.INLINE)!=null&&A.quill.format(O,!1)})}else this.quill.removeFormat(D,h.default.sources.USER)},direction:function(A){var D=this.quill.getFormat().align;A==="rtl"&&D==null?this.quill.format("align","right",h.default.sources.USER):!A&&D==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",A,h.default.sources.USER)},indent:function(A){var D=this.quill.getSelection(),M=this.quill.getFormat(D),O=parseInt(M.indent||0);if(A==="+1"||A==="-1"){var z=A==="+1"?1:-1;M.direction==="rtl"&&(z*=-1),this.quill.format("indent",O+z,h.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,h.default.sources.USER)},list:function(A){var D=this.quill.getSelection(),M=this.quill.getFormat(D);A==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",A,h.default.sources.USER)}}},n.default=_,n.addControls=P},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(v,g){for(var y=0;y<g.length;y++){var x=g[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,g,y){return g&&m(v.prototype,g),y&&m(v,y),v}}(),o=function m(v,g,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,g);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:m(w,g,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=s(28),c=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){h(v,m);function v(g,y){u(this,v);var x=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return x.label.innerHTML=y,x.container.classList.add("ql-color-picker"),[].slice.call(x.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),x}return i(v,[{key:"buildItem",value:function(y){var x=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,y);return x.style.backgroundColor=y.getAttribute("value")||"",x}},{key:"selectItem",value:function(y,x){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,x);var w=this.label.querySelector(".ql-color-label"),j=y&&y.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=j:w.style.fill=j)}}]),v}(c.default);n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(v,g){for(var y=0;y<g.length;y++){var x=g[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,g,y){return g&&m(v.prototype,g),y&&m(v,y),v}}(),o=function m(v,g,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,g);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:m(w,g,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=s(28),c=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){h(v,m);function v(g,y){u(this,v);var x=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,g));return x.container.classList.add("ql-icon-picker"),[].forEach.call(x.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=y[w.getAttribute("data-value")||""]}),x.defaultItem=x.container.querySelector(".ql-selected"),x.selectItem(x.defaultItem),x}return i(v,[{key:"selectItem",value:function(y,x){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,y,x),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),v}(c.default);n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function c(d,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}}();function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(d,u){var f=this;o(this,c),this.quill=d,this.boundsContainer=u||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return i(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),m=this.root.getBoundingClientRect(),v=0;if(m.right>p.right&&(v=p.right-m.right,this.root.style.left=f+v+"px"),m.left<p.left&&(v=p.left-m.left,this.root.style.left=f+v+"px"),m.bottom>p.bottom){var g=m.bottom-m.top,y=u.bottom-u.top+g;this.root.style.top=h-y+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=l},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function E(C,A){var D=[],M=!0,O=!1,z=void 0;try{for(var $=C[Symbol.iterator](),q;!(M=(q=$.next()).done)&&(D.push(q.value),!(A&&D.length===A));M=!0);}catch(R){O=!0,z=R}finally{try{!M&&$.return&&$.return()}finally{if(O)throw z}}return D}return function(C,A){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function E(C,A,D){C===null&&(C=Function.prototype);var M=Object.getOwnPropertyDescriptor(C,A);if(M===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:E(O,A,D)}else{if("value"in M)return M.value;var z=M.get;return z===void 0?void 0:z.call(D)}},l=function(){function E(C,A){for(var D=0;D<A.length;D++){var M=A[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}return function(C,A,D){return A&&E(C.prototype,A),D&&E(C,D),C}}(),c=s(3),d=w(c),u=s(8),f=w(u),h=s(43),p=w(h),m=s(27),v=w(m),g=s(15),y=s(41),x=w(y);function w(E){return E&&E.__esModule?E:{default:E}}function j(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function N(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function S(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(E){S(C,E);function C(A,D){j(this,C),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=_);var M=N(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A,D));return M.quill.container.classList.add("ql-snow"),M}return l(C,[{key:"extendToolbar",value:function(D){D.container.classList.add("ql-snow"),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),x.default),this.tooltip=new P(this.quill,this.options.bounds),D.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,O){D.handlers.link.call(D,!O.format.link)})}}]),C}(p.default);k.DEFAULTS=(0,d.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var A=this.quill.getSelection();if(A==null||A.length==0)return;var D=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(D)&&D.indexOf("mailto:")!==0&&(D="mailto:"+D);var M=this.quill.theme.tooltip;M.edit("link",D)}else this.quill.format("link",!1)}}}}});var P=function(E){S(C,E);function C(A,D){j(this,C);var M=N(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A,D));return M.preview=M.root.querySelector("a.ql-preview"),M}return l(C,[{key:"listen",value:function(){var D=this;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){D.root.classList.contains("ql-editing")?D.save():D.edit("link",D.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(D.linkRange!=null){var O=D.linkRange;D.restoreFocus(),D.quill.formatText(O,"link",!1,f.default.sources.USER),delete D.linkRange}M.preventDefault(),D.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(M,O,z){if(M!=null){if(M.length===0&&z===f.default.sources.USER){var $=D.quill.scroll.descendant(v.default,M.index),q=i($,2),R=q[0],L=q[1];if(R!=null){D.linkRange=new g.Range(M.index-L,R.length());var T=v.default.formats(R.domNode);D.preview.textContent=T,D.preview.setAttribute("href",T),D.show(),D.position(D.quill.getBounds(D.linkRange));return}}else delete D.linkRange;D.hide()}})}},{key:"show",value:function(){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),C}(h.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=k},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(29),o=ae(i),l=s(36),c=s(38),d=s(64),u=s(65),f=ae(u),h=s(66),p=ae(h),m=s(67),v=ae(m),g=s(37),y=s(26),x=s(39),w=s(40),j=s(56),N=ae(j),S=s(68),_=ae(S),k=s(27),P=ae(k),E=s(69),C=ae(E),A=s(70),D=ae(A),M=s(71),O=ae(M),z=s(72),$=ae(z),q=s(73),R=ae(q),L=s(13),T=ae(L),I=s(74),U=ae(I),K=s(75),H=ae(K),B=s(57),F=ae(B),V=s(41),W=ae(V),Y=s(28),ie=ae(Y),ee=s(59),ue=ae(ee),re=s(60),de=ae(re),ve=s(61),me=ae(ve),Z=s(108),J=ae(Z),pe=s(62),X=ae(pe);function ae(le){return le&&le.__esModule?le:{default:le}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":x.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":x.FontStyle,"attributors/style/size":w.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":d.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":x.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":T.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":N.default,"formats/code":L.Code,"formats/italic":_.default,"formats/link":P.default,"formats/script":C.default,"formats/strike":D.default,"formats/underline":O.default,"formats/image":$.default,"formats/video":R.default,"formats/list/item":m.ListItem,"modules/formula":U.default,"modules/syntax":H.default,"modules/toolbar":F.default,"themes/bubble":J.default,"themes/snow":X.default,"ui/icons":W.default,"ui/picker":ie.default,"ui/icon-picker":de.default,"ui/color-picker":ue.default,"ui/tooltip":me.default},!0),n.default=o.default},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var i=function(){function v(g,y){for(var x=0;x<y.length;x++){var w=y[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,y,x){return y&&v(g.prototype,y),x&&v(g,x),g}}(),o=function v(g,y,x){g===null&&(g=Function.prototype);var w=Object.getOwnPropertyDescriptor(g,y);if(w===void 0){var j=Object.getPrototypeOf(g);return j===null?void 0:v(j,y,x)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(x)}},l=s(0),c=d(l);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function h(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var p=function(v){h(g,v);function g(){return u(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return i(g,[{key:"add",value:function(x,w){if(w==="+1"||w==="-1"){var j=this.value(x)||0;w=w==="+1"?j+1:j-1}return w===0?(this.remove(x),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,x,w)}},{key:"canAdd",value:function(x,w){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,x,w)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,x,parseInt(w))}},{key:"value",value:function(x){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,x))||void 0}}]),g}(c.default.Attributor.Class),m=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=m},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(4),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function p(m,v){for(var g=0;g<v.length;g++){var y=v[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,g){return v&&p(m.prototype,v),g&&p(m,g),m}}(),o=s(4),l=c(o);function c(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function u(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var h=function(p){f(m,p);function m(){return d(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return i(m,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),m}(l.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],n.default=h},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var i=function(){function j(N,S){for(var _=0;_<S.length;_++){var k=S[_];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,S,_){return S&&j(N.prototype,S),_&&j(N,_),N}}(),o=function j(N,S,_){N===null&&(N=Function.prototype);var k=Object.getOwnPropertyDescriptor(N,S);if(k===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:j(P,S,_)}else{if("value"in k)return k.value;var E=k.get;return E===void 0?void 0:E.call(_)}},l=s(0),c=p(l),d=s(4),u=p(d),f=s(25),h=p(f);function p(j){return j&&j.__esModule?j:{default:j}}function m(j,N,S){return N in j?Object.defineProperty(j,N,{value:S,enumerable:!0,configurable:!0,writable:!0}):j[N]=S,j}function v(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function g(j,N){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:j}function y(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(j,N):j.__proto__=N)}var x=function(j){y(N,j);function N(){return v(this,N),g(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return i(N,[{key:"format",value:function(_,k){_===w.blotName&&!k?this.replaceWith(c.default.create(this.statics.scope)):o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,_,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,k){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,k),this):(this.parent.unwrap(),o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,_,k))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:o(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,_)}}]),N}(u.default);x.blotName="list-item",x.tagName="LI";var w=function(j){y(N,j),i(N,null,[{key:"create",value:function(_){var k=_==="ordered"?"OL":"UL",P=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,k);return(_==="checked"||_==="unchecked")&&P.setAttribute("data-checked",_==="checked"),P}},{key:"formats",value:function(_){if(_.tagName==="OL")return"ordered";if(_.tagName==="UL")return _.hasAttribute("data-checked")?_.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(S){v(this,N);var _=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,S)),k=function(E){if(E.target.parentNode===S){var C=_.statics.formats(S),A=c.default.find(E.target);C==="checked"?A.format("list","unchecked"):C==="unchecked"&&A.format("list","checked")}};return S.addEventListener("touchstart",k),S.addEventListener("mousedown",k),_}return i(N,[{key:"format",value:function(_,k){this.children.length>0&&this.children.tail.format(_,k)}},{key:"formats",value:function(){return m({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,k){if(_ instanceof x)o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,_,k);else{var P=k==null?this.length():k.offset(this),E=this.split(P);E.parent.insertBefore(_,E)}}},{key:"optimize",value:function(_){o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,_);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var k=c.default.create(this.statics.defaultChild);_.moveChildren(k),this.appendChild(k)}o(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,_)}}]),N}(h.default);w.blotName="list",w.scope=c.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[x],n.ListItem=x,n.default=w},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(56),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function m(v,g){for(var y=0;y<g.length;y++){var x=g[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(v,x.key,x)}}return function(v,g,y){return g&&m(v.prototype,g),y&&m(v,y),v}}(),o=function m(v,g,y){v===null&&(v=Function.prototype);var x=Object.getOwnPropertyDescriptor(v,g);if(x===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:m(w,g,y)}else{if("value"in x)return x.value;var j=x.get;return j===void 0?void 0:j.call(y)}},l=s(6),c=d(l);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function f(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function h(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var p=function(m){h(v,m);function v(){return u(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return i(v,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),v}(c.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=s(6),o=l(i);function l(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&g(y.prototype,x),w&&g(y,w),y}}(),o=function g(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,x,w)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(w)}},l=s(0),c=u(l),d=s(27);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=["alt","height","width"],v=function(g){p(y,g);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(w,j){m.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return typeof w=="string"&&j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return m.reduce(function(j,N){return w.hasAttribute(N)&&(j[N]=w.getAttribute(N)),j},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,d.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(c.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function g(y,x){for(var w=0;w<x.length;w++){var j=x[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,j.key,j)}}return function(y,x,w){return x&&g(y.prototype,x),w&&g(y,w),y}}(),o=function g(y,x,w){y===null&&(y=Function.prototype);var j=Object.getOwnPropertyDescriptor(y,x);if(j===void 0){var N=Object.getPrototypeOf(y);return N===null?void 0:g(N,x,w)}else{if("value"in j)return j.value;var S=j.get;return S===void 0?void 0:S.call(w)}},l=s(4),c=s(27),d=u(c);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var m=["height","width"],v=function(g){p(y,g);function y(){return f(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return i(y,[{key:"format",value:function(w,j){m.indexOf(w)>-1?j?this.domNode.setAttribute(w,j):this.domNode.removeAttribute(w):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,w,j)}}],[{key:"create",value:function(w){var j=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,w);return j.setAttribute("frameborder","0"),j.setAttribute("allowfullscreen",!0),j.setAttribute("src",this.sanitize(w)),j}},{key:"formats",value:function(w){return m.reduce(function(j,N){return w.hasAttribute(N)&&(j[N]=w.getAttribute(N)),j},{})}},{key:"sanitize",value:function(w){return d.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),y}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var i=function(){function w(j,N){for(var S=0;S<N.length;S++){var _=N[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,N,S){return N&&w(j.prototype,N),S&&w(j,S),j}}(),o=function w(j,N,S){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,N);if(_===void 0){var k=Object.getPrototypeOf(j);return k===null?void 0:w(k,N,S)}else{if("value"in _)return _.value;var P=_.get;return P===void 0?void 0:P.call(S)}},l=s(35),c=p(l),d=s(5),u=p(d),f=s(9),h=p(f);function p(w){return w&&w.__esModule?w:{default:w}}function m(w,j){if(!(w instanceof j))throw new TypeError("Cannot call a class as a function")}function v(w,j){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:w}function g(w,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);w.prototype=Object.create(j&&j.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(w,j):w.__proto__=j)}var y=function(w){g(j,w);function j(){return m(this,j),v(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return i(j,null,[{key:"create",value:function(S){var _=o(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",S)),_}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),j}(c.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var x=function(w){g(j,w),i(j,null,[{key:"register",value:function(){u.default.register(y,!0)}}]);function j(){m(this,j);var N=v(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return j}(h.default);n.FormulaBlot=y,n.default=x},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var i=function(){function S(_,k){for(var P=0;P<k.length;P++){var E=k[P];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,k,P){return k&&S(_.prototype,k),P&&S(_,P),_}}(),o=function S(_,k,P){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,k);if(E===void 0){var C=Object.getPrototypeOf(_);return C===null?void 0:S(C,k,P)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(P)}},l=s(0),c=v(l),d=s(5),u=v(d),f=s(9),h=v(f),p=s(13),m=v(p);function v(S){return S&&S.__esModule?S:{default:S}}function g(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function y(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function x(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var w=function(S){x(_,S);function _(){return g(this,_),y(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return i(_,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),_}(m.default);w.className="ql-syntax";var j=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),N=function(S){x(_,S),i(_,null,[{key:"register",value:function(){u.default.register(j,!0),u.default.register(w,!0)}}]);function _(k,P){g(this,_);var E=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,k,P));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var C=null;return E.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(C),C=setTimeout(function(){E.highlight(),C=null},E.options.interval)}),E.highlight(),E}return i(_,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(C){C.highlight(P.options.highlight)}),this.quill.update(u.default.sources.SILENT),E!=null&&this.quill.setSelection(E,u.default.sources.SILENT)}}}]),_}(h.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var _=window.hljs.highlightAuto(S);return _.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=j,n.default=N},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var i=function _(k,P,E){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,P);if(C===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:_(A,P,E)}else{if("value"in C)return C.value;var D=C.get;return D===void 0?void 0:D.call(E)}},o=function(){function _(k,P){for(var E=0;E<P.length;E++){var C=P[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,P,E){return P&&_(k.prototype,P),E&&_(k,E),k}}(),l=s(3),c=g(l),d=s(8),u=g(d),f=s(43),h=g(f),p=s(15),m=s(41),v=g(m);function g(_){return _&&_.__esModule?_:{default:_}}function y(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function x(_,k){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:_}function w(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(_,k):_.__proto__=k)}var j=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(_){w(k,_);function k(P,E){y(this,k),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=j);var C=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,E));return C.quill.container.classList.add("ql-bubble"),C}return o(k,[{key:"extendToolbar",value:function(E){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),v.default)}}]),k}(h.default);N.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(_){w(k,_);function k(P,E){y(this,k);var C=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,E));return C.quill.on(u.default.events.EDITOR_CHANGE,function(A,D,M,O){if(A===u.default.events.SELECTION_CHANGE)if(D!=null&&D.length>0&&O===u.default.sources.USER){C.show(),C.root.style.left="0px",C.root.style.width="",C.root.style.width=C.root.offsetWidth+"px";var z=C.quill.getLines(D.index,D.length);if(z.length===1)C.position(C.quill.getBounds(D));else{var $=z[z.length-1],q=C.quill.getIndex($),R=Math.min($.length()-1,D.index+D.length-q),L=C.quill.getBounds(new p.Range(q,R));C.position(L)}}else document.activeElement!==C.textbox&&C.quill.hasFocus()&&C.hide()}),C}return o(k,[{key:"listen",value:function(){var E=this;i(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var C=E.quill.getSelection();C!=null&&E.position(E.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var C=i(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,E),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",C===0)return C;A.style.marginLeft=-1*C-A.offsetWidth/2+"px"}}]),k}(f.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=S,n.default=N},function(r,n,s){r.exports=s(63)}]).default})})(G5);var hie=G5.exports,pie=Wr&&Wr.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ef=Wr&&Wr.__assign||function(){return Ef=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ef.apply(this,arguments)},mie=Wr&&Wr.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n},cp=Wr&&Wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Vn=cp(b),vie=cp(Hf),Ol=cp(fie),$2=cp(hie),gie=function(e){pie(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(i,o,l,c){var d,u,f,h;i==="text-change"?(u=(d=n).onEditorChangeText)===null||u===void 0||u.call(d,n.editor.root.innerHTML,o,c,n.unprivilegedEditor):i==="selection-change"&&((h=(f=n).onEditorChangeSelection)===null||h===void 0||h.call(f,o,c,n.unprivilegedEditor))};var s=n.isControlled()?r.value:r.defaultValue;return n.value=s??"",n}return t.prototype.validateProps=function(r){var n;if(Vn.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Vn.default.Children.count(r.children)){var s=Vn.default.Children.only(r.children);if(((n=s)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var s=this,i;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(i=r.value,i??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),mie(this.cleanProps,this.dirtyProps).some(function(c){return!Ol.default(r[c],s.props[c])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(s){return!Ol.default(r[s],n.props[s])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var s=this;if(this.editor&&this.shouldComponentRegenerate(r)){var i=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,i=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(i),F2(function(){return s.setEditorSelection(d,c)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var s=new $2.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(s,n.tabIndex),this.hookEditor(s),s},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?Ol.default(r.ops,n.ops):Ol.default(r,n)},t.prototype.setEditorContents=function(r,n){var s=this;this.value=n;var i=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),F2(function(){return s.setEditorSelection(r,i)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var s=r.getLength();n.index=Math.max(0,Math.min(n.index,s-1)),n.length=Math.max(0,Math.min(n.length,s-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var s,i;!((i=(s=r)===null||s===void 0?void 0:s.scroll)===null||i===void 0)&&i.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=vie.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,s=n.children,i=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){r.editingArea=c}};return Vn.default.Children.count(s)?Vn.default.cloneElement(Vn.default.Children.only(s),l):i?Vn.default.createElement("pre",Ef({},l)):Vn.default.createElement("div",Ef({},l))},t.prototype.render=function(){var r;return Vn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,s,i){var o,l;if(this.editor){var c=this.isDelta(this.value)?i.getContents():i.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,s,i))}},t.prototype.onEditorChangeSelection=function(r,n,s){var i,o,l,c,d,u;if(this.editor){var f=this.getEditorSelection(),h=!f&&r,p=f&&!r;Ol.default(r,f)||(this.selection=r,(o=(i=this.props).onChangeSelection)===null||o===void 0||o.call(i,r,n,s),h?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,r,n,s):p&&((u=(d=this.props).onBlur)===null||u===void 0||u.call(d,f,n,s)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=$2.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Vn.default.Component);function F2(e){Promise.resolve().then(e)}var yie=gie;const xie=zn(yie),bie=({value:e,onChange:t,placeholder:r})=>{const n=b.useRef(null),s={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],[{align:[]}],["link"],["clean"]],clipboard:{matchVisual:!1}},i=["header","bold","italic","underline","strike","list","bullet","color","background","align","link"];return a.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"0.5rem",overflow:"hidden",backgroundColor:"#ffffff"},children:[a.jsx(xie,{ref:n,theme:"snow",value:e||"",onChange:t,modules:s,formats:i,placeholder:r||"Enter email body template...",style:{minHeight:"300px",backgroundColor:"#ffffff"}}),a.jsx("style",{children:`
        .ql-container {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
          font-size: 14px;
        }
        
        .ql-editor {
          min-height: 300px;
          max-height: 500px;
          overflow-y: auto;
        }
        
        .ql-editor.ql-blank::before {
          color: #9ca3af;
          font-style: normal;
        }
        
        .ql-toolbar {
          background-color: #f9fafb;
          border-bottom: 1px solid #e5e7eb;
          border-top: none;
          border-left: none;
          border-right: none;
        }
        
        .ql-container {
          border: none;
        }
        
        .ql-toolbar .ql-stroke {
          stroke: #4b5563;
        }
        
        .ql-toolbar .ql-fill {
          fill: #4b5563;
        }
        
        .ql-toolbar .ql-picker-label {
          color: #4b5563;
        }
        
        .ql-toolbar button:hover,
        .ql-toolbar button:focus,
        .ql-toolbar button.ql-active {
          color: #3b82f6;
        }
        
        .ql-toolbar button:hover .ql-stroke,
        .ql-toolbar button:focus .ql-stroke,
        .ql-toolbar button.ql-active .ql-stroke {
          stroke: #3b82f6;
        }
        
        .ql-toolbar button:hover .ql-fill,
        .ql-toolbar button:focus .ql-fill,
        .ql-toolbar button.ql-active .ql-fill {
          fill: #3b82f6;
        }
        
        .ql-snow .ql-picker.ql-expanded .ql-picker-label {
          border-color: #3b82f6;
        }
        
        .ql-snow .ql-picker.ql-expanded .ql-picker-options {
          border-color: #3b82f6;
        }
        
        /* Custom scrollbar for editor */
        .ql-editor::-webkit-scrollbar {
          width: 8px;
        }
        
        .ql-editor::-webkit-scrollbar-track {
          background: #f1f1f1;
        }
        
        .ql-editor::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }
        
        .ql-editor::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `})]})},jie=_m.forwardRef((e,t)=>{const r=b.useRef(null);return _m.useImperativeHandle(t,()=>({insertVariable:n=>{var i,o;const s=(i=r.current)==null?void 0:i.getEditor();if(s){const l=((o=s.getSelection())==null?void 0:o.index)||0;s.insertText(l,n),s.setSelection(l+n.length)}}})),a.jsx(bie,{...e,ref:r})}),wie=({onInsert:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(["ticket"]),i={ticket:{label:"Ticket Variables",color:"#3b82f6",variables:[{key:"ticket_id",label:"Ticket ID",example:"123"},{key:"ticket_number",label:"Ticket Number",example:"TKT-2025-001"},{key:"ticket_title",label:"Ticket Title",example:"Cannot access email"},{key:"ticket_description",label:"Description",example:"I cannot log into my email..."},{key:"ticket_priority",label:"Priority",example:"High"},{key:"ticket_status",label:"Status",example:"Open"},{key:"ticket_category",label:"Category",example:"Email Issues"},{key:"ticket_url",label:"Ticket URL",example:"https://helpdesk.com/tickets/123"}]},user:{label:"User Variables",color:"#8b5cf6",variables:[{key:"user_name",label:"User Name",example:"John Doe"},{key:"user_email",label:"User Email",example:"john@example.com"},{key:"assigned_to_name",label:"Assigned Engineer",example:"Jane Smith"},{key:"assigned_to_email",label:"Engineer Email",example:"jane@company.com"},{key:"created_by_name",label:"Created By",example:"Admin User"}]},system:{label:"System Variables",color:"#10b981",variables:[{key:"system_name",label:"System Name",example:"Nexus Support"},{key:"system_url",label:"System URL",example:"https://helpdesk.com"},{key:"company_name",label:"Company Name",example:"Your Company"}]},dates:{label:"Date Variables",color:"#f59e0b",variables:[{key:"created_date",label:"Created Date",example:"2025-10-19 10:30 AM"},{key:"updated_date",label:"Updated Date",example:"2025-10-19 02:45 PM"},{key:"current_date",label:"Current Date",example:"2025-10-20"}]}},o=c=>{s(d=>d.includes(c)?d.filter(u=>u!==c):[...d,c])},l=c=>{const d=`{{${c}}}`;navigator.clipboard.writeText(d).then(()=>{r(c),setTimeout(()=>r(null),2e3)}),e&&e(d)};return a.jsxs("div",{style:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"0.5rem",padding:"1rem"},children:[a.jsx("h4",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.75rem",marginTop:0},children:"Available Template Variables"}),a.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"1rem",marginTop:0},children:"Click any variable to copy it to clipboard"}),Object.entries(i).map(([c,d])=>a.jsxs("div",{style:{marginBottom:"0.75rem"},children:[a.jsxs("button",{onClick:()=>o(c),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem 0.75rem",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"0.375rem",cursor:"pointer",transition:"all 0.2s"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#f9fafb",u.currentTarget.style.borderColor=d.color},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#ffffff",u.currentTarget.style.borderColor="#e5e7eb"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("div",{style:{width:"0.75rem",height:"0.75rem",backgroundColor:d.color,borderRadius:"50%"}}),a.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:d.label}),a.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280",backgroundColor:"#f3f4f6",padding:"0.125rem 0.5rem",borderRadius:"9999px"},children:d.variables.length})]}),n.includes(c)?a.jsx(ZP,{style:{width:"1rem",height:"1rem",color:"#6b7280"}}):a.jsx(Jf,{style:{width:"1rem",height:"1rem",color:"#6b7280"}})]}),n.includes(c)&&a.jsx("div",{style:{marginTop:"0.5rem",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:d.variables.map(u=>a.jsxs("button",{onClick:()=>l(u.key),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"0.375rem",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},onMouseOver:f=>{f.currentTarget.style.backgroundColor="#eff6ff",f.currentTarget.style.borderColor="#3b82f6"},onMouseOut:f=>{f.currentTarget.style.backgroundColor="#ffffff",f.currentTarget.style.borderColor="#e5e7eb"},title:`Click to copy {{${u.key}}}
Example: ${u.example}`,children:[a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#111827",marginBottom:"0.125rem"},children:u.label}),a.jsx("div",{style:{fontSize:"0.625rem",color:"#6b7280",fontFamily:"monospace",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:`{{${u.key}}}`})]}),t===u.key?a.jsx(Sr,{style:{width:"1rem",height:"1rem",color:"#10b981",flexShrink:0}}):a.jsx(QP,{style:{width:"1rem",height:"1rem",color:"#9ca3af",flexShrink:0}})]},u.key))})]},c))]})},Nie=({isOpen:e,onClose:t,template:r,previewData:n})=>e?a.jsxs("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},onClick:t,children:[a.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:"0.5rem",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",maxWidth:"56rem",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:s=>s.stopPropagation(),children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"2.5rem",height:"2.5rem",backgroundColor:"#eff6ff",borderRadius:"0.5rem"},children:a.jsx(_t,{style:{width:"1.25rem",height:"1.25rem",color:"#3b82f6"}})}),a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",margin:0},children:"Template Preview"}),a.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:(r==null?void 0:r.template_name)||"Email Template"})]})]}),a.jsx("button",{onClick:t,style:{color:"#6b7280",background:"transparent",border:"none",cursor:"pointer",padding:"0.5rem",display:"flex",alignItems:"center",borderRadius:"0.375rem",transition:"all 0.2s"},onMouseOver:s=>{s.currentTarget.style.backgroundColor="#f3f4f6",s.currentTarget.style.color="#111827"},onMouseOut:s=>{s.currentTarget.style.backgroundColor="transparent",s.currentTarget.style.color="#6b7280"},children:a.jsx(Oe,{style:{width:"1.5rem",height:"1.5rem"}})})]}),a.jsxs("div",{style:{padding:"1rem 1.5rem",backgroundColor:"#fef3c7",borderBottom:"1px solid #fde68a",display:"flex",alignItems:"center",gap:"0.75rem"},children:[a.jsx(Qe,{style:{width:"1.25rem",height:"1.25rem",color:"#92400e"}}),a.jsx("span",{style:{fontSize:"0.875rem",color:"#92400e"},children:"This is a preview with sample data. Actual emails will use real data."})]}),a.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,backgroundColor:"#f9fafb"},children:a.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:"0.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[a.jsxs("div",{style:{padding:"1.5rem",borderBottom:"2px solid #e5e7eb"},children:[a.jsxs("div",{style:{marginBottom:"0.75rem"},children:[a.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"From:"}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#111827",marginTop:"0.25rem"},children:"Nexus Support <support@company.com>"})]}),a.jsxs("div",{style:{marginBottom:"0.75rem"},children:[a.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"To:"}),a.jsx("div",{style:{fontSize:"0.875rem",color:"#111827",marginTop:"0.25rem"},children:(n==null?void 0:n.user_email)||"user@example.com"})]}),a.jsxs("div",{children:[a.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Subject:"}),a.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"#111827",marginTop:"0.25rem"},children:(n==null?void 0:n.subject)||(r==null?void 0:r.subject)||"Email Subject"})]})]}),a.jsx("div",{style:{padding:"2rem 1.5rem",backgroundColor:"#ffffff"},children:a.jsx("div",{style:{fontSize:"0.875rem",lineHeight:"1.5",color:"#374151"},dangerouslySetInnerHTML:{__html:(n==null?void 0:n.body)||(r==null?void 0:r.body)||"<p>Email body will appear here...</p>"}})}),a.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f9fafb",borderTop:"1px solid #e5e7eb",fontSize:"0.75rem",color:"#6b7280",textAlign:"center"},children:[a.jsx("p",{style:{margin:"0 0 0.5rem 0"},children:"This email was sent by Nexus Support"}),a.jsx("p",{style:{margin:0},children:" 2025 Your Company. All rights reserved."})]})]})}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",padding:"1.5rem",borderTop:"1px solid #e5e7eb",backgroundColor:"#ffffff"},children:a.jsx("button",{onClick:t,style:{padding:"0.5rem 1.5rem",color:"#ffffff",backgroundColor:"#3b82f6",border:"none",borderRadius:"0.5rem",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s",fontSize:"0.875rem"},onMouseOver:s=>s.currentTarget.style.backgroundColor="#2563eb",onMouseOut:s=>s.currentTarget.style.backgroundColor="#3b82f6",children:"Close Preview"})})]}),a.jsx("style",{children:`
        .email-preview-content::-webkit-scrollbar {
          width: 8px;
        }
        
        .email-preview-content::-webkit-scrollbar-track {
          background: #f1f1f1;
        }
        
        .email-preview-content::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 4px;
        }
        
        .email-preview-content::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `})]}):null,_ie=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState({type:"",text:""}),[o,l]=b.useState({category:"",is_active:"",search:""}),[c,d]=b.useState(!1),[u,f]=b.useState("create"),[h,p]=b.useState(null),[m,v]=b.useState(!1),[g,y]=b.useState(null),[x,w]=b.useState({template_key:"",template_name:"",subject_template:"",body_template:"",category:"ticket",is_active:!0,description:""}),[j,N]=b.useState(!1),S=b.useRef(null),_=[{value:"ticket",label:"Ticket Events"},{value:"user",label:"User Events"},{value:"system",label:"System Notifications"},{value:"general",label:"General"}],k=async()=>{try{n(!0);const R={...o};Object.keys(R).forEach(T=>{R[T]===""&&delete R[T]});const L=await Ii.getAllTemplates(R);L.success&&t(L.data)}catch(R){console.error("Failed to fetch templates:",R),P("error","Failed to load templates")}finally{n(!1)}};b.useEffect(()=>{k()},[o]);const P=(R,L)=>{i({type:R,text:L}),setTimeout(()=>i({type:"",text:""}),5e3)},E=(R,L)=>{l(T=>({...T,[R]:L}))},C=()=>{f("create"),p(null),w({template_key:"",template_name:"",subject_template:"",body_template:"",category:"ticket",is_active:!0,description:""}),d(!0)},A=async R=>{f("edit"),p(R),w({template_key:R.template_key,template_name:R.template_name,subject_template:R.subject_template,body_template:R.body_template,category:R.category,is_active:R.is_active,description:R.description||""}),d(!0)},D=(R,L)=>{w(T=>({...T,[R]:L}))},M=async()=>{var R,L;try{if(!x.template_key||!x.template_name||!x.subject_template||!x.body_template){P("error","Please fill in all required fields");return}N(!0);let T;u==="create"?(T=await Ii.createTemplate(x),P("success","Template created successfully")):(T=await Ii.updateTemplate(h.template_id,x),P("success","Template updated successfully")),T.success&&(d(!1),k())}catch(T){console.error("Save template failed:",T),P("error",((L=(R=T.response)==null?void 0:R.data)==null?void 0:L.message)||"Failed to save template")}finally{N(!1)}},O=async R=>{if(window.confirm(`Are you sure you want to delete template "${R.template_name}"?`))try{(await Ii.deleteTemplate(R.template_id)).success&&(P("success","Template deleted successfully"),k())}catch(L){console.error("Delete template failed:",L),P("error","Failed to delete template")}},z=async R=>{try{const L=await Ii.previewTemplate(R.template_id);L.success&&(y(L.data),v(!0))}catch(L){console.error("Preview template failed:",L),P("error","Failed to preview template")}},$=async R=>{try{const L=await Ii.toggleTemplateStatus(R.template_id);L.success&&(P("success",`Template ${L.data.is_active?"activated":"deactivated"}`),k())}catch(L){console.error("Toggle status failed:",L),P("error","Failed to toggle template status")}},q=R=>{S.current&&S.current.insertVariable(R)};return a.jsx("div",{className:"email-templates-page",children:a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"page-title",children:[a.jsx(Qe,{style:{width:"2rem",height:"2rem",marginRight:"0.75rem"}}),"Email Templates Management"]}),a.jsx("p",{className:"page-description",children:"Create and manage email notification templates"})]}),a.jsxs("button",{className:"btn-create",onClick:C,children:[a.jsx(Vr,{style:{width:"1.25rem",height:"1.25rem"}}),"Create Template"]})]}),s.text&&a.jsxs("div",{className:`alert alert-${s.type}`,children:[s.type==="success"?a.jsx(Ce,{style:{width:"1.25rem",height:"1.25rem"}}):a.jsx(Se,{style:{width:"1.25rem",height:"1.25rem"}}),a.jsx("span",{children:s.text})]}),a.jsx("div",{className:"filters-section",children:a.jsxs("div",{className:"filters-row",children:[a.jsxs("div",{className:"search-wrapper",children:[a.jsx(aa,{className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search templates...",value:o.search,onChange:R=>E("search",R.target.value),className:"search-input"})]}),a.jsxs("select",{value:o.category,onChange:R=>E("category",R.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Categories"}),_.map(R=>a.jsx("option",{value:R.value,children:R.label},R.value))]}),a.jsxs("select",{value:o.is_active,onChange:R=>E("is_active",R.target.value),className:"filter-select",children:[a.jsx("option",{value:"",children:"All Status"}),a.jsx("option",{value:"true",children:"Active"}),a.jsx("option",{value:"false",children:"Inactive"})]}),a.jsxs("button",{onClick:k,disabled:r,className:"btn-refresh",children:[a.jsx(ut,{style:{width:"1.25rem",height:"1.25rem",animation:r?"spin 1s linear infinite":"none"}}),"Refresh"]})]})}),r?a.jsxs("div",{className:"loading-state",children:[a.jsx(ut,{style:{width:"3rem",height:"3rem",animation:"spin 1s linear infinite"}}),a.jsx("p",{children:"Loading templates..."})]}):e.length===0?a.jsxs("div",{className:"empty-state",children:[a.jsx(Qe,{style:{width:"4rem",height:"4rem",color:"#cbd5e1"}}),a.jsx("h3",{children:"No Templates Found"}),a.jsx("p",{children:"Create your first email template to get started"}),a.jsxs("button",{className:"btn-create",onClick:C,children:[a.jsx(Vr,{style:{width:"1.25rem",height:"1.25rem"}}),"Create Template"]})]}):a.jsx("div",{className:"templates-table",children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Template Key"}),a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Category"}),a.jsx("th",{children:"Status"}),a.jsx("th",{children:"Last Modified"}),a.jsx("th",{style:{textAlign:"right"},children:"Actions"})]})}),a.jsx("tbody",{children:e.map(R=>{var L;return a.jsxs("tr",{children:[a.jsx("td",{children:a.jsx("code",{className:"template-key",children:R.template_key})}),a.jsx("td",{children:a.jsxs("div",{className:"template-name-cell",children:[a.jsx("div",{className:"template-name",children:R.template_name}),a.jsx("div",{className:"template-subject",children:R.subject_template})]})}),a.jsx("td",{children:a.jsx("span",{className:"category-badge",children:((L=_.find(T=>T.value===R.category))==null?void 0:L.label)||R.category})}),a.jsx("td",{children:a.jsx("button",{onClick:()=>$(R),className:`status-toggle ${R.is_active?"active":"inactive"}`,children:R.is_active?" Active":" Inactive"})}),a.jsx("td",{className:"date-cell",children:new Date(R.updated_at).toLocaleDateString()}),a.jsx("td",{children:a.jsxs("div",{className:"actions-cell",children:[a.jsx("button",{onClick:()=>z(R),className:"action-btn preview",title:"Preview",children:a.jsx(_t,{style:{width:"1.125rem",height:"1.125rem"}})}),a.jsx("button",{onClick:()=>A(R),className:"action-btn edit",title:"Edit",children:a.jsx(zs,{style:{width:"1.125rem",height:"1.125rem"}})}),a.jsx("button",{onClick:()=>O(R),className:"action-btn delete",title:"Delete",children:a.jsx(jr,{style:{width:"1.125rem",height:"1.125rem"}})})]})})]},R.template_id)})})]})}),c&&a.jsx("div",{className:"modal-overlay",onClick:()=>d(!1),children:a.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{children:u==="create"?"Create New Template":"Edit Template"}),a.jsx("button",{onClick:()=>d(!1),className:"modal-close",children:a.jsx(Oe,{style:{width:"1.5rem",height:"1.5rem"}})})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{className:"form-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:["Template Key ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",className:"form-input",value:x.template_key,onChange:R=>D("template_key",R.target.value.toUpperCase()),placeholder:"TICKET_CREATED",disabled:u==="edit"}),a.jsx("p",{className:"form-hint",children:"Unique identifier (uppercase, underscores only)"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:["Template Name ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",className:"form-input",value:x.template_name,onChange:R=>D("template_name",R.target.value),placeholder:"New Ticket Created"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:["Category ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("select",{className:"form-select",value:x.category,onChange:R=>D("category",R.target.value),children:_.map(R=>a.jsx("option",{value:R.value,children:R.label},R.value))})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Status"}),a.jsxs("div",{className:"checkbox-wrapper",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:x.is_active,onChange:R=>D("is_active",R.target.checked)}),a.jsx("label",{htmlFor:"is_active",children:"Active"})]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{className:"form-label",children:"Description"}),a.jsx("textarea",{className:"form-textarea",value:x.description,onChange:R=>D("description",R.target.value),placeholder:"Brief description of when this template is used...",rows:"2"})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:["Subject Template ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx("input",{type:"text",className:"form-input",value:x.subject_template,onChange:R=>D("subject_template",R.target.value),placeholder:"New Ticket: {{ticket_number}}"}),a.jsxs("p",{className:"form-hint",children:["Use ","{{variable}}"," for dynamic content"]})]}),a.jsxs("div",{className:"form-group",children:[a.jsxs("label",{className:"form-label",children:["Email Body Template ",a.jsx("span",{className:"required",children:"*"})]}),a.jsx(jie,{ref:S,value:x.body_template,onChange:R=>D("body_template",R),placeholder:"Enter email body with HTML formatting..."})]}),a.jsx(wie,{onInsert:q})]}),a.jsxs("div",{className:"modal-footer",children:[a.jsx("button",{onClick:()=>d(!1),className:"btn-cancel",disabled:j,children:"Cancel"}),a.jsx("button",{onClick:M,className:"btn-save",disabled:j,children:j?a.jsxs(a.Fragment,{children:[a.jsx(ut,{style:{width:"1.125rem",height:"1.125rem",animation:"spin 1s linear infinite"}}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{style:{width:"1.125rem",height:"1.125rem"}}),"Save Template"]})})]})]})}),a.jsx(Nie,{isOpen:m,onClose:()=>v(!1),template:g,previewData:g})]})})},kie=({length:e=6,value:t,onChange:r,disabled:n=!1,autoFocus:s=!1})=>{const i=b.useRef([]);b.useEffect(()=>{s&&i.current[0]&&i.current[0].focus()},[s]);const o=(u,f)=>{const h=f.target.value;if(h&&!/^\d$/.test(h))return;const p=t.split("");p[u]=h,r(p.join("")),h&&u<e-1&&i.current[u+1].focus()},l=(u,f)=>{if(f.key==="Backspace")if(!t[u]&&u>0)i.current[u-1].focus();else{const h=t.split("");h[u]="",r(h.join(""))}f.key==="ArrowLeft"&&u>0&&i.current[u-1].focus(),f.key==="ArrowRight"&&u<e-1&&i.current[u+1].focus()},c=u=>{u.preventDefault();const f=u.clipboardData.getData("text").slice(0,e);if(!/^\d+$/.test(f))return;r(f);const h=Math.min(f.length,e-1);i.current[h].focus()},d=u=>{i.current[u].select()};return a.jsx("div",{className:"otp-input-container",children:Array.from({length:e}).map((u,f)=>a.jsx("input",{ref:h=>i.current[f]=h,type:"text",inputMode:"numeric",maxLength:1,value:t[f]||"",onChange:h=>o(f,h),onKeyDown:h=>l(f,h),onPaste:c,onFocus:()=>d(f),disabled:n,className:"otp-input","aria-label":`Digit ${f+1}`},f))})},Sie=async()=>{try{return(await oe.get("/2fa/settings")).data.data}catch(e){throw console.error("Error getting 2FA settings:",e),e}},Eie=async()=>{try{return(await oe.post("/2fa/setup/email")).data}catch(e){throw console.error("Error setting up email 2FA:",e),e}},Cie=async()=>{try{return(await oe.post("/2fa/send-otp")).data}catch(e){throw console.error("Error sending OTP:",e),e}},Pie=async(e,t="email")=>{try{return(await oe.post("/2fa/verify",{code:e,method:t})).data}catch(r){throw console.error("Error verifying OTP:",r),r}},Aie=async()=>{try{return(await oe.post("/2fa/enable")).data}catch(e){throw console.error("Error enabling 2FA:",e),e}},Oie=async e=>{try{return(await oe.post("/2fa/disable",{password:e})).data}catch(t){throw console.error("Error disabling 2FA:",t),t}},Tie=async()=>{try{return(await oe.post("/2fa/backup-codes/generate")).data.data}catch(e){throw console.error("Error generating backup codes:",e),e}},Mie=async()=>{try{return(await oe.get("/2fa/backup-codes/stats")).data.data}catch(e){throw console.error("Error getting backup codes stats:",e),e}},ya={get2FASettings:Sie,setupEmail2FA:Eie,sendOTP:Cie,verifyOTP:Pie,enable2FA:Aie,disable2FA:Oie,generateBackupCodes:Tie,getBackupCodesStats:Mie},Die=({onClose:e,onComplete:t})=>{const[r,n]=b.useState(1),[s,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(""),u=async()=>{var m,v;try{i(!0),l(""),await ya.setupEmail2FA(),await ya.sendOTP(),n(2)}catch(g){l(((v=(m=g.response)==null?void 0:m.data)==null?void 0:v.message)||"Failed to setup 2FA. Please try again.")}finally{i(!1)}},f=async()=>{var m,v;if(c.length!==6){l("Please enter a 6-digit code");return}try{i(!0),l(""),await ya.verifyOTP(c,"email"),await ya.enable2FA(),n(3)}catch(g){l(((v=(m=g.response)==null?void 0:m.data)==null?void 0:v.message)||"Invalid verification code. Please try again."),d("")}finally{i(!1)}},h=async()=>{var m,v;try{i(!0),l(""),d(""),await ya.sendOTP(),l("")}catch(g){l(((v=(m=g.response)==null?void 0:m.data)==null?void 0:v.message)||"Failed to resend code. Please try again.")}finally{i(!1)}},p=m=>{m.target.className==="security-settings-modal-overlay"&&e()};return a.jsx("div",{className:"security-settings-modal-overlay",onClick:p,children:a.jsxs("div",{className:"security-settings-modal-container security-settings-setup-modal",children:[a.jsxs("div",{className:"security-settings-modal-header",children:[a.jsxs("div",{className:"security-settings-modal-title",children:[a.jsx(Ae,{size:24}),a.jsx("h2",{children:"Enable Two-Factor Authentication"})]}),a.jsx("button",{className:"security-settings-btn-close",onClick:e,"aria-label":"Close",children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"security-settings-setup-progress",children:[a.jsxs("div",{className:`security-settings-progress-step ${r>=1?"active":""} ${r>1?"completed":""}`,children:[a.jsx("div",{className:"security-settings-step-circle",children:r>1?a.jsx(Ce,{size:20}):"1"}),a.jsx("span",{className:"security-settings-step-label",children:"Setup"})]}),a.jsx("div",{className:`security-settings-progress-line ${r>1?"completed":""}`}),a.jsxs("div",{className:`security-settings-progress-step ${r>=2?"active":""} ${r>2?"completed":""}`,children:[a.jsx("div",{className:"security-settings-step-circle",children:r>2?a.jsx(Ce,{size:20}):"2"}),a.jsx("span",{className:"security-settings-step-label",children:"Verify"})]}),a.jsx("div",{className:`security-settings-progress-line ${r>2?"completed":""}`}),a.jsxs("div",{className:`security-settings-progress-step ${r>=3?"active":""}`,children:[a.jsx("div",{className:"security-settings-step-circle",children:"3"}),a.jsx("span",{className:"security-settings-step-label",children:"Complete"})]})]}),a.jsxs("div",{className:"security-settings-modal-body",children:[o&&a.jsxs("div",{className:"security-settings-alert security-settings-alert-error",children:[a.jsx(Se,{size:18}),a.jsx("span",{children:o})]}),r===1&&a.jsxs("div",{className:"security-settings-setup-step",children:[a.jsxs("div",{className:"security-settings-step-header",children:[a.jsx("h3",{children:"Choose Authentication Method"}),a.jsx("p",{children:"Select how you want to receive verification codes"})]}),a.jsx("div",{className:"security-settings-method-options",children:a.jsxs("div",{className:"security-settings-method-card security-settings-method-active",children:[a.jsx("div",{className:"security-settings-method-icon",children:a.jsx(Qe,{size:40})}),a.jsxs("div",{className:"security-settings-method-content",children:[a.jsx("h4",{children:"Email Verification"}),a.jsx("p",{children:"Receive codes via email"}),a.jsxs("ul",{className:"security-settings-method-features",children:[a.jsx("li",{children:" Easy and convenient"}),a.jsx("li",{children:" No additional app required"}),a.jsx("li",{children:" Instant code delivery"})]})]}),a.jsx("div",{className:"security-settings-method-radio",children:a.jsx("div",{className:"security-settings-radio-dot"})})]})}),a.jsx("div",{className:"security-settings-step-actions",children:a.jsx("button",{className:"security-settings-btn security-settings-btn-primary security-settings-btn-block",onClick:u,disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"security-settings-spinner",size:18}),a.jsx("span",{children:"Setting up..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Qe,{size:18}),a.jsx("span",{children:"Continue with Email"})]})})})]}),r===2&&a.jsxs("div",{className:"security-settings-setup-step security-settings-verify-step",children:[a.jsx("div",{className:"security-settings-step-icon-large",children:a.jsx(Qe,{size:56})}),a.jsxs("div",{className:"security-settings-step-header",children:[a.jsx("h3",{children:"Verify Your Email"}),a.jsx("p",{children:"Enter the 6-digit code sent to your email address"})]}),a.jsx("div",{className:"security-settings-otp-container",children:a.jsx(kie,{length:6,value:c,onChange:d,disabled:s,autoFocus:!0})}),a.jsxs("div",{className:"security-settings-step-actions",children:[a.jsx("button",{className:"security-settings-btn security-settings-btn-primary security-settings-btn-block",onClick:f,disabled:s||c.length!==6,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Ie,{className:"security-settings-spinner",size:18}),a.jsx("span",{children:"Verifying..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ce,{size:18}),a.jsx("span",{children:"Verify Code"})]})}),a.jsx("button",{className:"security-settings-btn security-settings-btn-link",onClick:h,disabled:s,children:"Didn't receive the code? Resend"})]}),a.jsxs("div",{className:"security-settings-help-notes",children:[a.jsx("p",{children:" Code expires in 5 minutes"}),a.jsx("p",{children:" Check your spam/junk folder"}),a.jsx("p",{children:" Make sure your email is correct"})]})]}),r===3&&a.jsxs("div",{className:"security-settings-setup-step security-settings-complete-step",children:[a.jsx("div",{className:"security-settings-success-animation",children:a.jsx(Ce,{size:72,className:"security-settings-success-icon"})}),a.jsxs("div",{className:"security-settings-step-header",children:[a.jsx("h3",{children:"2FA Enabled Successfully!"}),a.jsx("p",{children:"Your account is now secured with two-factor authentication"})]}),a.jsxs("div",{className:"security-settings-completion-cards",children:[a.jsxs("div",{className:"security-settings-info-card security-settings-info-card-success",children:[a.jsx("h4",{children:" What's Active"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Email verification required at login"}),a.jsx("li",{children:"Backup codes generated"}),a.jsx("li",{children:"Enhanced account security"})]})]}),a.jsxs("div",{className:"security-settings-info-card security-settings-info-card-warning",children:[a.jsx("h4",{children:" Important Next Steps"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Save your backup codes securely"}),a.jsx("li",{children:"Store codes in a safe place"}),a.jsx("li",{children:"Each code works only once"})]})]})]}),a.jsx("div",{className:"security-settings-step-actions",children:a.jsxs("button",{className:"security-settings-btn security-settings-btn-primary security-settings-btn-block",onClick:t,children:[a.jsx(Ae,{size:18}),a.jsx("span",{children:"View Backup Codes"})]})})]})]})]})})},Rie=({onClose:e,onRegenerate:t})=>{const[r,n]=b.useState([]),[s,i]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,f]=b.useState("");b.useEffect(()=>{h()},[]);const h=async()=>{var y,x;try{l(!0),f("");const w=await ya.generateBackupCodes();n(w.codes||[]);const j=await ya.getBackupCodesStats();i(j)}catch(w){f(((x=(y=w.response)==null?void 0:y.data)==null?void 0:x.message)||"Failed to load backup codes")}finally{l(!1)}},p=()=>{const y=r.join(`
`);navigator.clipboard.writeText(y),d(!0),setTimeout(()=>d(!1),2e3)},m=()=>{const y=`NEXUS SUPPORT - 2FA BACKUP CODES
Generated: ${new Date().toLocaleString()}

IMPORTANT: Keep these codes in a secure location!
Each code can only be used once.

${r.map((N,S)=>`${S+1}. ${N}`).join(`
`)}

If you lose access to your email, you can use these codes to log in.
Generate new codes if you run out.
`,x=new Blob([y],{type:"text/plain"}),w=URL.createObjectURL(x),j=document.createElement("a");j.href=w,j.download=`nexus-2fa-backup-codes-${Date.now()}.txt`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(w)},v=async()=>{window.confirm("Are you sure? This will invalidate all existing backup codes.")&&(await h(),t&&t())},g=y=>{y.target.className==="security-settings-modal-overlay"&&e()};return a.jsx("div",{className:"security-settings-modal-overlay",onClick:g,children:a.jsxs("div",{className:"security-settings-modal-container security-settings-backup-modal",children:[a.jsxs("div",{className:"security-settings-modal-header",children:[a.jsxs("div",{className:"security-settings-modal-title",children:[a.jsx(Dd,{size:24}),a.jsx("h2",{children:"Backup Codes"})]}),a.jsx("button",{className:"security-settings-btn-close",onClick:e,"aria-label":"Close",children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"security-settings-modal-body",children:[u&&a.jsxs("div",{className:"security-settings-alert security-settings-alert-error",children:[a.jsx(Te,{size:18}),a.jsx("span",{children:u})]}),a.jsxs("div",{className:"security-settings-alert security-settings-alert-warning",children:[a.jsx(Te,{size:20}),a.jsxs("div",{children:[a.jsx("strong",{children:"Important: Save these codes now!"}),a.jsx("p",{children:"Each code can only be used once. If you lose access to your email, these codes are your only way to access your account."})]})]}),o?a.jsxs("div",{className:"security-settings-loading-state",children:[a.jsx("div",{className:"security-settings-spinner-large"}),a.jsx("p",{children:"Generating backup codes..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"security-settings-backup-codes-grid",children:r.map((y,x)=>a.jsxs("div",{className:"security-settings-backup-code-item",children:[a.jsx("span",{className:"security-settings-code-number",children:x+1}),a.jsx("span",{className:"security-settings-code-value",children:y})]},x))}),s&&a.jsxs("div",{className:"security-settings-backup-stats",children:[a.jsxs("div",{className:"security-settings-stat-item",children:[a.jsx("span",{className:"security-settings-stat-label",children:"Total Codes:"}),a.jsx("span",{className:"security-settings-stat-value",children:s.total_codes})]}),a.jsxs("div",{className:"security-settings-stat-item",children:[a.jsx("span",{className:"security-settings-stat-label",children:"Remaining:"}),a.jsx("span",{className:"security-settings-stat-value",children:s.unused_codes})]}),a.jsxs("div",{className:"security-settings-stat-item",children:[a.jsx("span",{className:"security-settings-stat-label",children:"Used:"}),a.jsx("span",{className:"security-settings-stat-value",children:s.used_codes})]})]}),a.jsxs("div",{className:"security-settings-backup-actions",children:[a.jsxs("button",{className:"security-settings-btn security-settings-btn-primary",onClick:m,children:[a.jsx(xo,{size:18}),a.jsx("span",{children:"Download Codes"})]}),a.jsx("button",{className:"security-settings-btn security-settings-btn-secondary",onClick:p,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Ce,{size:18}),a.jsx("span",{children:"Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(QP,{size:18}),a.jsx("span",{children:"Copy All"})]})}),a.jsxs("button",{className:"security-settings-btn security-settings-btn-outline",onClick:v,children:[a.jsx(ut,{size:18}),a.jsx("span",{children:"Regenerate"})]})]}),a.jsxs("div",{className:"security-settings-backup-instructions",children:[a.jsx("h4",{children:"How to use backup codes:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Save these codes in a secure location (password manager, safe place)"}),a.jsx("li",{children:`When logging in, click "Use backup code" if you can't access your email`}),a.jsx("li",{children:"Enter one of these codes to verify your identity"}),a.jsx("li",{children:"Each code works only once - generate new codes when running low"})]})]})]})]}),a.jsx("div",{className:"security-settings-modal-footer",children:a.jsx("button",{className:"security-settings-btn security-settings-btn-secondary",onClick:e,children:"Close"})})]})})},Lie=()=>{const[e,t]=b.useState(!0),[r,n]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(""),[u,f]=b.useState(""),[h,p]=b.useState(!1),[m,v]=b.useState(""),[g,y]=b.useState(!1),[x,w]=b.useState(""),[j,N]=b.useState(!1);b.useEffect(()=>{S()},[]);const S=async()=>{try{t(!0),d("");const A=await ya.get2FASettings();n(A)}catch(A){d("Failed to load security settings"),console.error(A)}finally{t(!1)}},_=()=>{p(!0),v(""),w(""),y(!1)},k=async()=>{var A,D;if(!m||m.trim()===""){w("Please enter your password to confirm");return}try{N(!0),w(""),await ya.disable2FA(m),f("Two-Factor Authentication disabled successfully"),p(!1),v(""),await S()}catch(M){w(((D=(A=M.response)==null?void 0:A.data)==null?void 0:D.message)||"Failed to disable 2FA. Please check your password.")}finally{N(!1)}},P=async()=>{r!=null&&r.is_enabled?_():i(!0)},E=async()=>{i(!1),f("Two-Factor Authentication enabled successfully! Please save your backup codes."),await S(),setTimeout(()=>{l(!0)},500)},C=A=>A?new Date(A).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return e&&!r?a.jsxs("div",{className:"security-settings-loading",children:[a.jsx("div",{className:"security-settings-spinner-large"}),a.jsx("p",{children:"Loading security settings..."})]}):a.jsxs("div",{className:"security-settings-page",children:[a.jsx("div",{className:"security-settings-header",children:a.jsxs("div",{className:"security-settings-header-content",children:[a.jsx(Ae,{className:"security-settings-header-icon",size:40}),a.jsxs("div",{className:"security-settings-header-text",children:[a.jsx("h1",{children:"Security Settings"}),a.jsx("p",{children:"Manage your account security and two-factor authentication"})]})]})}),c&&a.jsxs("div",{className:"security-settings-alert security-settings-alert-error",children:[a.jsx(Se,{size:20}),a.jsx("span",{children:c}),a.jsx("button",{className:"security-settings-alert-close",onClick:()=>d(""),children:""})]}),u&&a.jsxs("div",{className:"security-settings-alert security-settings-alert-success",children:[a.jsx(Ce,{size:20}),a.jsx("span",{children:u}),a.jsx("button",{className:"security-settings-alert-close",onClick:()=>f(""),children:""})]}),a.jsxs("div",{className:"security-settings-content",children:[a.jsxs("div",{className:"security-settings-card",children:[a.jsxs("div",{className:"security-settings-card-header",children:[a.jsxs("div",{className:"security-settings-card-title-group",children:[a.jsx(Ge,{className:"security-settings-card-icon",size:24}),a.jsxs("div",{children:[a.jsx("h2",{children:"Two-Factor Authentication (2FA)"}),a.jsx("p",{className:"security-settings-card-subtitle",children:"Add an extra layer of security to your account"})]})]}),a.jsx("div",{className:`security-settings-status-badge ${r!=null&&r.is_enabled?"security-settings-status-enabled":"security-settings-status-disabled"}`,children:r!=null&&r.is_enabled?a.jsxs(a.Fragment,{children:[a.jsx(Ce,{size:16}),a.jsx("span",{children:"Enabled"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Se,{size:16}),a.jsx("span",{children:"Disabled"})]})})]}),a.jsxs("div",{className:"security-settings-card-body",children:[a.jsx("div",{className:"security-settings-card-description",children:a.jsx("p",{children:"Two-factor authentication adds an additional layer of security by requiring a verification code from your email in addition to your password when signing in."})}),r!=null&&r.is_enabled?a.jsxs("div",{className:"security-settings-details",children:[a.jsxs("div",{className:"security-settings-detail-grid",children:[a.jsxs("div",{className:"security-settings-detail-item",children:[a.jsx("div",{className:"security-settings-detail-icon",children:a.jsx(Qe,{size:20})}),a.jsxs("div",{className:"security-settings-detail-content",children:[a.jsx("span",{className:"security-settings-detail-label",children:"Method"}),a.jsx("span",{className:"security-settings-detail-value",children:"Email Verification"})]})]}),a.jsxs("div",{className:"security-settings-detail-item",children:[a.jsx("div",{className:"security-settings-detail-icon",children:a.jsx(Ce,{size:20})}),a.jsxs("div",{className:"security-settings-detail-content",children:[a.jsx("span",{className:"security-settings-detail-label",children:"Email Status"}),a.jsx("span",{className:"security-settings-detail-value",children:r.email_verified?"Verified ":"Not Verified"})]})]}),a.jsxs("div",{className:"security-settings-detail-item",children:[a.jsx("div",{className:"security-settings-detail-icon",children:a.jsx(Dd,{size:20})}),a.jsxs("div",{className:"security-settings-detail-content",children:[a.jsx("span",{className:"security-settings-detail-label",children:"Backup Codes"}),a.jsxs("span",{className:"security-settings-detail-value",children:[r.remaining_backup_codes||0," remaining"]})]})]}),a.jsxs("div",{className:"security-settings-detail-item",children:[a.jsx("div",{className:"security-settings-detail-icon",children:a.jsx(W6,{size:20})}),a.jsxs("div",{className:"security-settings-detail-content",children:[a.jsx("span",{className:"security-settings-detail-label",children:"Trusted Devices"}),a.jsxs("span",{className:"security-settings-detail-value",children:[r.trusted_devices_count||0," devices"]})]})]})]}),r.enabled_at&&a.jsxs("div",{className:"security-settings-info-text",children:[a.jsx(Kp,{size:16}),a.jsxs("span",{children:["Enabled on ",C(r.enabled_at)]})]}),r.last_used_at&&a.jsxs("div",{className:"security-settings-info-text",children:[a.jsx(Kp,{size:16}),a.jsxs("span",{children:["Last used ",C(r.last_used_at)]})]})]}):a.jsxs("div",{className:"security-settings-prompt",children:[a.jsx("div",{className:"security-settings-prompt-icon",children:a.jsx(Ae,{size:48})}),a.jsx("h3",{children:"Protect Your Account"}),a.jsx("p",{children:"Enable two-factor authentication to significantly improve your account security. You'll need both your password and a verification code to sign in."}),a.jsxs("ul",{className:"security-settings-benefit-list",children:[a.jsx("li",{children:" Protects against password theft"}),a.jsx("li",{children:" Prevents unauthorized access"}),a.jsx("li",{children:" Email-based verification"}),a.jsx("li",{children:" Backup codes for emergencies"})]})]}),a.jsxs("div",{className:"security-settings-card-actions",children:[a.jsx("button",{className:`security-settings-btn ${r!=null&&r.is_enabled?"security-settings-btn-danger":"security-settings-btn-primary"}`,onClick:P,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"security-settings-btn-spinner"}),a.jsx("span",{children:"Loading..."})]}):r!=null&&r.is_enabled?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{size:18}),a.jsx("span",{children:"Disable 2FA"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ae,{size:18}),a.jsx("span",{children:"Enable 2FA"})]})}),(r==null?void 0:r.is_enabled)&&a.jsxs("button",{className:"security-settings-btn security-settings-btn-secondary",onClick:()=>l(!0),children:[a.jsx(Dd,{size:18}),a.jsx("span",{children:"View Backup Codes"})]})]})]})]}),a.jsxs("div",{className:"security-settings-card",children:[a.jsx("div",{className:"security-settings-card-header",children:a.jsxs("div",{className:"security-settings-card-title-group",children:[a.jsx(Se,{className:"security-settings-card-icon",size:24}),a.jsxs("div",{children:[a.jsx("h2",{children:"Security Activity"}),a.jsx("p",{className:"security-settings-card-subtitle",children:"Recent security events"})]})]})}),a.jsx("div",{className:"security-settings-card-body",children:a.jsxs("div",{className:"security-settings-activity-list",children:[a.jsxs("div",{className:"security-settings-activity-item",children:[a.jsx("div",{className:"security-settings-activity-icon security-settings-activity-success",children:a.jsx(Ce,{size:20})}),a.jsxs("div",{className:"security-settings-activity-content",children:[a.jsx("span",{className:"security-settings-activity-title",children:"Successful login"}),a.jsx("span",{className:"security-settings-activity-time",children:"2 hours ago"})]})]}),a.jsxs("div",{className:"security-settings-activity-item",children:[a.jsx("div",{className:"security-settings-activity-icon security-settings-activity-info",children:a.jsx(Kp,{size:20})}),a.jsxs("div",{className:"security-settings-activity-content",children:[a.jsx("span",{className:"security-settings-activity-title",children:"Password changed"}),a.jsx("span",{className:"security-settings-activity-time",children:"3 days ago"})]})]}),(r==null?void 0:r.is_enabled)&&a.jsxs("div",{className:"security-settings-activity-item",children:[a.jsx("div",{className:"security-settings-activity-icon security-settings-activity-success",children:a.jsx(Ce,{size:20})}),a.jsxs("div",{className:"security-settings-activity-content",children:[a.jsx("span",{className:"security-settings-activity-title",children:"2FA verification successful"}),a.jsx("span",{className:"security-settings-activity-time",children:"1 week ago"})]})]})]})})]})]}),h&&a.jsx("div",{className:"security-settings-modal-overlay",onClick:()=>!j&&p(!1),children:a.jsxs("div",{className:"security-settings-modal-container",onClick:A=>A.stopPropagation(),children:[a.jsxs("div",{className:"security-settings-modal-header",children:[a.jsxs("div",{className:"security-settings-modal-header-content",children:[a.jsx(Se,{size:24,style:{color:"#ef4444"}}),a.jsx("h3",{children:"Disable Two-Factor Authentication"})]}),a.jsx("button",{className:"security-settings-modal-close",onClick:()=>p(!1),disabled:j,children:a.jsx(Oe,{size:20})})]}),a.jsxs("div",{className:"security-settings-modal-body",children:[a.jsxs("div",{className:"security-settings-alert security-settings-alert-warning",children:[a.jsx(Se,{size:20}),a.jsxs("div",{children:[a.jsx("strong",{children:"Security Warning"}),a.jsx("p",{children:"Disabling 2FA will make your account less secure. You will only need your password to sign in."})]})]}),a.jsxs("div",{className:"security-settings-form-group",children:[a.jsxs("label",{className:"security-settings-form-label",children:[a.jsx(Ge,{size:16}),a.jsx("span",{children:"Enter your password to confirm"})]}),a.jsxs("div",{className:"security-settings-input-wrapper",children:[a.jsx("input",{type:g?"text":"password",value:m,onChange:A=>{v(A.target.value),w("")},placeholder:"Enter your password",className:`security-settings-input ${x?"security-settings-input-error":""}`,disabled:j,autoFocus:!0}),a.jsx("button",{type:"button",className:"security-settings-password-toggle",onClick:()=>y(!g),disabled:j,children:g?a.jsx(ta,{size:18}):a.jsx(_t,{size:18})})]}),x&&a.jsxs("div",{className:"security-settings-error-text",children:[a.jsx(Se,{size:14}),a.jsx("span",{children:x})]})]})]}),a.jsxs("div",{className:"security-settings-modal-footer",children:[a.jsx("button",{className:"security-settings-btn security-settings-btn-secondary",onClick:()=>p(!1),disabled:j,children:"Cancel"}),a.jsx("button",{className:"security-settings-btn security-settings-btn-danger",onClick:k,disabled:j||!m,children:j?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"security-settings-btn-spinner"}),a.jsx("span",{children:"Disabling..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ge,{size:18}),a.jsx("span",{children:"Disable 2FA"})]})})]})]})}),s&&a.jsx(Die,{onClose:()=>i(!1),onComplete:E}),o&&a.jsx(Rie,{onClose:()=>l(!1),onRegenerate:S})]})},Ir={categories:[{id:"getting-started",title:"Getting Started",icon:"",color:"#3b82f6",description:"Quick start guides and system overview",articleCount:3},{id:"tickets",title:"Ticket Management",icon:"",color:"#8b5cf6",description:"Creating, managing, and resolving support tickets",articleCount:4},{id:"sla",title:"SLA & Escalation",icon:"",color:"#f59e0b",description:"Service level agreements and auto-escalation rules",articleCount:1},{id:"users",title:"Users & Roles",icon:"",color:"#10b981",description:"Managing users, departments, and permissions",articleCount:1},{id:"admin",title:"Administration",icon:"",color:"#ef4444",description:"System settings, email, backup, and configuration",articleCount:1},{id:"troubleshooting",title:"Troubleshooting",icon:"",color:"#06b6d4",description:"Step-by-step solutions for common IT problems",articleCount:5}],articles:[{id:"quick-start",category:"getting-started",title:"Quick Start Guide",description:"Get started with Nexus Support in 10 minutes",difficulty:"Easy",readTime:"10 min",views:4521,helpful:98,icon:"",content:`# Quick Start Guide

Welcome to Nexus Support  your IT helpdesk solution!

## Step 1: Login (2 min)

Navigate to your Nexus Support URL and login with:
- Username or email
- Password
- 2FA code (if enabled)

## Step 2: Create Your First Ticket (3 min)

Click "New Ticket" button and fill in:

**Subject:** Be specific about the issue
-  Bad: "Computer problem"
-  Good: "Cannot access shared drive on Windows 10"

**Priority:**
-  Critical: Business stopped (4h resolution)
-  High: Major issue (8h resolution)
-  Medium: Work affected (24h resolution)
-  Low: Minor issue (48h resolution)

**Description:** Include what you were doing, what happened, error messages, when it started, and what you've tried.

**Attachments:** Up to 5 files, 10MB each. Screenshots highly recommended.

## Step 3: Track Your Tickets

Navigate to "My Tickets" to see status:
-  Open  Just created
-  Assigned  Engineer assigned
-  In Progress  Being worked on
-  Pending  Waiting for your response
-  Resolved  Fixed, awaiting confirmation
-  Closed  Complete

## Step 4: Communicate

Add comments to provide updates, answer questions, test solutions, and confirm resolution.

## Quick Tips

 Be specific in ticket titles
 Include screenshots
 Respond to "Pending" immediately
 Use correct priority
 Close tickets when done`,relatedArticles:["dashboard-overview","create-ticket","ticket-priorities"],tags:["quick start","beginner","tutorial","getting started"]},{id:"dashboard-overview",category:"getting-started",title:"Dashboard Overview",description:"Understanding your dashboard metrics and charts",difficulty:"Easy",readTime:"5 min",views:3245,helpful:96,icon:"",content:`# Dashboard Overview

Your dashboard shows key metrics at a glance.

## Top Statistics Cards

**Open Tickets**  Total tickets waiting for action
**In Progress**  Tickets currently being worked on
**Resolved Today**  Tickets closed today
**Avg Response Time**  Average first response time

## Priority Breakdown Chart

Visual pie chart showing tickets by priority:
-  Critical (red)
-  High (orange)
-  Medium (yellow)
-  Low (green)

## Recent Activity

Shows last 10 actions: new tickets, status changes, comments, assignments, and resolutions.

## Auto-Refresh

Dashboard updates every 30 seconds automatically.

## Mobile Responsive

Full functionality on mobile devices with touch-friendly interface.`,relatedArticles:["quick-start","ticket-status"],tags:["dashboard","overview","metrics","charts"]},{id:"navigation-guide",category:"getting-started",title:"Navigation & Features Guide",description:"Learn the sidebar, shortcuts, and key features",difficulty:"Easy",readTime:"6 min",views:2100,helpful:94,icon:"",content:`# Navigation Guide

## Sidebar Menu

The sidebar provides access to all features:
- **Dashboard**  Overview and statistics
- **My Tickets**  Your submitted tickets
- **All Tickets**  Browse all tickets (agents/admins)
- **Create Ticket**  Submit new request
- **Analytics**  Performance metrics and charts
- **Users**  User management (admin)
- **Settings**  System configuration (admin)
- **Help Center**  This page!

## Keyboard Shortcuts

- **Ctrl+K**  Quick search
- **Ctrl+N**  New ticket
- **Esc**  Close modal/dialog

## Notifications

Click the  bell icon (top right) to see alerts for ticket updates, assignments, and SLA warnings.

## Profile Settings

Click your avatar (top right) to access:
- Profile information
- Notification preferences
- Security settings (2FA)
- Theme toggle (light/dark mode)

## Search

Use the global search bar to find tickets by number, subject, or description.`,relatedArticles:["quick-start","dashboard-overview"],tags:["navigation","sidebar","shortcuts","features"]},{id:"create-ticket",category:"tickets",title:"Creating Effective Tickets",description:"How to create tickets that get resolved quickly",difficulty:"Easy",readTime:"8 min",views:5234,helpful:97,icon:"",content:`# Creating Effective Tickets

Well-written tickets get resolved faster!

## Required Fields

**Subject**  Be specific! Include what's affected and the type of issue.
-  "Help!"
-  "Cannot access shared drive after Windows update"

**Description**  Include:
1. What you were trying to do
2. What actually happened
3. Error messages (exact text)
4. When it started
5. What you've tried
6. Business impact

**Priority**  Based on business impact:
-  Critical: Business stopped
-  High: Major functionality broken
-  Medium: Work affected but manageable
-  Low: Minor issue or request

**Category**  Select most relevant: Hardware, Software, Network, Access, Email, Other

## Attach Files

Supported: PDF, DOC, XLS, JPG, PNG, GIF, TXT, LOG, ZIP
Limits: Max 5 files, 10MB each

## Screenshot Tips

**Windows:** Win+Shift+S for selection
**Mac:** Cmd+Shift+4 for selection

## Example Perfect Ticket

**Subject:** "Outlook crashes when opening PDF  Error 0x80070005"

**Description:**
What I was doing: Opening PDF attachment from email
What happened: Outlook freezes then crashes
Error: "Microsoft Outlook has stopped working"  Error 0x80070005
Started: This morning after Windows updates
Tried: Restarted Outlook 3x, rebooted computer
Impact: Cannot read customer contracts  5 urgent contracts waiting

**Priority:** High
**Attachments:** screenshot_error.png, event_log.txt

This gets resolved fast! `,relatedArticles:["ticket-priorities","ticket-status","attach-files"],tags:["create","ticket","new","best practices"]},{id:"ticket-priorities",category:"tickets",title:"Understanding Ticket Priorities",description:"How to choose the right priority level and SLA times",difficulty:"Easy",readTime:"7 min",views:5423,helpful:97,icon:"",content:`# Ticket Priorities & SLA

## Priority Levels

###  Critical
**SLA:** 1h response, 4h resolution
**Use when:** Entire system down, business stopped, security breach, data loss
**What happens:** Immediate assignment, senior engineer, manager notified

###  High
**SLA:** 2h response, 8h resolution
**Use when:** Major functionality broken, multiple users affected, time-sensitive
**What happens:** Assigned within 30 min, workaround provided if possible

###  Medium
**SLA:** 4h response, 24h resolution
**Use when:** Single user affected, work impacted but manageable
**What happens:** Assigned during business hours, resolution within 24h

###  Low
**SLA:** 8h response, 48h resolution
**Use when:** Minor annoyance, enhancement request, how-to question
**What happens:** Queued, may be batched with similar requests

## SLA Calculation

**Business Hours:** Mon-Fri, 9AM-6PM IST
- Weekends excluded
- Holidays excluded
- Timer pauses when status is "Pending"

## Decision Tree

Business completely stopped?   Critical
Multiple people can't work?   High
Your work significantly impacted?   Medium
Minor or nice-to-have?   Low

## Best Practices

 Choose based on business impact, not personal urgency
 Be honest about severity
 Don't mark everything as Critical
 Don't create duplicate tickets`,relatedArticles:["create-ticket","ticket-status","sla-explained"],tags:["priority","sla","critical","escalation","response time"]},{id:"ticket-status",category:"tickets",title:"Ticket Status Explained",description:"What each ticket status means and what to expect",difficulty:"Easy",readTime:"6 min",views:3982,helpful:95,icon:"",content:`# Ticket Status Workflow

## All Statuses

###  Open
Just created, waiting for assignment. Duration: 15 min  2 hours.

###  Assigned
Engineer assigned to your ticket. First response coming soon.

###  In Progress
Engineer actively working on it. Monitor for questions.

###  Pending  ACTION REQUIRED
Waiting for YOUR response! SLA timer is PAUSED. Respond quickly!

###  Resolved
Engineer believes it's fixed. Test and confirm, or reopen.
Auto-closes after 48h if no response.

###  Closed
Ticket complete and archived. Can reopen within 30 days.

###  Escalated
SLA breached  management involved. Higher priority attention.

## Typical Flow

Open  Assigned  In Progress  Resolved  Closed

## Tips

 Respond to "Pending" immediately  SLA is paused waiting for you
 Confirm resolutions quickly
 Provide complete info upfront to avoid back-and-forth`,relatedArticles:["create-ticket","ticket-priorities"],tags:["status","workflow","pending","resolved","closed"]},{id:"attach-files",category:"tickets",title:"Attaching Files & Screenshots",description:"How to attach files and take effective screenshots",difficulty:"Easy",readTime:"5 min",views:2876,helpful:94,icon:"",content:`# Attaching Files to Tickets

## Supported File Types

**Documents:** PDF, DOC, DOCX, XLS, XLSX, TXT, LOG, CSV
**Images:** JPG, PNG, GIF, BMP
**Archives:** ZIP, RAR, 7Z
**Blocked (Security):** EXE, BAT, CMD, JS, VBS, PS1, DLL

## Size Limits

Per file: 10 MB maximum
Per ticket: 5 files maximum

## Taking Screenshots

**Windows:**
- Full screen: PrintScreen
- Active window: Alt+PrintScreen
- Selection: Win+Shift+S (recommended)

**Mac:**
- Full screen: Cmd+Shift+3
- Selection: Cmd+Shift+4
- Window: Cmd+Shift+4, then Space

## What to Screenshot

 Full error messages and codes
 Window title bars for context
 Relevant system state
 Before/after comparisons

 Don't use blurry phone photos
 Don't capture sensitive passwords

## Troubleshooting Uploads

- **File too large:** Compress as ZIP, or resize images
- **Type not supported:** ZIP the file first
- **Upload stuck:** Clear browser cache, try different browser`,relatedArticles:["create-ticket"],tags:["attachments","files","upload","screenshots"]},{id:"sla-explained",category:"sla",title:"SLA & Auto-Escalation",description:"How SLA tracking and automatic escalation works",difficulty:"Medium",readTime:"8 min",views:2340,helpful:93,icon:"",content:`# SLA & Auto-Escalation

## What is SLA?

Service Level Agreement defines maximum response and resolution times for each priority level.

## SLA Targets

-  Critical: 1h response, 4h resolution
-  High: 2h response, 8h resolution
-  Medium: 4h response, 24h resolution
-  Low: 8h response, 48h resolution

## How SLA is Calculated

**Business hours only:** Mon-Fri, 9AM-6PM IST
- Timer starts when ticket is created
- Timer PAUSES outside business hours, weekends, holidays
- Timer PAUSES when ticket status is "Pending" (waiting for customer)
- Timer RESUMES when ticket is back "In Progress"

## Warning System

**At 80%:** Yellow warning badge, email to engineer
**At 100%:** RED breach indicator, auto-escalation triggered

## Auto-Escalation

When SLA breaches:
1. Status changes to "Escalated"
2. Notification sent to department manager
3. All stakeholders alerted
4. Manager reviews and may reassign
5. Escalated tickets get priority attention

## Tips to Avoid SLA Breach

 Set correct priority from the start
 Respond to "Pending" status immediately
 Provide complete information upfront
 Include screenshots and error details`,relatedArticles:["ticket-priorities","ticket-status"],tags:["sla","escalation","auto-escalation","response time","breach"]},{id:"roles-permissions",category:"users",title:"User Roles & Permissions",description:"Understanding the different user roles and access levels",difficulty:"Medium",readTime:"6 min",views:1890,helpful:92,icon:"",content:`# User Roles & Permissions

## Role Types

###  Administrator
Full system access including:
- User management (create, edit, disable)
- System settings and configuration
- Email templates and notifications
- Backup and security settings
- All ticket access
- Analytics and reports

###  Manager
- Department oversight
- User management (own department)
- Analytics and reports
- Ticket escalations
- Approval workflows

###  Engineer / Agent
- Assigned ticket management
- Create and comment on tickets
- View department tickets
- Technical resolution work

###  Standard User
- Create and track own tickets
- Add comments and attachments
- View personal ticket history
- Profile management

## Custom Roles

Admins can create custom roles with specific permissions for specialized access needs.

## Department Access

Departments organize users and control ticket routing:
- Each department has a manager
- Tickets route to the appropriate department
- Department-level analytics available`,relatedArticles:["quick-start"],tags:["roles","permissions","admin","manager","agent","user"]},{id:"admin-settings",category:"admin",title:"System Administration",description:"Configure system settings, email, and backups",difficulty:"Advanced",readTime:"12 min",views:1240,helpful:90,icon:"",content:`# System Administration

## System Settings

Access via **Settings** in the sidebar (admin only).

### General Settings
- Company name and branding
- Time zone and business hours
- Default ticket settings
- Auto-close configuration

### Email Configuration
- SMTP server settings
- Email templates (customizable)
- Notification preferences
- Test email functionality

### Security Settings
- Password policies (length, complexity, expiry)
- Two-factor authentication enforcement
- Session timeout
- Account lockout thresholds
- IP restrictions

## Backup & Recovery

**Create Backup:** Settings  Backup  Create Backup Now
- Creates ZIP with database and files
- Download and store securely
- Schedule automatic backups (daily/weekly)
- Retained for 30 days (configurable)

**Restore:** Contact system administrator with backup file

## User Management

- Create/edit/disable user accounts
- Assign roles and departments
- Reset passwords
- Enable/disable 2FA
- View user activity logs`,relatedArticles:["roles-permissions"],tags:["admin","settings","configuration","backup","email","security"]},{id:"slow-computer",category:"troubleshooting",title:"Slow Computer Fix",description:"Step-by-step guide to speed up your PC or laptop",difficulty:"Easy",readTime:"6 min",views:4120,helpful:95,icon:"",content:`# Fix a Slow Computer

## Quick Fixes (Try First)

1. **Restart your computer**  Fixes most temporary issues
2. **Close unnecessary programs**  Check Task Manager (Ctrl+Shift+Esc)
3. **Close extra browser tabs**  Too many tabs consume RAM

## Intermediate Steps

4. **Check disk space**  Need at least 10% free
   Open File Explorer  Right-click C:  Properties
5. **Run Disk Cleanup**  Search "Disk Cleanup" in Start Menu
6. **Disable startup programs**  Task Manager  Startup tab  Disable unnecessary items
7. **Check for Windows updates**  Settings  Update & Security

## Advanced Steps

8. **Run antivirus scan**  Malware can severely impact performance
9. **Check RAM usage**  Task Manager  Performance tab
   - If consistently above 85%, you may need more RAM
10. **Check for overheating**  Feel the bottom of laptop, listen for fans
    - Clean dust from vents
    - Use on hard, flat surface

## When to Create a Ticket

Create a ticket if:
- Problem persists after all steps above
- RAM is maxed but no obvious cause
- Frequent freezing or crashes
- Computer is more than 4 years old

Include: Computer model, RAM info, disk space info, which specific apps are slow`,relatedArticles:["blue-screen","network-issue"],tags:["slow","computer","performance","speed","lag","freeze"]},{id:"network-issue",category:"troubleshooting",title:"Network & WiFi Issues",description:"Troubleshoot internet, WiFi, and VPN connectivity",difficulty:"Easy",readTime:"7 min",views:3850,helpful:94,icon:"",content:`# Network & WiFi Troubleshooting

## Step 1  Check Basics

- Is WiFi turned on? Check taskbar icon
- Is Airplane mode OFF?
- Can other devices connect to the same network?

## Step 2  Quick Fixes

- Toggle WiFi off and on again
- Disconnect and reconnect to the network
- Restart your computer
- "Forget" the network and reconnect with password

## Step 3  Network Reset

Open Command Prompt as Administrator and run:
- ipconfig /release
- ipconfig /renew
- ipconfig /flushdns
- netsh winsock reset

## Step 4  Hardware

- Restart your router/modem (unplug for 30 seconds)
- Check Ethernet cable if using wired connection
- Try a different port or cable
- Move closer to the WiFi router

## VPN-Specific Issues

- Disconnect and reconnect to VPN
- Verify VPN credentials
- Try a different VPN server
- Disable/re-enable your network adapter
- Check if VPN client needs an update

## When to Create a Ticket

- Network is down for multiple people
- VPN won't connect after all troubleshooting
- Intermittent disconnections throughout the day
- Need access to a new network resource`,relatedArticles:["slow-computer","file-access"],tags:["network","wifi","internet","vpn","connection","offline"]},{id:"email-problems",category:"troubleshooting",title:"Email & Outlook Problems",description:"Fix sending, receiving, and Outlook crash issues",difficulty:"Easy",readTime:"6 min",views:3200,helpful:93,icon:"",content:`# Email & Outlook Troubleshooting

## Can't Send or Receive

1. Check internet connection
2. Restart Outlook
3. Click **Send/Receive**  **Send/Receive All Folders**
4. Check **Outbox** for stuck emails
5. Check mailbox isn't full (limit usually 50GB)

## Outlook Crashing

1. Start in **Safe Mode**: Hold Ctrl while opening Outlook
2. If it works in Safe Mode, disable add-ins:
   File  Options  Add-ins  Manage  Disable all
3. Repair Office: Settings  Apps  Microsoft Office  Modify  Repair
4. Create new Outlook profile if persistent

## Missing Emails

- Check **Junk/Spam** folder
- Check **Deleted Items**
- Check **Focused Inbox** vs **Other** tab
- Review email **Rules**: File  Manage Rules
- Search by sender or subject

## Calendar Issues

- Ensure calendar is checked in sidebar
- Verify correct date and time zone
- Remove and re-add shared calendars

## Out of Office

1. File  Automatic Replies
2. Set date range
3. Write your message
4. Enable for internal and/or external contacts`,relatedArticles:["slow-computer","create-ticket"],tags:["email","outlook","mail","calendar","send","receive"]},{id:"printer-fix",category:"troubleshooting",title:"Printer Troubleshooting",description:"Fix printer offline, paper jam, and print quality issues",difficulty:"Easy",readTime:"5 min",views:2700,helpful:92,icon:"",content:`# Printer Troubleshooting

## Printer Not Responding

1. Check printer is powered ON and has paper
2. Check USB cable or WiFi connection
3. Restart the printer
4. Go to **Settings  Devices  Printers & Scanners**
5. Set your printer as **Default**
6. Right-click  **Troubleshoot**

## Printer Shows "Offline"

1. Settings  Devices  Printers & Scanners
2. Click your printer  **Open print queue**
3. Click **Printer** menu  Uncheck **"Use Printer Offline"**
4. Cancel all pending print jobs and try again

## Paper Jam

1. Turn off printer
2. Open all access doors/trays
3. Gently pull jammed paper in direction of travel
4. Check for small torn pieces
5. Close all doors and power on

## Print Quality Issues

- Run printer head cleaning (printer settings)
- Replace low/empty ink or toner cartridges
- Use correct paper type settings
- Print alignment/test page
- Clean scanner glass if copy quality is poor

## Install New Printer

Create a support ticket with:
- Printer make and model
- Location where it will be used
- Who needs access`,relatedArticles:["create-ticket"],tags:["printer","print","offline","paper jam","quality"]},{id:"blue-screen",category:"troubleshooting",title:"Blue Screen (BSOD) Recovery",description:"What to do when your computer shows a blue screen error",difficulty:"Medium",readTime:"7 min",views:2450,helpful:91,icon:"",content:`# Blue Screen of Death (BSOD)

## Immediate Steps

1. **Note the error code** on the blue screen (e.g., DRIVER_IRQL_NOT_LESS_OR_EQUAL)
2. **Take a photo** of the screen with your phone
3. Let the computer restart on its own

## If Computer Restarts Normally

1. **Save your work** immediately
2. Check **Event Viewer** for details:
   - Search "Event Viewer"  Windows Logs  System
   - Look for "Critical" level events
3. Run **Windows Update**  driver fixes often resolve BSOD
4. Think about recent changes (new software, drivers, hardware)

## If Computer Keeps Crashing

1. Boot into **Safe Mode**:
   - Hold Shift + click Restart
   - Troubleshoot  Advanced  Startup Settings  Safe Mode
2. Uninstall recently installed software or drivers
3. Open Command Prompt (Admin) and run:
   - sfc /scannow
   - DISM /Online /Cleanup-Image /RestoreHealth

##  Create a Critical Ticket If:

- Blue screen happens repeatedly
- Computer won't boot at all
- Important data is at risk
- Error mentions hardware failure

Include: photo of blue screen, error code, what you were doing when it happened, and whether it's repeating`,relatedArticles:["slow-computer","create-ticket"],tags:["blue screen","bsod","crash","boot","error","restart"]}],faqs:[{id:"faq-create",category:"general",question:"How do I create a new ticket?",answer:`Click "New Ticket" button (top right) or go to Tickets  Create. Fill in required fields: Subject (be specific), Description (detailed), Priority (based on impact), and Category. Attach files if needed (up to 5 files, 10MB each). Submit and you'll receive a confirmation email with your ticket number.`},{id:"faq-response",category:"general",question:"How long until I get a response?",answer:"Response times depend on priority: Critical (1 hour), High (2 hours), Medium (4 hours), Low (8 hours). Resolution times: Critical (4h), High (8h), Medium (24h), Low (48h). All times are based on business hours (Mon-Fri, 9AM-6PM IST). Weekends and holidays are excluded."},{id:"faq-track",category:"general",question:"How do I track my tickets?",answer:`Navigate to "My Tickets" in the sidebar. You'll see all your tickets with current status. Click any ticket for full details, comments, and history. You also receive email notifications for all status changes.`},{id:"faq-mobile",category:"general",question:"Is there a mobile app?",answer:"The system is fully accessible via mobile browsers with responsive design. The interface adapts to phone and tablet screens. You can add the web app to your home screen for an app-like experience. A dedicated mobile app is planned for the future."},{id:"faq-browsers",category:"general",question:"Which browsers are supported?",answer:"Best experience on: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+. Keep your browser updated for the best experience. Mobile: iOS Safari and Android Chrome are supported. Internet Explorer is NOT supported."},{id:"faq-priority",category:"tickets",question:"Which priority should I choose?",answer:"Choose based on business impact: Critical = business stopped (4h resolution), High = major issue (8h), Medium = work affected (24h), Low = minor issue (48h). When in doubt, choose Medium  engineers can adjust if needed. Don't mark everything as Critical."},{id:"faq-pending",category:"tickets",question:'What does "Pending" status mean?',answer:"Pending means the engineer needs information from YOU. Check the latest comment for what's needed. Important: The SLA timer PAUSES while the ticket is Pending, so respond quickly to resume progress on your ticket."},{id:"faq-escalation",category:"tickets",question:"What happens when a ticket is escalated?",answer:"If a ticket isn't resolved within SLA time, it auto-escalates to the department manager. The manager reviews the ticket, may reassign it, and ensures resolution with priority attention. All stakeholders receive notifications. This prevents tickets from being forgotten."},{id:"faq-reopen",category:"tickets",question:"Can I reopen a closed ticket?",answer:'Yes! If the issue returns within 30 days, open the closed ticket and click "Reopen". Add a comment explaining why it needs to be reopened. After 30 days, create a new ticket and reference the old ticket number.'},{id:"faq-attachments",category:"tickets",question:"What files can I attach to tickets?",answer:"Supported formats: PDF, Word (DOC/DOCX), Excel (XLS/XLSX), Images (JPG, PNG, GIF), Text (TXT, LOG), Archives (ZIP, RAR). Maximum 5 files per ticket, 10MB each. Executables (.exe, .bat) are blocked for security. Screenshots are highly encouraged for faster resolution!"},{id:"faq-ticket-number",category:"tickets",question:"What does the ticket number mean?",answer:"Ticket numbers follow the format TKT-YYYYMMDD-XXXX (e.g., TKT-20260222-0001). The prefix identifies it as a ticket, followed by the date and a sequential number. Use this number when emailing support, calling the helpdesk, or referencing related tickets."},{id:"faq-password",category:"account",question:"How do I reset my password?",answer:`On the login page, click "Forgot Password". Enter your email, then check your inbox for a reset link (valid for 1 hour). Create a new password that's at least 8 characters with uppercase, lowercase, number, and special character. You cannot reuse your last 5 passwords.`},{id:"faq-2fa",category:"account",question:"How do I set up Two-Factor Authentication?",answer:"Go to Profile  Security  Two-Factor Authentication. Choose Email (codes via email) or Authenticator App (Google/Microsoft Authenticator). Follow the setup wizard, save your 10 backup codes securely, and enable. You'll need to verify on each login from new devices."},{id:"faq-cant-login",category:"account",question:"I can't log in  what should I do?",answer:`Check: (1) Username and password are correct (Caps Lock off!), (2) Account isn't locked  wait 30 minutes or contact admin, (3) Clear browser cache and cookies, (4) Try a different browser, (5) Use "Forgot Password" to reset, (6) Contact your system administrator if account is disabled.`},{id:"faq-no-email",category:"notifications",question:"Why am I not receiving email notifications?",answer:"Check: (1) Profile  Notification Preferences are enabled, (2) Check your spam/junk folder, (3) Add noreply@company.com to your contacts, (4) Verify your email address is correct in your profile, (5) Ask admin if SMTP is configured. You can test with: Settings  Email  Send Test Email."},{id:"faq-sla-calc",category:"sla",question:"How is SLA time calculated?",answer:'SLA counts only business hours (Mon-Fri, 9AM-6PM IST) by default. The timer pauses outside business hours, on weekends/holidays, and when the ticket is in "Pending" status. Example: A High priority ticket (8h SLA) created Friday at 3PM uses 3 hours Friday, pauses over the weekend, then continues Monday at 9AM  making it due by Monday 2PM.'},{id:"faq-backup",category:"admin",question:"How do I backup the system?",answer:"Admin only: Go to Settings  Backup  Create Backup Now. This creates a ZIP file with database and file backups. Download and store securely. You can schedule automatic backups (daily/weekly). Backups are retained for 30 days (configurable in settings)."},{id:"faq-upload-failed",category:"troubleshooting",question:"Why does my file upload fail?",answer:"Common causes: (1) File is too large  maximum 10MB per file, (2) Unsupported file format  try zipping it first, (3) Internet connection unstable, (4) Browser cache issue  clear cache and retry, (5) Too many files  maximum 5 per ticket. Try: smaller files, different browser, or upload one at a time."},{id:"faq-slow-system",category:"troubleshooting",question:"The helpdesk system is loading slowly  what should I do?",answer:"Try: (1) Refresh the page (F5 or Ctrl+R), (2) Clear browser cache (Ctrl+Shift+Delete), (3) Try a different browser, (4) Check your internet connection, (5) Disable browser extensions that might interfere, (6) Try an incognito/private window. If the issue persists for multiple users, contact your admin."}],popularSearches:["Create ticket","Reset password","Ticket priorities","SLA response times","Slow computer","WiFi not working","Outlook problems","Attach files","Enable 2FA","Printer offline"]},wm=()=>{const e=jt(),[t,r]=b.useState(!1),[n,s]=b.useState(!1),[i,o]=b.useState([]),[l,c]=b.useState(""),[d,u]=b.useState(!1),[f,h]=b.useState(!1),[p]=b.useState(()=>`session-${Date.now()}-${Math.random().toString(36).slice(2,8)}`),m=b.useRef(null),v=b.useRef(null),g=b.useCallback(()=>{var k;(k=m.current)==null||k.scrollIntoView({behavior:"smooth"})},[]);b.useEffect(()=>{g()},[i,d,g]),b.useEffect(()=>{t&&v.current&&v.current.focus()},[t]);const y=b.useCallback(()=>{r(!0),f||(h(!0),o([{id:Date.now(),role:"bot",text:`Hi there!  I'm **Nexus AI Assistant**  your smart IT support helper.

I use natural language processing to understand your questions and provide step-by-step solutions for IT issues.

**What can I help you with today?**`,followUp:["Reset my password","My computer is slow","Create a ticket","Network issues"],confidence:1,time:new Date}]))},[f]),x=b.useCallback(async k=>{var P;try{const E=await oe.post("/ai/chat",{message:k,sessionId:p});if((P=E.data)!=null&&P.success)return E.data.data;throw new Error("Invalid response")}catch(E){return console.error("AI Engine error:",E),{answer:`I'm having trouble processing your request right now. In the meantime:

1. **Browse the Help Center** articles below
2. **Create a support ticket** for personalized help
3. Try rephrasing your question

I apologize for the inconvenience!`,confidence:0,category:"error",followUp:["Create a ticket","Password reset","Network issues"],entities:[],matchedTopic:null}}},[p]),w=b.useCallback(async k=>{const P=(k||l).trim();if(!P)return;const E={id:Date.now(),role:"user",text:P,time:new Date};o(M=>[...M,E]),c(""),u(!0);const C=P.toLowerCase();if(C==="create a ticket"||C==="raise a ticket"){await da(600),u(!1),o(M=>[...M,{id:Date.now()+1,role:"bot",text:`Sure! I'll take you to the **Create Ticket** page. You can describe your issue there and our support team will assist you.

Redirecting now... `,confidence:1,time:new Date}]),await da(1200),e("/tickets/new"),r(!1);return}if(C==="go to dashboard"||C==="dashboard"){await da(500),u(!1),o(M=>[...M,{id:Date.now()+1,role:"bot",text:"Taking you to the dashboard... ",confidence:1,time:new Date}]),await da(800),e("/dashboard"),r(!1);return}if(C==="track my ticket"||C==="my tickets"){await da(500),u(!1),o(M=>[...M,{id:Date.now()+1,role:"bot",text:"Taking you to your tickets... ",confidence:1,time:new Date}]),await da(800),e("/my-tickets"),r(!1);return}if(C==="back to help center"||C==="help center"){await da(500),u(!1),o(M=>[...M,{id:Date.now()+1,role:"bot",text:"Taking you to the Help Center... ",confidence:1,time:new Date}]),await da(800),e("/help"),r(!1);return}const A=await x(P),D=Math.min(400+A.answer.length*2,1800);await da(D),u(!1),o(M=>[...M,{id:Date.now()+1,role:"bot",text:A.answer,followUp:A.followUp,confidence:A.confidence,category:A.category,entities:A.entities,time:new Date}])},[l,e,x]),j=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),w())},N=()=>{o([]),h(!1),y()},S=k=>k?k.replace(/```([\s\S]*?)```/g,"<pre><code>$1</code></pre>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br/>"):"",_=({confidence:k})=>{if(k==null)return null;const P=Math.round(k*100),E=P>=70?"var(--success-color, #10b981)":P>=40?"var(--warning-color, #f59e0b)":"var(--text-muted, #94a3b8)";return a.jsxs("span",{className:"ai-confidence",title:`AI Confidence: ${P}%`,children:[a.jsx("span",{className:"ai-confidence-dot",style:{background:E}}),a.jsxs("span",{className:"ai-confidence-text",children:[P,"%"]})]})};return a.jsxs(a.Fragment,{children:[!t&&a.jsxs("button",{className:"ai-fab",onClick:y,title:"AI Help Assistant",children:[a.jsx("div",{className:"ai-fab-icon",children:a.jsx(Wp,{size:26})}),a.jsx("span",{className:"ai-fab-pulse"})]}),t&&a.jsxs("div",{className:`ai-chat ${n?"ai-chat--expanded":""}`,children:[a.jsxs("div",{className:"ai-chat-header",children:[a.jsxs("div",{className:"ai-chat-header-left",children:[a.jsx("div",{className:"ai-avatar",children:a.jsx(sA,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{children:"Nexus AI Assistant"}),a.jsxs("span",{className:"ai-status",children:[a.jsx("span",{className:"ai-status-dot"}),"NLP Engine  Online"]})]})]}),a.jsxs("div",{className:"ai-chat-header-actions",children:[a.jsx("button",{onClick:N,title:"New conversation",children:a.jsx(U6,{size:16})}),a.jsx("button",{onClick:()=>s(k=>!k),title:n?"Minimize":"Expand",children:n?a.jsx(B6,{size:16}):a.jsx($6,{size:16})}),a.jsx("button",{onClick:()=>r(!1),title:"Close",children:a.jsx(Oe,{size:16})})]})]}),a.jsxs("div",{className:"ai-chat-body",children:[i.map(k=>a.jsxs("div",{className:`ai-msg ai-msg--${k.role}`,children:[a.jsx("div",{className:"ai-msg-avatar",children:k.role==="bot"?a.jsx(Wp,{size:16}):a.jsx(Ke,{size:16})}),a.jsxs("div",{className:"ai-msg-content",children:[a.jsx("div",{className:"ai-msg-bubble",dangerouslySetInnerHTML:{__html:S(k.text)}}),k.role==="bot"&&k.confidence!==void 0&&k.confidence<1&&a.jsx(_,{confidence:k.confidence}),k.followUp&&k.followUp.length>0&&a.jsx("div",{className:"ai-suggestions",children:k.followUp.map((P,E)=>a.jsxs("button",{className:"ai-chip",onClick:()=>w(P),children:[a.jsx(ni,{size:12}),P]},E))}),a.jsx("span",{className:"ai-msg-time",children:k.time.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},k.id)),d&&a.jsxs("div",{className:"ai-msg ai-msg--bot",children:[a.jsx("div",{className:"ai-msg-avatar",children:a.jsx(Wp,{size:16})}),a.jsx("div",{className:"ai-msg-content",children:a.jsxs("div",{className:"ai-typing",children:[a.jsx("span",{}),a.jsx("span",{}),a.jsx("span",{})]})})]}),a.jsx("div",{ref:m})]}),a.jsxs("div",{className:"ai-chat-footer",children:[a.jsxs("div",{className:"ai-input-wrap",children:[a.jsx("input",{ref:v,type:"text",placeholder:"Describe your IT issue...",value:l,onChange:k=>c(k.target.value),onKeyDown:j}),a.jsx("button",{className:"ai-send",onClick:()=>w(),disabled:!l.trim()||d,children:a.jsx(so,{size:18})})]}),a.jsxs("p",{className:"ai-disclaimer",children:[a.jsx(Ea,{size:10})," Powered by NLP Engine  TF-IDF + Fuzzy Match + Context"]})]})]})]})};function da(e){return new Promise(t=>setTimeout(t,e))}const Iie={"getting-started":Ea,tickets:Yr,sla:Ee,users:fr,admin:th,troubleshooting:Se,security:Ae,network:Q6,hardware:q6,software:H6},zie=()=>{var A,D,M;const e=jt(),[t,r]=b.useState(""),[n,s]=b.useState(!1),[i,o]=b.useState(null),[l,c]=b.useState(null),[d,u]=b.useState(new Set),[f,h]=b.useState("all"),[p,m]=b.useState({}),[v,g]=b.useState(!1),y=b.useRef(null);b.useEffect(()=>{const O=z=>{var $;(z.ctrlKey||z.metaKey)&&z.key==="k"&&(z.preventDefault(),($=y.current)==null||$.focus()),z.key==="Escape"&&(c(null),o(null),g(!1))};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[]);const x=b.useMemo(()=>{const O=t.trim().toLowerCase();if(O.length<2)return[];const z=O.split(/\s+/),$=[];return Ir.articles.forEach(q=>{let R=0;z.forEach(L=>{var T;q.title.toLowerCase().includes(L)&&(R+=3),q.description.toLowerCase().includes(L)&&(R+=2),(T=q.tags)!=null&&T.some(I=>I.includes(L))&&(R+=2),q.content.toLowerCase().includes(L)&&(R+=1)}),R>0&&$.push({...q,type:"article",score:R})}),Ir.faqs.forEach(q=>{let R=0;z.forEach(L=>{q.question.toLowerCase().includes(L)&&(R+=3),q.answer.toLowerCase().includes(L)&&(R+=1)}),R>0&&$.push({...q,type:"faq",score:R})}),$.sort((q,R)=>R.score-q.score).slice(0,10)},[t]),w=(O,z)=>{if(!z||z.length<2)return O;const $=z.toLowerCase().split(/\s+/).filter(Boolean),q=new RegExp(`(${$.map(R=>R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi");return O.replace(q,"<mark>$1</mark>")},j=O=>u(z=>{const $=new Set(z);return $.has(O)?$.delete(O):$.add(O),$}),N=b.useMemo(()=>f==="all"?Ir.faqs:Ir.faqs.filter(O=>O.category===f),[f]),S=b.useMemo(()=>["all",...[...new Set(Ir.faqs.map(z=>z.category))]],[]),_=O=>{c(O),o(null),window.scrollTo({top:0,behavior:"smooth"})},k=b.useMemo(()=>i?Ir.articles.filter(O=>O.category===i):[],[i]),P=b.useMemo(()=>[...Ir.articles].sort((O,z)=>z.views-O.views).slice(0,4),[]),E=(O,z)=>{m($=>({...$,[O]:z}))},C=O=>O?O.replace(/^### (.*$)/gim,"<h3>$1</h3>").replace(/^## (.*$)/gim,"<h2>$1</h2>").replace(/^# (.*$)/gim,"<h1>$1</h1>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^- (.*$)/gim,"<li>$1</li>").replace(/(<li>.*<\/li>)/s,"<ul>$1</ul>").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br/>").replace(/^/,"<p>").replace(/$/,"</p>").replace(//g,'<span class="hc-check"></span>').replace(//g,'<span class="hc-cross"></span>').replace(//g,'<span class="hc-warn"></span>'):"";if(l){const O=(l.relatedArticles||[]).map(z=>Ir.articles.find($=>$.id===z)).filter(Boolean);return a.jsxs("div",{className:"hc-page",children:[a.jsxs("div",{className:"hc-breadcrumb",children:[a.jsxs("button",{onClick:()=>c(null),children:[a.jsx(In,{size:16})," Help Center"]}),a.jsx(Br,{size:14}),a.jsx("span",{children:(A=Ir.categories.find(z=>z.id===l.category))==null?void 0:A.title}),a.jsx(Br,{size:14}),a.jsx("span",{className:"hc-breadcrumb-current",children:l.title})]}),a.jsxs("div",{className:"hc-article-layout",children:[a.jsxs("article",{className:"hc-article",children:[a.jsxs("header",{className:"hc-article-header",children:[a.jsx("span",{className:"hc-article-icon",children:l.icon}),a.jsx("h1",{children:l.title}),a.jsx("p",{className:"hc-article-desc",children:l.description}),a.jsxs("div",{className:"hc-article-meta",children:[a.jsx("span",{className:"hc-badge","data-level":(D=l.difficulty)==null?void 0:D.toLowerCase(),children:l.difficulty}),a.jsxs("span",{children:[a.jsx(Ee,{size:14})," ",l.readTime]}),a.jsxs("span",{children:[a.jsx(_t,{size:14})," ",(M=l.views)==null?void 0:M.toLocaleString()," views"]}),a.jsxs("span",{children:[a.jsx(Yl,{size:14})," ",l.helpful,"% helpful"]})]})]}),a.jsx("div",{className:"hc-article-body",dangerouslySetInnerHTML:{__html:C(l.content)}}),a.jsxs("div",{className:"hc-feedback",children:[a.jsx("h4",{children:"Was this article helpful?"}),p[l.id]!=null?a.jsxs("p",{className:"hc-feedback-thanks",children:[a.jsx(_6,{size:18})," Thanks for your feedback!"]}):a.jsxs("div",{className:"hc-feedback-btns",children:[a.jsxs("button",{onClick:()=>E(l.id,!0),className:"hc-feedback-btn yes",children:[a.jsx(Yl,{size:18})," Yes, helpful"]}),a.jsxs("button",{onClick:()=>E(l.id,!1),className:"hc-feedback-btn no",children:[a.jsx(V6,{size:18})," Not helpful"]})]})]}),O.length>0&&a.jsxs("div",{className:"hc-related",children:[a.jsx("h3",{children:" Related Articles"}),a.jsx("div",{className:"hc-related-grid",children:O.map(z=>a.jsxs("button",{className:"hc-related-card",onClick:()=>_(z),children:[a.jsx("span",{className:"hc-related-icon",children:z.icon}),a.jsxs("div",{children:[a.jsx("h4",{children:z.title}),a.jsx("p",{children:z.description})]}),a.jsx(Br,{size:16})]},z.id))})]})]}),a.jsxs("aside",{className:"hc-article-sidebar",children:[a.jsxs("div",{className:"hc-sidebar-card",children:[a.jsxs("h4",{children:[a.jsx(Cv,{size:16})," Need more help?"]}),a.jsx("p",{children:"Can't find your answer? Our support team is ready to assist."}),a.jsxs("button",{className:"hc-btn hc-btn-primary",onClick:()=>e("/tickets/new"),children:[a.jsx(Yr,{size:16})," Create Ticket"]}),a.jsxs("button",{className:"hc-btn hc-btn-ghost",onClick:()=>g(!0),children:[a.jsx(Pv,{size:16})," Contact Support"]})]}),a.jsxs("div",{className:"hc-sidebar-card",children:[a.jsxs("h4",{children:[a.jsx(La,{size:16})," Trending Articles"]}),P.map(z=>a.jsxs("button",{className:"hc-sidebar-link",onClick:()=>_(z),children:[a.jsx("span",{children:z.icon})," ",z.title]},z.id))]})]})]}),a.jsx(wm,{}),v&&a.jsx(Nm,{onClose:()=>g(!1)})]})}if(i){const O=Ir.categories.find(z=>z.id===i);return a.jsxs("div",{className:"hc-page",children:[a.jsxs("div",{className:"hc-breadcrumb",children:[a.jsxs("button",{onClick:()=>o(null),children:[a.jsx(In,{size:16})," Help Center"]}),a.jsx(Br,{size:14}),a.jsx("span",{className:"hc-breadcrumb-current",children:O==null?void 0:O.title})]}),a.jsxs("div",{className:"hc-category-header",children:[a.jsx("span",{className:"hc-cat-icon-lg",style:{background:`${O==null?void 0:O.color}1a`,color:O==null?void 0:O.color},children:O==null?void 0:O.icon}),a.jsxs("div",{children:[a.jsx("h1",{children:O==null?void 0:O.title}),a.jsxs("p",{children:[O==null?void 0:O.description,"  ",k.length," articles"]})]})]}),a.jsx("div",{className:"hc-articles-list",children:k.length===0?a.jsxs("div",{className:"hc-empty",children:[a.jsx(Hp,{size:40}),a.jsx("p",{children:"No articles in this category yet."})]}):k.map(z=>{var $,q;return a.jsxs("button",{className:"hc-list-card",onClick:()=>_(z),children:[a.jsx("span",{className:"hc-list-icon",children:z.icon}),a.jsxs("div",{className:"hc-list-body",children:[a.jsx("h3",{children:z.title}),a.jsx("p",{children:z.description}),a.jsxs("div",{className:"hc-list-meta",children:[a.jsx("span",{className:"hc-badge","data-level":($=z.difficulty)==null?void 0:$.toLowerCase(),children:z.difficulty}),a.jsxs("span",{children:[a.jsx(Ee,{size:12})," ",z.readTime]}),a.jsxs("span",{children:[a.jsx(_t,{size:12})," ",(q=z.views)==null?void 0:q.toLocaleString()]})]})]}),a.jsx(Br,{size:18})]},z.id)})}),a.jsx(wm,{}),v&&a.jsx(Nm,{onClose:()=>g(!1)})]})}return a.jsxs("div",{className:"hc-page",children:[a.jsx("section",{className:"hc-hero",children:a.jsxs("div",{className:"hc-hero-inner",children:[a.jsxs("div",{className:"hc-hero-badge",children:[a.jsx(sA,{size:14})," Help Center"]}),a.jsx("h1",{children:"How can we help you?"}),a.jsx("p",{children:"Search our knowledge base, browse guides, or ask our AI assistant"}),a.jsxs("div",{className:`hc-search-box ${n?"focused":""}`,children:[a.jsx(aa,{size:20,className:"hc-search-icon"}),a.jsx("input",{ref:y,type:"text",placeholder:"Search for help articles, FAQs, solutions...",value:t,onChange:O=>r(O.target.value),onFocus:()=>s(!0),onBlur:()=>setTimeout(()=>s(!1),200)}),t&&a.jsx("button",{className:"hc-search-clear",onClick:()=>r(""),children:a.jsx(Oe,{size:16})}),a.jsx("kbd",{className:"hc-kbd",children:"Ctrl+K"})]}),n&&x.length>0&&a.jsxs("div",{className:"hc-search-results",children:[a.jsxs("div",{className:"hc-sr-header",children:[x.length," result",x.length>1?"s":""," found"]}),x.map((O,z)=>a.jsxs("button",{className:"hc-sr-item",onMouseDown:()=>{O.type==="article"?_(O):(j(O.id),r(""))},children:[a.jsx("span",{className:"hc-sr-type",children:O.type==="article"?"":""}),a.jsxs("div",{className:"hc-sr-body",children:[a.jsx("h4",{dangerouslySetInnerHTML:{__html:w(O.title||O.question,t)}}),a.jsx("p",{dangerouslySetInnerHTML:{__html:w((O.description||O.answer||"").substring(0,120),t)}})]}),a.jsx(Br,{size:16})]},z))]}),n&&t.length>=2&&x.length===0&&a.jsx("div",{className:"hc-search-results",children:a.jsxs("div",{className:"hc-sr-empty",children:[a.jsx(aa,{size:24}),a.jsx("p",{children:"No results found. Try different keywords or ask our AI assistant."})]})}),a.jsxs("div",{className:"hc-popular",children:[a.jsx("span",{children:"Popular:"}),Ir.popularSearches.slice(0,5).map((O,z)=>a.jsx("button",{className:"hc-popular-tag",onClick:()=>r(O),children:O},z))]})]})}),a.jsx("section",{className:"hc-section",children:a.jsxs("div",{className:"hc-quick-grid",children:[a.jsxs("button",{className:"hc-quick-card",onClick:()=>e("/tickets/new"),children:[a.jsx("div",{className:"hc-quick-icon",style:{background:"rgba(99, 102, 241, 0.1)",color:"#6366f1"},children:a.jsx(Yr,{size:28})}),a.jsx("h3",{children:"Create Ticket"}),a.jsx("p",{children:"Submit a new support request"}),a.jsx(ni,{size:18,className:"hc-quick-arrow"})]}),a.jsxs("button",{className:"hc-quick-card",onClick:()=>e("/my-tickets"),children:[a.jsx("div",{className:"hc-quick-icon",style:{background:"rgba(139, 92, 246, 0.1)",color:"#8b5cf6"},children:a.jsx(Hp,{size:28})}),a.jsx("h3",{children:"My Tickets"}),a.jsx("p",{children:"Track your open requests"}),a.jsx(ni,{size:18,className:"hc-quick-arrow"})]}),a.jsxs("button",{className:"hc-quick-card",onClick:()=>e("/dashboard"),children:[a.jsx("div",{className:"hc-quick-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:a.jsx(La,{size:28})}),a.jsx("h3",{children:"Dashboard"}),a.jsx("p",{children:"View your overview"}),a.jsx(ni,{size:18,className:"hc-quick-arrow"})]}),a.jsxs("button",{className:"hc-quick-card",onClick:()=>g(!0),children:[a.jsx("div",{className:"hc-quick-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:a.jsx(Cv,{size:28})}),a.jsx("h3",{children:"Contact Support"}),a.jsx("p",{children:"Talk to our team directly"}),a.jsx(ni,{size:18,className:"hc-quick-arrow"})]})]})}),a.jsxs("section",{className:"hc-section",children:[a.jsxs("div",{className:"hc-section-head",children:[a.jsxs("h2",{children:[a.jsx(b6,{size:22})," Browse by Category"]}),a.jsx("p",{children:"Find help articles organized by topic"})]}),a.jsx("div",{className:"hc-cat-grid",children:Ir.categories.map(O=>{const z=Iie[O.id]||wa;return a.jsxs("button",{className:"hc-cat-card",onClick:()=>o(O.id),children:[a.jsx("div",{className:"hc-cat-icon",style:{background:`${O.color}1a`,color:O.color},children:a.jsx(z,{size:24})}),a.jsxs("div",{className:"hc-cat-body",children:[a.jsx("h3",{children:O.title}),a.jsx("p",{children:O.description})]}),a.jsxs("span",{className:"hc-cat-count",children:[O.articleCount," articles"]}),a.jsx(Br,{size:18,className:"hc-cat-arrow"})]},O.id)})})]}),a.jsxs("section",{className:"hc-section",children:[a.jsxs("div",{className:"hc-section-head",children:[a.jsxs("h2",{children:[a.jsx(Ea,{size:22})," Trending Articles"]}),a.jsx("p",{children:"Most-read guides this month"})]}),a.jsx("div",{className:"hc-trending-grid",children:P.map((O,z)=>{var $,q;return a.jsxs("button",{className:"hc-trend-card",onClick:()=>_(O),children:[a.jsxs("span",{className:"hc-trend-rank",children:["#",z+1]}),a.jsx("div",{className:"hc-trend-icon",children:O.icon}),a.jsxs("div",{className:"hc-trend-body",children:[a.jsx("h3",{children:O.title}),a.jsx("p",{children:O.description}),a.jsxs("div",{className:"hc-trend-meta",children:[a.jsx("span",{className:"hc-badge","data-level":($=O.difficulty)==null?void 0:$.toLowerCase(),children:O.difficulty}),a.jsxs("span",{children:[a.jsx(Ee,{size:12})," ",O.readTime]}),a.jsxs("span",{children:[a.jsx(_t,{size:12})," ",(q=O.views)==null?void 0:q.toLocaleString()]})]})]})]},O.id)})})]}),a.jsxs("section",{className:"hc-section",children:[a.jsxs("div",{className:"hc-section-head",children:[a.jsxs("h2",{children:[a.jsx(Hp,{size:22})," All Guides & Articles"]}),a.jsx("p",{children:"Complete knowledge base"})]}),a.jsx("div",{className:"hc-all-grid",children:Ir.articles.map(O=>{var z;return a.jsxs("button",{className:"hc-article-card",onClick:()=>_(O),children:[a.jsxs("div",{className:"hc-ac-header",children:[a.jsx("span",{className:"hc-ac-icon",children:O.icon}),a.jsx("span",{className:"hc-badge","data-level":(z=O.difficulty)==null?void 0:z.toLowerCase(),children:O.difficulty})]}),a.jsx("h3",{children:O.title}),a.jsx("p",{children:O.description}),a.jsxs("div",{className:"hc-ac-footer",children:[a.jsxs("span",{children:[a.jsx(Ee,{size:12})," ",O.readTime]}),a.jsxs("span",{children:[a.jsx(Yl,{size:12})," ",O.helpful,"%"]})]})]},O.id)})})]}),a.jsxs("section",{className:"hc-section hc-faq-section",children:[a.jsxs("div",{className:"hc-section-head",children:[a.jsxs("h2",{children:[a.jsx(wa,{size:22})," Frequently Asked Questions"]}),a.jsx("p",{children:"Quick answers to the most common questions"})]}),a.jsx("div",{className:"hc-faq-filters",children:S.map(O=>a.jsx("button",{className:`hc-faq-pill ${f===O?"active":""}`,onClick:()=>h(O),children:O==="all"?"All":O.charAt(0).toUpperCase()+O.slice(1)},O))}),a.jsx("div",{className:"hc-faq-list",children:N.map(O=>a.jsxs("div",{className:`hc-faq-item ${d.has(O.id)?"expanded":""}`,children:[a.jsxs("button",{className:"hc-faq-q",onClick:()=>j(O.id),children:[a.jsx(wa,{size:18,className:"hc-faq-q-icon"}),a.jsx("span",{children:O.question}),d.has(O.id)?a.jsx(Jf,{size:18}):a.jsx(Br,{size:18})]}),d.has(O.id)&&a.jsx("div",{className:"hc-faq-a",children:a.jsx("p",{children:O.answer})})]},O.id))})]}),a.jsx("section",{className:"hc-cta",children:a.jsxs("div",{className:"hc-cta-inner",children:[a.jsx(Pv,{size:48,className:"hc-cta-icon"}),a.jsx("h2",{children:"Still can't find what you need?"}),a.jsx("p",{children:"Our support team and AI assistant are here 24/7 to help you resolve any IT issue."}),a.jsxs("div",{className:"hc-cta-btns",children:[a.jsxs("button",{className:"hc-btn hc-btn-primary hc-btn-lg",onClick:()=>e("/tickets/new"),children:[a.jsx(Yr,{size:18})," Create a Ticket"]}),a.jsxs("button",{className:"hc-btn hc-btn-outline hc-btn-lg",onClick:()=>g(!0),children:[a.jsx(Io,{size:18})," Contact Support"]})]})]})}),a.jsx(wm,{}),v&&a.jsx(Nm,{onClose:()=>g(!1)})]})},Nm=({onClose:e})=>a.jsx("div",{className:"hc-modal-backdrop",onClick:e,children:a.jsxs("div",{className:"hc-modal",onClick:t=>t.stopPropagation(),children:[a.jsxs("div",{className:"hc-modal-header",children:[a.jsxs("h3",{children:[a.jsx(Cv,{size:20})," Contact Support"]}),a.jsx("button",{className:"hc-modal-close",onClick:e,children:a.jsx(Oe,{size:18})})]}),a.jsx("div",{className:"hc-modal-body",children:a.jsxs("div",{className:"hc-contact-grid",children:[a.jsxs("div",{className:"hc-contact-option",children:[a.jsx("div",{className:"hc-contact-icon",style:{background:"rgba(99, 102, 241, 0.1)",color:"#6366f1"},children:a.jsx(Pv,{size:28})}),a.jsx("h4",{children:"Live Chat"}),a.jsx("p",{children:"Instant help from our agents"}),a.jsx("span",{className:"hc-avail online",children:" Available now"}),a.jsx("button",{className:"hc-btn hc-btn-primary",children:"Start Chat"})]}),a.jsxs("div",{className:"hc-contact-option",children:[a.jsx("div",{className:"hc-contact-icon",style:{background:"rgba(16, 185, 129, 0.1)",color:"#10b981"},children:a.jsx(Qe,{size:28})}),a.jsx("h4",{children:"Email"}),a.jsx("p",{children:"support@company.com"}),a.jsx("span",{className:"hc-avail",children:"Response within 24h"}),a.jsx("button",{className:"hc-btn hc-btn-ghost",children:"Send Email"})]}),a.jsxs("div",{className:"hc-contact-option",children:[a.jsx("div",{className:"hc-contact-icon",style:{background:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"},children:a.jsx(Io,{size:28})}),a.jsx("h4",{children:"Phone"}),a.jsx("p",{children:"+1 (555) 123-4567"}),a.jsx("span",{className:"hc-avail",children:"Mon-Fri 9AM-6PM"}),a.jsx("button",{className:"hc-btn hc-btn-ghost",children:"Call Now"})]})]})})]})});function $ie(){const[e,t]=b.useState(!1);return b.useEffect(()=>{},[]),b.useEffect(()=>{(async()=>{try{await KP.loadSettings(),t(!0)}catch{t(!0)}})()},[]),e?a.jsx(i6,{children:a.jsx(r6,{children:a.jsx(s6,{children:a.jsx(bL,{future:{v7_startTransition:!0,v7_relativeSplitPath:!0},children:a.jsxs(dL,{children:[a.jsx(it,{path:"/login",element:a.jsx(a8,{})}),a.jsx(it,{path:"/forgot-password",element:a.jsx(s8,{})}),a.jsx(it,{path:"/reset-password",element:a.jsx(i8,{})}),a.jsx(it,{path:"/dashboard",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(VQ,{})})})}),a.jsx(it,{path:"/tickets",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(GQ,{})})})}),a.jsx(it,{path:"/tickets/create",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(YQ,{})})})}),a.jsx(it,{path:"/tickets/:id",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(QQ,{})})})}),a.jsx(it,{path:"/tickets/edit/:id",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(JQ,{})})})}),a.jsx(it,{path:"/my-tickets",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(eJ,{})})})}),a.jsx(it,{path:"/users",element:a.jsx(Bt,{requiredPermission:"can_manage_users",children:a.jsx(qt,{children:a.jsx(aJ,{})})})}),a.jsx(it,{path:"/departments",element:a.jsx(Bt,{requiredPermission:"can_manage_departments",children:a.jsx(qt,{children:a.jsx(lJ,{})})})}),a.jsx(it,{path:"/roles",element:a.jsx(Bt,{requiredPermission:"can_manage_roles",children:a.jsx(qt,{children:a.jsx(fJ,{})})})}),a.jsx(it,{path:"/analytics",element:a.jsx(Bt,{requiredPermission:"can_view_analytics",children:a.jsx(qt,{children:a.jsx(CJ,{})})})}),a.jsx(it,{path:"/notifications",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(PJ,{})})})}),a.jsx(it,{path:"/profile",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(OJ,{})})})}),a.jsx(it,{path:"/profile/change-password",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(TJ,{})})})}),a.jsx(it,{path:"/settings",element:a.jsx(Bt,{requiredPermission:"can_manage_system",children:a.jsx(qt,{children:a.jsx(MJ,{})})})}),a.jsx(it,{path:"/security",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(Lie,{})})})}),a.jsx(it,{path:"/email-queue",element:a.jsx(Bt,{requiredPermission:"can_manage_system",children:a.jsx(qt,{children:a.jsx(zJ,{})})})}),a.jsx(it,{path:"/email-templates",element:a.jsx(Bt,{requiredPermission:"can_manage_system",children:a.jsx(qt,{children:a.jsx(_ie,{})})})}),a.jsx(it,{path:"/help",element:a.jsx(Bt,{children:a.jsx(qt,{children:a.jsx(zie,{})})})}),a.jsx(it,{path:"/",element:a.jsx(fP,{to:"/dashboard",replace:!0})}),a.jsx(it,{path:"*",element:a.jsx(XQ,{})})]})})})})}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#0f172a",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:[a.jsx(Ae,{size:64,style:{marginBottom:"20px",color:"#6366f1",animation:"pulse 2s ease-in-out infinite"}}),a.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px",fontWeight:"600"},children:"Loading Application..."}),a.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:"14px"},children:"Please wait while we prepare everything"}),a.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
        `})]})}eP(document.getElementById("root")).render(a.jsx(b.StrictMode,{children:a.jsx($ie,{})}));
