2025-11-05 09:25:00.021 [INFO] [SYSTEM] â„¹ï¸ ğŸ”„ Processing pending emails...
2025-11-05 09:25:00.021 [TRY] [OPERATION] ğŸ”„ Processing pending emails in queue
2025-11-05 09:25:00.074 [INFO] [SYSTEM] â„¹ï¸ No pending emails to process
2025-11-05 09:25:00.075 [INFO] [SYSTEM] â„¹ï¸ ğŸ“­ No pending emails to process
2025-11-05 09:34:04.710 [INFO] [SYSTEM] â„¹ï¸ Initializing security middleware
2025-11-05 09:34:04.712 [SUCCESS] [OPERATION] âœ… CORS enabled | {
2025-11-05 09:34:04.714 [SUCCESS] [OPERATION] âœ… Rate limiting enabled | {
2025-11-05 09:34:04.724 [INFO] [SYSTEM] â„¹ï¸ Initializing body parsers
2025-11-05 09:34:04.726 [SUCCESS] [OPERATION] âœ… Response compression enabled
2025-11-05 09:34:04.726 [INFO] [SYSTEM] â„¹ï¸ Directory exists | {
2025-11-05 09:34:04.725 [SUCCESS] [OPERATION] âœ… Body parsers initialized
2025-11-05 09:34:04.727 [INFO] [SYSTEM] â„¹ï¸ Directory exists | {
2025-11-05 09:34:04.727 [INFO] [SYSTEM] â„¹ï¸ Directory exists | {
2025-11-05 09:34:04.727 [INFO] [SYSTEM] â„¹ï¸ Directory exists | {
2025-11-05 09:34:04.728 [SUCCESS] [OPERATION] âœ… Static file serving enabled with CORS | {
2025-11-05 09:34:04.728 [INFO] [SYSTEM] â„¹ï¸ Initializing API routes
2025-11-05 09:34:04.790 [SUCCESS] [OPERATION] âœ… API routes initialized | {
2025-11-05 09:34:04.791 [SUCCESS] [OPERATION] âœ… Error handlers initialized
2025-11-05 09:34:04.793 [INFO] [SYSTEM] â„¹ï¸ Node Version | {
2025-11-05 09:34:04.793 [INFO] [SYSTEM] â„¹ï¸ Platform | {
2025-11-05 09:34:04.792 [INFO] [SYSTEM] â„¹ï¸ Starting IT Helpdesk Backend Server
2025-11-05 09:34:04.794 [TRY] [OPERATION] ğŸ”„ Testing database connection
2025-11-05 09:34:04.792 [INFO] [SYSTEM] â„¹ï¸ Environment | {
2025-11-05 09:34:04.875 [SUCCESS] [OPERATION] âœ… Database connection test passed
2025-11-05 09:34:04.877 [SUCCESS] [OPERATION] âœ… API Base URL: http://localhost:5000/api/v1
2025-11-05 09:34:04.878 [SUCCESS] [OPERATION] âœ… Test Uploads: http://localhost:5000/test-uploads
2025-11-05 09:34:04.878 [INFO] [SYSTEM] â„¹ï¸ ğŸ‰ IT Helpdesk Backend is ready to accept requests!
2025-11-05 09:34:04.875 [INFO] [SYSTEM] â„¹ï¸ Database details | {
2025-11-05 09:34:04.877 [SUCCESS] [OPERATION] âœ… Server is running on port 5000
2025-11-05 09:34:04.878 [INFO] [SYSTEM] â„¹ï¸ ğŸ“‚ File uploads enabled at: /uploads
2025-11-05 09:34:04.878 [SUCCESS] [OPERATION] âœ… Health Check: http://localhost:5000/health
2025-11-05 09:34:04.878 [INFO] [SYSTEM] â„¹ï¸ Server Details | {
2025-11-05 09:34:04.879 [INFO] [SYSTEM] â„¹ï¸ ğŸ”“ CORS enabled for cross-origin requests
2025-11-05 09:34:04.878 [INFO] [SYSTEM] â„¹ï¸ ğŸ–¼ï¸ Profile pictures: /uploads/profiles
2025-11-05 09:34:04.879 [INFO] [SYSTEM] â„¹ï¸ ğŸ”— Attachments endpoint: /api/v1/tickets/:id/attachments
2025-11-05 09:34:04.879 [INFO] [SYSTEM] â„¹ï¸ ğŸ“ Ticket attachments: /uploads/tickets
2025-11-05 09:34:04.880 [INFO] [SYSTEM] â„¹ï¸ ğŸ“§ Email Queue endpoint: /api/v1/email-queue
2025-11-05 09:34:04.880 [INFO] [SYSTEM] â„¹ï¸ ğŸ“ Email Templates endpoint: /api/v1/email-templates
2025-11-05 09:34:04.881 [INFO] [SYSTEM] â„¹ï¸ ğŸ“§ Starting Email Processor Job...
2025-11-05 09:34:04.879 [INFO] [SYSTEM] â„¹ï¸ ğŸ‘¤ Profile endpoint: /api/v1/profile
2025-11-05 09:34:04.880 [INFO] [SYSTEM] â„¹ï¸ Press CTRL+C to stop the server
2025-11-05 09:34:04.879 [INFO] [SYSTEM] â„¹ï¸ ğŸ‘¥ Users endpoint: /api/v1/users
2025-11-05 09:34:04.887 [SUCCESS] [OPERATION] âœ… âœ… Email Processor Cron Job started successfully
2025-11-05 09:34:04.881 [INFO] [SYSTEM] â„¹ï¸ â° Schedule: Every 5 minutes (*/5 * * * *)
2025-11-05 09:34:04.880 [INFO] [SYSTEM] â„¹ï¸ âœ… Ticket Approvals endpoint: /api/v1/ticket-approvals
2025-11-05 09:34:04.887 [INFO] [SYSTEM] â„¹ï¸ ğŸš¨ Starting Auto-Escalation Job...
2025-11-05 09:34:04.888 [INFO] [SYSTEM] â„¹ï¸ ğŸš¨ Starting Auto-Escalation Cron Job
2025-11-05 09:34:04.888 [INFO] [SYSTEM] â„¹ï¸ ğŸ”’ Starting Auto-Close Tickets Cron Job
2025-11-05 09:34:04.888 [INFO] [SYSTEM] â„¹ï¸ âš ï¸ Starting SLA Breach Detection Job...
2025-11-05 09:34:04.888 [INFO] [SYSTEM] â„¹ï¸ ğŸ”’ Starting Auto-Close Job...
2025-11-05 09:34:04.881 [INFO] [SYSTEM] â„¹ï¸ ğŸ“§ Starting Email Processor Cron Job
2025-11-05 09:34:04.888 [TRY] [OPERATION] ğŸ”„ Loading all settings from database
2025-11-05 09:34:04.888 [INFO] [SYSTEM] â„¹ï¸ âš ï¸ Starting SLA Breach Detection Cron Job
2025-11-05 09:34:04.888 [DEBUG] ğŸ› ğŸ“Š Loading SLA settings from database...
2025-11-05 09:34:04.904 [SUCCESS] [OPERATION] âœ… Settings loaded into cache | {
2025-11-05 09:34:04.905 [INFO] [SYSTEM] â„¹ï¸ ğŸ“Š Status: Disabled
2025-11-05 09:34:04.905 [WARN] [SYSTEM] âš ï¸ âš ï¸ Auto-Close job is DISABLED in settings
2025-11-05 09:34:04.908 [INFO] [SYSTEM] â„¹ï¸ â° Schedule: Every 15 minutes (*/15 * * * *)
2025-11-05 09:34:04.908 [SUCCESS] [OPERATION] âœ… âœ… Settings loaded from database | {
2025-11-05 09:34:04.909 [INFO] [SYSTEM] â„¹ï¸ âš ï¸ Warning Threshold: 90%
2025-11-05 09:34:04.909 [INFO] [SYSTEM] â„¹ï¸ ğŸ“Š Status: Enabled
2025-11-05 09:34:04.909 [INFO] [SYSTEM] â„¹ï¸ ğŸ“… Working Days: mon, tue, wed, thu, fri, sat
2025-11-05 09:34:04.910 [SUCCESS] [OPERATION] âœ… âœ… SLA Breach Detection Cron Job started successfully
2025-11-05 09:34:04.909 [INFO] [SYSTEM] â„¹ï¸ ğŸ• Business Hours: 09:00 - 17:00
2025-11-05 09:34:04.915 [INFO] [SYSTEM] â„¹ï¸ â° Schedule: 0 */1 * * *
2025-11-05 09:34:04.915 [INFO] [SYSTEM] â„¹ï¸ ğŸ“Š Status: Enabled
2025-11-05 09:34:04.917 [SUCCESS] [OPERATION] âœ… âœ… Auto-Escalation Cron Job started successfully
2025-11-05 09:34:09.898 [INFO] [SYSTEM] â„¹ï¸ ğŸ”„ Processing pending emails...
2025-11-05 09:34:09.899 [TRY] [OPERATION] ğŸ”„ Processing pending emails in queue
2025-11-05 09:34:09.906 [INFO] [SYSTEM] â„¹ï¸ No pending emails to process
2025-11-05 09:34:09.906 [INFO] [SYSTEM] â„¹ï¸ ğŸ“­ No pending emails to process
2025-11-05 09:34:14.922 [INFO] [SYSTEM] â„¹ï¸ ğŸ” Starting SLA breach check
2025-11-05 09:34:14.923 [INFO] [SYSTEM] â„¹ï¸ â° Execution Time: 05/11/2025, 09:34:14 am IST
2025-11-05 09:34:14.924 [DEBUG] ğŸ› ğŸ“Š Loading SLA settings from database...
2025-11-05 09:34:14.928 [SUCCESS] [OPERATION] âœ… âœ… Settings loaded from database | {
2025-11-05 09:34:14.933 [INFO] [SYSTEM] â„¹ï¸ â¸ï¸ Auto-escalation is DISABLED in settings
2025-11-05 09:34:14.933 [INFO] [SYSTEM] â„¹ï¸ ğŸ”„ Processing auto-escalation [69]
2025-11-05 09:34:14.947 [INFO] [SYSTEM] â„¹ï¸ ğŸ« Found 15 open tickets to check
2025-11-05 09:34:14.947 [INFO] [SYSTEM] â„¹ï¸ âš ï¸ Using warning threshold: 90% (from database)
2025-11-05 09:34:14.948 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.948 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: TKT-20251015-0001 | {
2025-11-05 09:34:14.949 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251028-0001 | {
2025-11-05 09:34:14.949 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.949 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251029-0007 | {
2025-11-05 09:34:14.950 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.950 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251029-0010 | {
2025-11-05 09:34:14.950 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.951 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.950 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251029-0001 | {
2025-11-05 09:34:14.951 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251029-0002 | {
2025-11-05 09:34:14.951 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.951 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251029-0006 | {
2025-11-05 09:34:14.952 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251029-0005 | {
2025-11-05 09:34:14.951 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.952 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.952 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: SUV-20251029-0009 | {
2025-11-05 09:34:14.953 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.953 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: TKT-20251028-0001 | {
2025-11-05 09:34:14.954 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.954 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: ABCD-20251030-0001 | {
2025-11-05 09:34:14.954 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.954 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: ABCD-20251101-0001 | {
2025-11-05 09:34:14.955 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.955 [ERROR] ğŸš¨ ğŸ”´ SLA BREACH: ABCD-20251103-0001 | {
2025-11-05 09:34:14.955 [DEBUG] ğŸ› Breach notification already sent, skipping
2025-11-05 09:34:14.955 [INFO] [SYSTEM] â„¹ï¸ âœ… OK: 2 tickets
2025-11-05 09:34:14.956 [ERROR] ğŸš¨ ğŸ”´ Breaches: 13 tickets
2025-11-05 09:34:14.956 [WARN] [SYSTEM] âš ï¸ âš ï¸ Warnings: 0 tickets (threshold: 90%)
2025-11-05 09:34:14.956 [INFO] [SYSTEM] â„¹ï¸ â±ï¸ Duration: 34ms
2025-11-05 09:35:00.030 [INFO] [SYSTEM] â„¹ï¸ ğŸ”„ Processing pending emails...
2025-11-05 09:35:00.030 [TRY] [OPERATION] ğŸ”„ Processing pending emails in queue
2025-11-05 09:35:00.086 [INFO] [SYSTEM] â„¹ï¸ No pending emails to process
2025-11-05 09:35:00.086 [INFO] [SYSTEM] â„¹ï¸ ğŸ“­ No pending emails to process
2025-11-05 09:40:00.037 [INFO] [SYSTEM] â„¹ï¸ ğŸ”„ Processing pending emails...
2025-11-05 09:40:00.037 [TRY] [OPERATION] ğŸ”„ Processing pending emails in queue
2025-11-05 09:40:00.090 [INFO] [SYSTEM] â„¹ï¸ No pending emails to process
2025-11-05 09:40:00.091 [INFO] [SYSTEM] â„¹ï¸ ğŸ“­ No pending emails to process
2025-11-05 10:24:57.975 [INFO] [SYSTEM] â„¹ï¸ ğŸ“¥ Incoming Request | {
2025-11-05 10:24:57.983 [WARN] [SYSTEM] âš ï¸ ğŸ“¤ Response Sent | {
2025-11-05 10:24:57.977 [TRY] [OPERATION] ğŸ”„ Authenticating request | {
2025-11-05 10:24:57.977 [WARN] [SYSTEM] âš ï¸ Authentication failed - No token provided | {
2025-11-05 10:24:58.282 [INFO] [SYSTEM] â„¹ï¸ ğŸ“¥ Incoming Request | {
2025-11-05 10:24:58.284 [TRY] [OPERATION] ğŸ”„ Loading all settings from database
2025-11-05 10:24:58.283 [TRY] [OPERATION] ğŸ”„ Fetching public settings
2025-11-05 10:24:58.348 [SUCCESS] [OPERATION] âœ… Settings loaded into cache | {
2025-11-05 10:24:58.349 [SUCCESS] [OPERATION] âœ… Public settings retrieved | {
2025-11-05 10:24:58.351 [INFO] [SYSTEM] â„¹ï¸ ğŸ“¤ Response Sent | {
2025-11-05 10:25:00.022 [INFO] [SYSTEM] â„¹ï¸ ğŸ”„ Processing pending emails...
2025-11-05 10:25:00.023 [TRY] [OPERATION] ğŸ”„ Processing pending emails in queue
2025-11-05 10:25:00.030 [INFO] [SYSTEM] â„¹ï¸ No pending emails to process
2025-11-05 10:25:00.030 [INFO] [SYSTEM] â„¹ï¸ ğŸ“­ No pending emails to process
2025-11-05 10:25:09.524 [DEBUG] ğŸ› Request Body | {
2025-11-05 10:25:09.526 [TRY] [OPERATION] ğŸ”„ User attempting to login | {
2025-11-05 10:25:09.522 [INFO] [SYSTEM] â„¹ï¸ ğŸ“¥ Incoming Request | {
2025-11-05 10:25:09.526 [TRY] [OPERATION] ğŸ”„ Checking if user exists in database
2025-11-05 10:25:09.534 [TRY] [OPERATION] ğŸ”„ Verifying password
2025-11-05 10:25:09.606 [SUCCESS] [OPERATION] âœ… Password comparison successful - Match found
2025-11-05 10:25:09.609 [TRY] [OPERATION] ğŸ”„ Generating JWT token
2025-11-05 10:25:09.608 [SUCCESS] [OPERATION] âœ… Password verified successfully
2025-11-05 10:25:09.534 [SUCCESS] [OPERATION] âœ… User found in database | {
2025-11-05 10:25:09.612 [SUCCESS] [OPERATION] âœ… JWT token generated successfully | {
2025-11-05 10:25:09.613 [SUCCESS] [OPERATION] âœ… JWT token generated successfully
2025-11-05 10:25:09.534 [TRY] [OPERATION] ğŸ”„ Comparing password with hash
2025-11-05 10:25:09.613 [TRY] [OPERATION] ğŸ”„ Creating user session record
2025-11-05 10:25:09.609 [TRY] [OPERATION] ğŸ”„ Generating JWT token | {
2025-11-05 10:25:09.622 [TRY] [OPERATION] ğŸ”„ Updating last login timestamp
2025-11-05 10:25:09.621 [SUCCESS] [OPERATION] âœ… Session record created
2025-11-05 10:25:09.631 [TRY] [OPERATION] ğŸ”„ Creating login notification
2025-11-05 10:25:09.631 [TRY] [OPERATION] ğŸ”„ Creating notification | {
2025-11-05 10:25:09.630 [SUCCESS] [OPERATION] âœ… Last login timestamp updated
2025-11-05 10:25:09.638 [SUCCESS] [OPERATION] âœ… Notification created | {
2025-11-05 10:25:09.639 [SUCCESS] [OPERATION] âœ… Login notification created
2025-11-05 10:25:09.642 [SUCCESS] [OPERATION] âœ… User logged in successfully | {
2025-11-05 10:25:09.643 [SUCCESS] [OPERATION] âœ… ğŸ“¤ Response Sent | {
2025-11-05 10:25:09.663 [INFO] [SYSTEM] â„¹ï¸ ğŸ“¥ Incoming Request | {
2025-11-05 10:25:09.664 [TRY] [OPERATION] ğŸ”„ Verifying JWT token
2025-11-05 10:25:09.664 [TRY] [OPERATION] ğŸ”„ Authenticating request | {
2025-11-05 10:25:09.667 [SUCCESS] [OPERATION] âœ… JWT token verified successfully | {
2025-11-05 10:25:09.668 [TRY] [OPERATION] ğŸ”„ Checking user session validity | {
2025-11-05 10:25:09.678 [TRY] [OPERATION] ğŸ”„ Fetching user details with permissions | {
2025-11-05 10:25:09.683 [SUCCESS] [OPERATION] âœ… âœ… User authenticated successfully | {
2025-11-05 10:25:09.685 [TRY] [OPERATION] ğŸ”„ Calculating total tickets
2025-11-05 10:25:09.682 [INFO] [SYSTEM] â„¹ï¸ ğŸ” User permissions loaded | {
2025-11-05 10:25:09.685 [TRY] [OPERATION] ğŸ”„ Fetching dashboard statistics | {
2025-11-05 10:25:09.689 [SUCCESS] [OPERATION] âœ… Total tickets calculated | {
2025-11-05 10:25:09.690 [TRY] [OPERATION] ğŸ”„ Calculating tickets by status
2025-11-05 10:25:09.699 [SUCCESS] [OPERATION] âœ… Status counts calculated | {
2025-11-05 10:25:09.700 [TRY] [OPERATION] ğŸ”„ Calculating escalated tickets
2025-11-05 10:25:09.704 [SUCCESS] [OPERATION] âœ… Escalated tickets calculated | {
2025-11-05 10:25:09.705 [TRY] [OPERATION] ğŸ”„ Calculating SLA statistics
2025-11-05 10:25:09.728 [SUCCESS] [OPERATION] âœ… SLA statistics calculated | {
2025-11-05 10:25:09.729 [TRY] [OPERATION] ğŸ”„ Fetching recent tickets
2025-11-05 10:25:09.737 [SUCCESS] [OPERATION] âœ… Recent tickets fetched | {
2025-11-05 10:25:09.737 [TRY] [OPERATION] ğŸ”„ Calculating tickets by priority
2025-11-05 10:25:09.745 [SUCCESS] [OPERATION] âœ… Priority counts calculated
2025-11-05 10:25:09.746 [TRY] [OPERATION] ğŸ”„ Calculating my assigned tickets
2025-11-05 10:25:09.750 [SUCCESS] [OPERATION] âœ… My assigned tickets calculated | {
2025-11-05 10:25:09.751 [SUCCESS] [OPERATION] âœ… Dashboard statistics compiled successfully | {
2025-11-05 10:25:09.754 [SUCCESS] [OPERATION] âœ… ğŸ“¤ Response Sent | {
2025-11-05 10:25:09.759 [INFO] [SYSTEM] â„¹ï¸ ğŸ“¥ Incoming Request | {
2025-11-05 10:25:09.761 [SUCCESS] [OPERATION] âœ… JWT token verified successfully | {
2025-11-05 10:25:09.760 [TRY] [OPERATION] ğŸ”„ Verifying JWT token
2025-11-05 10:25:09.760 [TRY] [OPERATION] ğŸ”„ Authenticating request | {
2025-11-05 10:25:09.761 [TRY] [OPERATION] ğŸ”„ Checking user session validity | {
2025-11-05 10:25:09.770 [TRY] [OPERATION] ğŸ”„ Fetching user details with permissions | {
2025-11-05 10:25:09.777 [TRY] [OPERATION] ğŸ”„ Fetching dashboard statistics | {
2025-11-05 10:25:09.777 [TRY] [OPERATION] ğŸ”„ Calculating total tickets
2025-11-05 10:25:09.773 [INFO] [SYSTEM] â„¹ï¸ ğŸ” User permissions loaded | {
2025-11-05 10:25:09.775 [SUCCESS] [OPERATION] âœ… âœ… User authenticated successfully | {
2025-11-05 10:25:09.779 [SUCCESS] [OPERATION] âœ… Total tickets calculated | {
2025-11-05 10:25:09.780 [TRY] [OPERATION] ğŸ”„ Calculating tickets by status
2025-11-05 10:25:09.782 [SUCCESS] [OPERATION] âœ… Status counts calculated | {
2025-11-05 10:25:09.783 [TRY] [OPERATION] ğŸ”„ Calculating escalated tickets
2025-11-05 10:25:09.786 [SUCCESS] [OPERATION] âœ… Escalated tickets calculated | {
2025-11-05 10:25:09.786 [TRY] [OPERATION] ğŸ”„ Calculating SLA statistics
2025-11-05 10:25:09.793 [SUCCESS] [OPERATION] âœ… SLA statistics calculated | {
2025-11-05 10:25:09.794 [TRY] [OPERATION] ğŸ”„ Fetching recent tickets
2025-11-05 10:25:09.797 [TRY] [OPERATION] ğŸ”„ Calculating tickets by priority
2025-11-05 10:25:09.797 [SUCCESS] [OPERATION] âœ… Recent tickets fetched | {
2025-11-05 10:25:09.799 [SUCCESS] [OPERATION] âœ… Priority counts calculated
2025-11-05 10:25:09.799 [TRY] [OPERATION] ğŸ”„ Calculating my assigned tickets
2025-11-05 10:25:09.801 [SUCCESS] [OPERATION] âœ… My assigned tickets calculated | {
2025-11-05 10:25:09.802 [SUCCESS] [OPERATION] âœ… Dashboard statistics compiled successfully | {
2025-11-05 10:25:09.808 [SUCCESS] [OPERATION] âœ… ğŸ“¤ Response Sent | {
